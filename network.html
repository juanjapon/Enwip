<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" href="/Enwipweb/style.css">
	<link rel="shortcut icon" href="/Enwipweb/imagenes/ENWIP_favicon.ico">
			<link type="text/css" href="javascripts/jquery/css/ui-lightness/jquery-ui-1.8.16.custom.css" rel="stylesheet" />
		<script type="text/javascript" src="javascripts/jquery/js/jquery-1.6.2.min.js"></script>
		<script type="text/javascript" src="javascripts/jquery/js/jquery-ui-1.8.16.custom.min.js"></script>
	
	<title>ENWIP</title>
	<script src="javascripts/utilidades.js" language="javascript"></script>
	

	
	<script language="JavaScript"><!--
	$(function() {
		$( "#cuaderno" ).draggable();
	});
	var xhr;
	var obj;
	function cargarAreas(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarAreasFormulario","GET","procesaAreas", null);
		}
	function cargarPreguntas(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarPreguntas","GET","procesaPreguntas", null);
		}
	function cargarClases(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarClases","GET","procesaClases", null);
		}
	function cargarCharlas(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarCharlas","GET","procesaCharlas", null);
		}

	function cargarTipoInversion(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarTipoInversionFormulario","GET","procesaTipoInversion", null);
		}
	function cargarNivelInversion(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarNivelInversionFormulario","GET","procesaNivelInversion", null);
		}
	function cargarInversionista(){
		
		obj.enviar("http://localhost:8080/Enwipweb/CargarTipoInversionistaFormulario","GET","procesaTipoInversionista", null);
		}
	 function cargarDatos()
     { 
       obj.enviar("http://localhost:8080/Enwipweb/CargarPaisesFormulario","GET","procesaDatos", null);
       
        
     }
     function procesaCharlas(){
    	 borrarTexto();
    	 document.getElementById("titulo").innerHTML="<h2>Charlas</h2>";
    	
			var charlas=eval("("+obj.respuestaTexto()+")");
			var tablaCharlas=document.createElement("table");
			tablaCharlas.className="tabla_mensajes";
			var trTit=document.createElement("tr");
			var tdTitCharla=document.createElement("td");
			var nom=document.createElement("h3");
			nom.appendChild(document.createTextNode("Nombre"));
			tdTitCharla.appendChild(nom);
			var tdTitVotos=document.createElement("td");
			var nu=document.createElement("h3");
			nu.appendChild(document.createTextNode("Numero de votos"));
			tdTitVotos.appendChild(nu);
			trTit.appendChild(tdTitCharla);
			trTit.appendChild(tdTitVotos);
			tablaCharlas.appendChild(trTit);
			for(var elm=0;elm<charlas.length;elm++){
				
				
				var trCharla=document.createElement("tr");
				var clase=crearBoton(charlas[elm].Nombre);
				clase.id="clase_"+charlas[elm].Id;
				
				clase.onclick=function (evento){
					var idp=evento.srcElement.id;
	            	   traerDatosCharla(idp);
					}
				var tdCharla=document.createElement("td");
				var tdVotos=document.createElement("td");
				tdCharla.appendChild(clase);
				tdVotos.appendChild(document.createTextNode(charlas[elm].Votos));
				trCharla.appendChild(tdCharla);
				trCharla.appendChild(tdVotos);
				tablaCharlas.appendChild(trCharla);	
				}
			document.getElementById("texto").appendChild(crearTablaBuscar("charlas"));
			document.getElementById("formularios").appendChild(tablaCharlas);
         }
     function traerDatosCharla(id){
    	 var cad = "";
	  	    
	      cad = "Id="+id;

	 

    		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosCharla","POST","procesaCharla", cad);
         }
     function procesaCharla(){
		 borrarTexto();

		var Charla=eval("("+obj.respuestaTexto()+")");
		
		var tablaMeGusta=document.createElement("table"); 
		tablaMeGusta.className="tabla_mensajes";
		var trMeGusta=document.createElement("tr");
		var tdBoton=document.createElement("td");
		var tdVotos=document.createElement("td");
		var tdNoBoton=document.createElement("td");
		var numVotos=document.createElement("input");
		numVotos.type="text";
		numVotos.setAttribute("class","inventario");
		numVotos.id="numeroVotos";
		numVotos.disabled=true;
		numVotos.value=Charla.Votos;
		var noMeGusta=crearBoton("No me gusta");
		noMeGusta.id="no_"+Charla.Id;
		noMeGusta.onclick=function(evento){
			
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			votarNoCharla(aux[1]);
			}
		if(Charla.Negativo=="true"){
				noMeGusta.disabled=true;
			}
		var megusta=crearBoton("Me gusta");
		megusta.id=Charla.Id;
		megusta.onclick=function(evento){
			var idp=evento.srcElement.id;
			votarCharla(idp);
			}
		if(Charla.Votado=="true"){
				megusta.disabled=true;
			}
		
		tdBoton.appendChild(megusta);
		tdVotos.appendChild(numVotos);
		tdNoBoton.appendChild(noMeGusta);
		trMeGusta.appendChild(tdBoton);
		trMeGusta.appendChild(tdVotos);
		trMeGusta.appendChild(tdNoBoton);
		tablaMeGusta.appendChild(trMeGusta);
		document.getElementById("texto").appendChild(tablaMeGusta);
		
		var tablaCharla=document.createElement("table");
		tablaCharla.className="tabla_mensajes";
		var trVideo=document.createElement("tr");
		var trNombre=document.createElement("tr");
		var trProfDesc=document.createElement("tr");
		var trProfesor=document.createElement("tr");
		var trDescripcion=document.createElement("tr");
		var tdTitNombre=document.createElement("td");
		var tdTitProfDesc=document.createElement("td");
		var tdTitProfesor=document.createElement("td");
		var tdTitDescripcion=document.createElement("td");
		var tdVideo=document.createElement("td");
		tdVideo.setAttribute("colspan","2");
		var tdNombre=document.createElement("td");
		var tdProfesor=document.createElement("td");
		var tdProfDesc=document.createElement("td");
		var tdDescripcion=document.createElement("td");
		tdTitNombre.appendChild(document.createTextNode("Charla :"));
		tdTitProfesor.appendChild(document.createTextNode("Profesor :"));
		tdTitProfDesc.appendChild(document.createTextNode("Acerca de "+Charla.Profesor+" :"));
		tdTitDescripcion.appendChild(document.createTextNode("Descripcion :"));
		tdNombre.appendChild(document.createTextNode(Charla.Nombre));
		tdProfesor.appendChild(document.createTextNode(Charla.Profesor));
		tdProfDesc.appendChild(document.createTextNode(Charla.ProfDesc));
		tdDescripcion.appendChild(document.createTextNode(Charla.Descripcion));
		trNombre.appendChild(tdTitNombre);
		trNombre.appendChild(tdNombre);

		trProfesor.appendChild(tdTitProfesor);
		trProfesor.appendChild(tdProfesor);
		trProfDesc.appendChild(tdTitProfDesc);
		trProfDesc.appendChild(tdProfDesc);
		trDescripcion.appendChild(tdTitDescripcion);
		trDescripcion.appendChild(tdDescripcion);

		var cent=document.createElement("center");
		var video=document.createElement("video");
		video.setAttribute("width","500");
		video.setAttribute("height","300");
		video.setAttribute("controls","controls");
		video.setAttribute("src",Charla.Contenido);
		cent.appendChild(video);
		tdVideo.appendChild(cent);
		trVideo.appendChild(tdVideo);
		tablaCharla.appendChild(trVideo);
		tablaCharla.appendChild(trNombre);
		tablaCharla.appendChild(trProfesor);
		tablaCharla.appendChild(trProfDesc);
		tablaCharla.appendChild(trDescripcion);
		document.getElementById("formularios").appendChild(tablaCharla);

		  var trComentarios=document.createElement("tr");
	        var tdComentarios=document.createElement("td");
	        tdComentarios.setAttribute("colspan","2");
	        var tablaComentarios=document.createElement("table");
	        tablaComentarios.className="tabla_mensajes";
	        tablaComentarios.id="tablaComentarios";
			var comentarios=Charla.Comentarios;
	 		for (var elm = 0;elm < comentarios.length;elm++)
	        {    
	 	        var item=document.createElement("tr");
	 	       var tablaComentario=document.createElement("table");
	 	       tablaComentario.className="tabla_mensajes"; 
	 	       var trComent=document.createElement("tr");
	 	       var tdComent=document.createElement("td");
	 	           tdComent.setAttribute("colspan","2");
	 	          tdComent.appendChild(document.createTextNode(comentarios[elm].Comentario));
	 	          trComent.appendChild(tdComent);
  	 	          var tdFecha=document.createElement("td");
  	 	       tdFecha.className="fecha";
  	 	          tdFecha.appendChild(document.createTextNode(comentarios[elm].Fecha));
  	 	          trComent.appendChild(tdFecha);
	 	       var trUsuario=document.createElement("tr");
	 	       var tdFoto=document.createElement("td");
	 	       var tdNombreU=document.createElement("td");
	 	      var imagen=document.createElement("img");
				imagen.setAttribute("width","30");
				imagen.setAttribute("height","60");
				if(comentarios[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",comentarios[elm].Imagen);
					}
	             tdFoto.appendChild(imagen);
	             tdNombreU.appendChild(document.createTextNode(comentarios[elm].usuario))
	             trUsuario.appendChild(tdFoto);
	             trUsuario.appendChild(tdNombreU);
	             tablaComentario.appendChild(trComent);
	             tablaComentario.appendChild(trUsuario);
	             item.appendChild(tablaComentario);
	             tablaComentarios.appendChild(item);
	           

	             
	        }
	 		
	 		
	 		  var cuadro=document.createElement('textarea');
	 		 
	 		  cuadro.id="nuevoComent";
	 		  cuadro.name="Nuevo comentario";
	 		  cuadro.rows='5';
	 		  cuadro.cols='80';
	 		 document.getElementById("final").appendChild(cuadro);
	 		 
	 		  var botonEnviar=crearBoton("Comentar");
	 		  
			    botonEnviar.onclick=function() {
			    	  
			    	  enviarComentarioCharla(Charla.Id,document.getElementById("nuevoComent").value);
			    	  
			      }
			      document.getElementById("final").appendChild(botonEnviar);
			tdComentarios.appendChild(tablaComentarios)
			trComentarios.appendChild(tdComentarios);
			tablaCharla.appendChild(trComentarios);
			document.getElementById("formularios").appendChild(tablaCharla);


		
		 }
     
	 function votarNoCharla(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/VotarNoCharla","POST","organizarNoVotos", cad);
		 }
	 function votarCharla(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/VotarCharla","POST","organizarNumeroDeVotos", cad);
		 }
	 function votarIdea(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/VotarIdea","POST","organizarNumeroDeVotos", cad);
		 }
	 
	 function invertirIdea(Id,monto){
	      	var datos=new Array();
	      	var cad1="id"+"="+Id;
	      	var cad2="monto"+"="+monto;
	      	datos.push(cad1);
	      	datos.push(cad2);
	      	var cad=datos.join("&");
		 obj.enviarUno("http://localhost:8080/Enwipweb/InvertirIdea","POST","organizarInversionRecogida", cad);
		 }
	 
	 function votarNoClase(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/VotarNoClase","POST","organizarNoVotos", cad);
		 }
	 function votarClase(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/VotarClase","POST","organizarNumeroDeVotos", cad);
		 }
	 
	 function organizarInversionRecogida(){
		 var inversion=obj.respuestaTexto();
		

			document.getElementById("numeroVotos").value=inversion;
			
		 }
	 
	 function organizarNoVotos(){
		 var id=obj.respuestaTexto();

			
			document.getElementById("no_"+id).disabled=true;
		 }
	 function organizarNumeroDeVotos(){
		 var id=obj.respuestaTexto();
			var num=parseInt(document.getElementById("numeroVotos").value);
			num=num+1;
			document.getElementById("numeroVotos").value=num;
			document.getElementById(id).disabled=true;
		 }
     function enviarComentarioCharla(Id,coment){
      	var datos=new Array();
      	var cad1="id"+"="+Id;
      	var cad2="comentario"+"="+coment;
      	datos.push(cad1);
      	datos.push(cad2);
      	var cad=datos.join("&");
      	obj.enviarUno("http://localhost:8080/Enwipweb/GuardarComentarioCharla","POST","mostrarNuevoComentarioCharla", cad);
      	
      }
      function mostrarNuevoComentarioCharla(){
     	 var item=document.createElement("tr");
 	       var tablaComentario=document.createElement("table"); 
 	       tablaComentario.className="tabla_mensajes";
 	       var trComent=document.createElement("tr");
  	       var tdComent=document.createElement("td");
 	           tdComent.setAttribute("colspan","2");
 	           tdComent.appendChild(document.createTextNode(document.getElementById("nuevoComent").value));
 	           trComent.appendChild(tdComent);
 	          var tdFecha=document.createElement("td");
 	         tdFecha.className="fecha";
 	         var f = new Date();
	 	          tdFecha.appendChild(document.createTextNode( f.getFullYear() + "-" + (f.getMonth() +1) + "-" + f.getDate()));
	 	          trComent.appendChild(tdFecha);
 	         
 	        
 	       var trUsuario=document.createElement("tr");
 	       var tdFoto=document.createElement("td");
 	       var tdNombreU=document.createElement("td");
 	      var imagen=document.createElement("img");
 			imagen.setAttribute("width","30");
 			imagen.setAttribute("height","60");
 			imagen.setAttribute("src",document.getElementById("fotoUsuario").src);
            tdFoto.appendChild(imagen);
            tdNombreU.appendChild(document.createTextNode(document.getElementById("datosUsuarioNombre").innerHTML));
            trUsuario.appendChild(tdFoto);
            trUsuario.appendChild(tdNombreU);
            tablaComentario.appendChild(trComent);
            tablaComentario.appendChild(trUsuario);
            item.appendChild(tablaComentario);
            
          
          document.getElementById("tablaComentarios").appendChild(item);
          document.getElementById("nuevoComent").value="";
      	
      }
	 function procesaClases(){
		 borrarTexto();
			var clases=eval("("+obj.respuestaTexto()+")");
			var tablaClases=document.createElement("table");
			tablaClases.className="tabla_mensajes";
			document.getElementById("titulo").innerHTML="<h2>Clases</h2>";
			var trTit=document.createElement("tr");
			var tdTitClase=document.createElement("td");
			var nom=document.createElement("h3");
			nom.appendChild(document.createTextNode("Nombre"));
			tdTitClase.appendChild(nom);
			var tdTitVotos=document.createElement("td");
			var nDv=document.createElement("h3");
			nDv.appendChild(document.createTextNode("Numero de votos"));
			tdTitVotos.appendChild(nDv);
			trTit.appendChild(tdTitClase);
			trTit.appendChild(tdTitVotos);
			tablaClases.appendChild(trTit);
			for(var elm=0;elm<clases.length;elm++){
				
				
				var trClase=document.createElement("tr");
				var tdClase=document.createElement("td");
				var tdVotos=document.createElement("td");
				var clase=crearBoton(clases[elm].Nombre);
				clase.id="clase_"+clases[elm].Id;
				
				clase.onclick=function (evento){
					var idp=evento.srcElement.id;
	            	   traerDatosClase(idp);
					}

				tdClase.appendChild(clase);
				tdVotos.appendChild(document.createTextNode(clases[elm].Votos));
				trClase.appendChild(tdClase);
				trClase.appendChild(tdVotos);
				tablaClases.appendChild(trClase);	
				}
			document.getElementById("texto").appendChild(crearTablaBuscar("clases"));
			document.getElementById("formularios").appendChild(tablaClases);
		 }
	 function traerDatosClase(id){
		 var cad = "";
	  	    
	      cad = "Id="+id;
 
	 

     		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosClase","POST","procesaClase", cad);
		 }
	 function procesaClase(){
		 borrarTexto();
		var clase=eval("("+obj.respuestaTexto()+")");
		var tablaMeGusta=document.createElement("table"); 
		tablaMeGusta.className="tabla_mensajes";
		var trMeGusta=document.createElement("tr");
		var tdBoton=document.createElement("td");
		var tdVotos=document.createElement("td");
		var tdNoBoton=document.createElement("td");
		var numVotos=document.createElement("input");
		numVotos.type="text";
		numVotos.setAttribute("class","inventario");
		numVotos.id="numeroVotos";
		numVotos.disabled=true;
		numVotos.value=clase.Votos;
		var noMeGusta=crearBoton("No me gusta");
		noMeGusta.id="no_"+clase.Id;
		noMeGusta.onclick=function(evento){
			
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			votarNoClase(aux[1]);
			}
		if(clase.Negativo=="true"){
				noMeGusta.disabled=true;
			}
		var megusta=crearBoton("Me gusta");
		megusta.id=clase.Id;
		megusta.onclick=function(evento){
			var idp=evento.srcElement.id;
			votarClase(idp);
			}
		if(clase.Votado=="true"){
				megusta.disabled=true;
			}
		
		tdBoton.appendChild(megusta);
		tdVotos.appendChild(numVotos);
		tdNoBoton.appendChild(noMeGusta);
		trMeGusta.appendChild(tdBoton);
		trMeGusta.appendChild(tdVotos);
		trMeGusta.appendChild(tdNoBoton);
		tablaMeGusta.appendChild(trMeGusta);
		document.getElementById("texto").appendChild(tablaMeGusta);
		var tablaClase=document.createElement("table");
		tablaClase.className="tabla_mensajes";
		var trVideo=document.createElement("tr");
		var trNombre=document.createElement("tr");
		var trProfesor=document.createElement("tr");
		var trDescripcion=document.createElement("tr");
		var tdTitNombre=document.createElement("td");
		var tdTitProfesor=document.createElement("td");
		var tdTitDescripcion=document.createElement("td");
		var tdVideo=document.createElement("td");
		tdVideo.setAttribute("colspan","2");
		var tdNombre=document.createElement("td");
		var tdProfesor=document.createElement("td");
		var tdDescripcion=document.createElement("td");
		tdTitNombre.appendChild(document.createTextNode("Clase :"));
		tdTitProfesor.appendChild(document.createTextNode("Profesor :"));
		tdTitDescripcion.appendChild(document.createTextNode("Descripcion :"));
		tdNombre.appendChild(document.createTextNode(clase.Nombre));
		tdProfesor.appendChild(document.createTextNode(clase.Profesor));
		tdDescripcion.appendChild(document.createTextNode(clase.Descripcion));
		trNombre.appendChild(tdTitNombre);
		trNombre.appendChild(tdNombre);

		trProfesor.appendChild(tdTitProfesor);
		trProfesor.appendChild(tdProfesor);

		trDescripcion.appendChild(tdTitDescripcion);
		trDescripcion.appendChild(tdDescripcion);
		var cent=document.createElement("center");
		var video=document.createElement("video");
		video.setAttribute("width","500");
		video.setAttribute("height","300");
		video.setAttribute("controls","controls");
		video.setAttribute("src",clase.Contenido);
		cent.appendChild(video);
		tdVideo.appendChild(cent);
		trVideo.appendChild(tdVideo);
		tablaClase.appendChild(trVideo);
		tablaClase.appendChild(trNombre);
		tablaClase.appendChild(trProfesor);
		tablaClase.appendChild(trDescripcion);

		
        var trComentarios=document.createElement("tr");
        var tdComentarios=document.createElement("td");
        tdComentarios.setAttribute("colspan","2");
        var tablaComentarios=document.createElement("table");
        tablaComentarios.className="tabla_mensajes";
        tablaComentarios.id="tablaComentarios";
		var comentarios=clase.Comentarios;
 		for (var elm = 0;elm < comentarios.length;elm++)
        {    
 	        var item=document.createElement("tr");
 	       var tablaComentario=document.createElement("table"); 
 	       tablaComentario.className="tabla_mensajes";
 	       var trComent=document.createElement("tr");
 	       var tdComent=document.createElement("td");
 	           tdComent.setAttribute("colspan","2");
 	          tdComent.appendChild(document.createTextNode(comentarios[elm].Comentario));
 	          trComent.appendChild(tdComent);
	 	          var tdFecha=document.createElement("td");
	 	         tdFecha.className="fecha";
  	 	          tdFecha.appendChild(document.createTextNode(comentarios[elm].Fecha));
  	 	          trComent.appendChild(tdFecha);
 	       var trUsuario=document.createElement("tr");
 	       var tdFoto=document.createElement("td");
 	       var tdNombreU=document.createElement("td");
 	      var imagen=document.createElement("img");
			imagen.setAttribute("width","30");
			imagen.setAttribute("height","60");
			if(comentarios[elm].Imagen=="null"){
				imagen.setAttribute("src","imagenes/foto_perfil.jpg");
				}
			else{
				imagen.setAttribute("src",comentarios[elm].Imagen);
				}
             tdFoto.appendChild(imagen);
             tdNombreU.appendChild(document.createTextNode(comentarios[elm].usuario))
             trUsuario.appendChild(tdFoto);
             trUsuario.appendChild(tdNombreU);
             tablaComentario.appendChild(trComent);
             tablaComentario.appendChild(trUsuario);
             item.appendChild(tablaComentario);
             tablaComentarios.appendChild(item);
           

             
        }
 		
 		
 		  var cuadro=document.createElement('textarea');
 		 
 		  cuadro.id="nuevoComent";
 		  cuadro.name="Nuevo comentario";
 		  cuadro.rows='5';
 		  cuadro.cols='80';
 		 document.getElementById("final").appendChild(cuadro);
 		 
 		  var botonEnviar=crearBoton("Comentar");
 		  
		    botonEnviar.onclick=function() {
		    	  
		    	  enviarComentarioClase(clase.Id,document.getElementById("nuevoComent").value);
		    	  
		      }
		      document.getElementById("final").appendChild(botonEnviar);
		tdComentarios.appendChild(tablaComentarios)
		trComentarios.appendChild(tdComentarios);
		tablaClase.appendChild(trComentarios);
		document.getElementById("formularios").appendChild(tablaClase);
		
		 }
	 function enviarComentarioClase(Id,coment){
     	var datos=new Array();
     	var cad1="id"+"="+Id;
     	var cad2="comentario"+"="+coment;
     	datos.push(cad1);
     	datos.push(cad2);
     	var cad=datos.join("&");
     	obj.enviarUno("http://localhost:8080/Enwipweb/GuardarComentarioClase","POST","mostrarNuevoComentarioClase", cad);
     	
     }
     function mostrarNuevoComentarioClase(){
    	 var item=document.createElement("tr");
	       var tablaComentario=document.createElement("table"); 
	       tablaComentario.className="tabla_mensajes";
	       var trComent=document.createElement("tr");
 	       var tdComent=document.createElement("td");
	           tdComent.setAttribute("colspan","2");
	           tdComent.appendChild(document.createTextNode(document.getElementById("nuevoComent").value));
	           trComent.appendChild(tdComent);
	 	          var tdFecha=document.createElement("td");
	 	         tdFecha.className="fecha";
	  	         var f = new Date();
	 	 	          tdFecha.appendChild( document.createTextNode(f.getFullYear() + "-" + (f.getMonth() +1) + "-" + f.getDate()));
	 	 	          trComent.appendChild(tdFecha);
	       var trUsuario=document.createElement("tr");
	       var tdFoto=document.createElement("td");
	       var tdNombreU=document.createElement("td");
	      var imagen=document.createElement("img");
			imagen.setAttribute("width","30");
			imagen.setAttribute("height","60");
			imagen.setAttribute("src",document.getElementById("fotoUsuario").src);
           tdFoto.appendChild(imagen);
           tdNombreU.appendChild(document.createTextNode(document.getElementById("datosUsuarioNombre").innerHTML));
           trUsuario.appendChild(tdFoto);
           trUsuario.appendChild(tdNombreU);
           tablaComentario.appendChild(trComent);
           tablaComentario.appendChild(trUsuario);
           item.appendChild(tablaComentario);
           
         
         document.getElementById("tablaComentarios").appendChild(item);
         document.getElementById("nuevoComent").value="";
     	
     }
     function realizarPregunta(){
    	 obj.enviar("http://localhost:8080/Enwipweb/CargarAreasFormulario","GET","procesaFormularioPregunta", null);
         }
     function procesaFormularioPregunta(){
         borrarFormularios();
		var areas=eval("("+obj.respuestaTexto()+")");
		var tabla=document.createElement("table");
		var form=document.createElement("form");
		 var pregunta=document.createElement("input");
		 pregunta.type="text";
		 pregunta.name="pregunta";
		 var trPregunta=document.createElement("tr");
		 var trArea=document.createElement("tr");
		 trPregunta.appendChild(pregunta);
		 var area=document.createElement("select");
		 area.name="area";
		 			
		trArea.appendChild(area);
		 tabla.appendChild(trPregunta);
		 tabla.appendChild(trArea);
		 form.appendChild(tabla);
		       
		       

		    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
		       for (var elm = 0;elm < areas.length;elm++)
		       {    var item=document.createElement("option");
		            item.setAttribute("value",areas[elm].Id);
		            var texto=document.createTextNode(areas[elm].Area);
		            item.appendChild(texto);
		            area.appendChild(item);
		       }

		   var guardar=crearBoton("Guardar");
		   guardar.onclick=function(){
					guardarPregunta(form);
			   }
		   document.getElementById("formularios").appendChild(form);
		   document.getElementById("formularios").appendChild(guardar);
		
         }
     function guardarPregunta(formulario){
    	 obj.enviar("http://localhost:8080/Enwipweb/GuardarPregunta","POST","cargarPreguntas", formulario);
         }
     function procesaPreguntas(){
    	 borrarTexto();
    	 document.getElementById("titulo").innerHTML="<h2>Preguntas</h2>";
    	 document.getElementById("texto").appendChild(crearTablaBuscar("preguntas"));
    	 borrarMenuOpciones();
         var tablaOpciones=document.createElement("table");
         
         var trPreguntar=document.createElement("tr");
         trPreguntar.setAttribute("class","bt_mun1");
         var trRanking=document.createElement("tr");
         trRanking.setAttribute("class","bt_mun1");
         var trDenuncias=document.createElement("tr");
         trDenuncias.setAttribute("class","bt_mun1");
         var trMisPreguntas=document.createElement("tr");
         trMisPreguntas.setAttribute("class","bt_mun1");
         var misPreguntas=crearA("Mis Preguntas");
         misPreguntas.onclick=function (){
        	 obj.enviar("http://localhost:8080/Enwipweb/CargarMisPreguntas","GET","procesaMisPreguntas", null);
             }
         var preguntar=crearA("Preguntar");
         preguntar.onclick=function(){
        	realizarPregunta();
             }
         var ranking=crearA("Ranking");
         ranking.onclick=cargarRankingRespuestas;
         var denuncias=crearA("Denuncias");
         denuncias.onclick=cargarDenunciasRespuestas;
         trMisPreguntas.appendChild(misPreguntas);
         trPreguntar.appendChild(preguntar);
         trRanking.appendChild(ranking);
         trDenuncias.appendChild(denuncias);
         tablaOpciones.appendChild(trMisPreguntas);
         tablaOpciones.appendChild(trPreguntar);
         tablaOpciones.appendChild(trRanking);
         tablaOpciones.appendChild(trDenuncias);
         
         document.getElementById("menuOpciones").appendChild(tablaOpciones);
         
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaPreguntas=document.createElement("table");
		tablaPreguntas.className="tabla_mensajes";
		for(var elm=0;elm<datos.length;elm++){
				var trPregunta=document.createElement("tr");
				var tdPreg=document.createElement("td");
				var tdRes=document.createElement("td");
				tdPreg.appendChild(document.createTextNode(datos[elm].Contenido));
				trPregunta.appendChild(tdPreg);
				var resp=crearBoton("Responder");
				resp.setAttribute("id",datos[elm].Id);
				
				resp.onclick=function (evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosPregunta(idp);
					}
				tdRes.appendChild(resp);
				trPregunta.appendChild(tdRes);
				tablaPreguntas.appendChild(trPregunta);
			}
		document.getElementById("formularios").appendChild(tablaPreguntas);
		
         }
     function cargarDenunciasRespuestas(){
			
			obj.enviar("http://localhost:8080/Enwipweb/CargarDenunciasRespuestas","GET","procesaDenunciasRespuestas", null);
      }
     function cargarRankingRespuestas(){
			
			obj.enviar("http://localhost:8080/Enwipweb/CargarRankingRespuestas","GET","procesaRankingRespuestas", null);
         }
     function procesaDenunciasRespuestas(){
		borrarFormularios();
		 var res=obj.respuestaTexto();
	 		if(res=="]"){
	 			document.getElementById("formularios").appendChild(document.createTextNode("En este momento no hay denuncias"));
	 			}
	 		else{
	 		var denunicas=eval("("+obj.respuestaTexto()+")");
	 		var tabla=document.createElement("table");
	 	    var tr=document.createElement("tr");
	 	    var pregunta=document.createElement("td");
	 	    pregunta.appendChild(document.createTextNode("Pregunta"));
	 	    var respuesta=document.createElement("td");
	 	    respuesta.appendChild(document.createTextNode("Respuesta"));
	 	    var numDenuncias=document.createElement("td");
	 	    numDenuncias.appendChild(document.createTextNode("Numero de denuncias"));
	 	    tr.appendChild(pregunta);
	 	    tr.appendChild(respuesta);
	 	    tr.appendChild(numDenuncias);
	 	    tabla.appendChild(tr);
	 	    tabla.className="tabla_mensajes";
	 		for(var elm=0;elm<denunicas.length;elm++){
	 				var tdPregunta=document.createElement("td");
	 				var tdRespuesta=document.createElement("td");
	 				var tdNumDenuncia=document.createElement("td");
	 				var tdRatificar=document.createElement("td");
	 				var trdenuncia=document.createElement("tr");
	                var ratificar=crearBoton("Ratificar Denuncia");
	                ratificar.id=denunicas[elm].Id;
	                ratificar.onclick=function(evento){
							ratificarDenunciaRespuesta(evento.srcElement.id);
		                 }
	                 if(denunicas[elm].Denunciada=="true"){
							ratificar.disabled=true;
		                 }
				    
	 				tdPregunta.appendChild(document.createTextNode(denunicas[elm].Pregunta));
	 				tdRespuesta.appendChild(document.createTextNode(denunicas[elm].Respuesta));
	 				tdNumDenuncia.appendChild(document.createTextNode(denunicas[elm].Cantidad));
	 				tdRatificar.appendChild(ratificar);
	 				trdenuncia.appendChild(tdPregunta);
	 				trdenuncia.appendChild(tdRespuesta);
	 				trdenuncia.appendChild(tdNumDenuncia);
	 				trdenuncia.appendChild(tdRatificar);
	 				tabla.appendChild(trdenuncia);
	 				
	 			}

	 		document.getElementById("formularios").appendChild(tabla);
	 		}
         }
     function procesaRankingRespuestas(){
    	 borrarFormularios();
    	 
    	 var res=obj.respuestaTexto();
 		if(res=="]"){
 			document.getElementById("formularios").appendChild(document.createTextNode("En este momento no hay usuarios rankeando"));
 			}
 		else{
 		var rankeados=eval("("+obj.respuestaTexto()+")");
 		var tabla=document.createElement("table");
 		tabla.className="tabla_mensajes";
 	    var tr=document.createElement("tr");
 	    var tdNomUsu=document.createElement("td");
 	    tdNomUsu.setAttribute("colspan","2");
 	    tdNomUsu.appendChild(document.createTextNode("Usuario"));
 	    var tdVotos=document.createElement("td");
 	    tdVotos.appendChild(document.createTextNode("Numero de Votos"));
 	    tr.appendChild(tdNomUsu);
 	    tr.appendChild(tdVotos);
 	    tabla.appendChild(tr);
 		for(var elm=0;elm<rankeados.length;elm++){
 				var tdImagen=document.createElement("td");
 				var tdNombre=document.createElement("td");
 				var tdVotosUsuario=document.createElement("td");
 				var trusuario=document.createElement("tr");
 				var usuario=crearBoton(rankeados[elm].Nombre);
 				var imagen=document.createElement("img");
 				imagen.setAttribute("width","30");
 				imagen.setAttribute("height","60");
 				if(rankeados[elm].Imagen=="null"){
 					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
 					}
 				else{
 					imagen.setAttribute("src",rankeados[elm].Imagen);
 					}
 				usuario.name=rankeados[elm].Id;
 				usuario.id=rankeados[elm].Id;
 				usuario.onclick=function(evento){
 	                   var idp=evento.srcElement.id;
 	            	   traerDatosUsuario(idp);
 					}
			    tdVotosUsuario.appendChild(document.createTextNode(rankeados[elm].Votos));
 				tdImagen.appendChild(imagen);
 				tdNombre.appendChild(usuario);
 				trusuario.appendChild(tdImagen);
 				trusuario.appendChild(tdNombre);
 				trusuario.appendChild(tdVotosUsuario);
 				tabla.appendChild(trusuario);
 				
 			}

 		document.getElementById("formularios").appendChild(tabla);
 		}
         }
     function procesaMisPreguntas(){
    	 borrarFormularios();
    	 
         
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaPreguntas=document.createElement("table");
		tablaPreguntas.className="tabla_mensajes";
		for(var elm=0;elm<datos.length;elm++){
				var trPregunta=document.createElement("tr");
				var tdPreg=document.createElement("td");
				var tdRes=document.createElement("td");
				tdPreg.appendChild(document.createTextNode(datos[elm].Contenido));
				trPregunta.appendChild(tdPreg);
				var resp=crearBoton("Ver respuestas");
				resp.setAttribute("id",datos[elm].Id);
				
				resp.onclick=function (evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosMiPregunta(idp);
					}
				tdRes.appendChild(resp);
				trPregunta.appendChild(tdRes);
				tablaPreguntas.appendChild(trPregunta);
			}
		document.getElementById("formularios").appendChild(tablaPreguntas);
         }
     function traerDatosMiPregunta(id) {
     	 var cad = "";
  	    
	      cad = "Id="+id;
  
	 
 
      		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDePregunta","POST","procesaMiPregunta", cad);
         }
     function traerDatosPregunta(id) {
     	 var cad = "";
  	    
	      cad = "Id="+id;
  
	 
 
      		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDePregunta","POST","procesaPregunta", cad);
         }
     function procesaMiPregunta(){
         var datos=eval("("+obj.respuestaTexto()+")");
    	 var respuestas = datos[0].Respuestas;
     	
     	
     	
         document.getElementById("titulo").innerHTML="<h2>Pregunta: "+datos[0].Contenido+"</h2>";
 		borrarFormularios();
 		
 		var tablaRespuestas=document.createElement("table");
 		tablaRespuestas.className="tabla_mensajes";
 		tablaRespuestas.id="tablaRespuestas";
	
 		for (var elm = 0;elm < respuestas.length;elm++)
        {  

	             

			 var tdMarcarMejor=document.createElement("td")
			 var tdDenunciar=document.createElement("td");
			 var tdMejor=document.createElement("td");
			 tdMejor.id="laMejor_"+respuestas[elm].RespuestaId;
			 if(respuestas[elm].Mejor=="true"){
                tdMejor.appendChild(document.createTextNode("Mejor"));
				 }
			 
			 var denunciar=crearBoton("Denunciar");
			 var marcarMejor=crearBoton("Mejor");
			 denunciar.id="denunciar_"+respuestas[elm].RespuestaId;
			 denunciar.onclick=function (evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					denunciarRespuesta(aux[1]);
                 }
			 marcarMejor.id="mejor_"+respuestas[elm].RespuestaId;
             marcarMejor.onclick=function (evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					marcarMejorRespuesta(aux[1]);
                 }
			 if(respuestas[elm].Denunciada=="true"){
	                denunciar.disabled=true;
	                marcarMejor.disabled=true;
	                denunciar.value="Denunciada";
					 }
			 
			  var item=document.createElement("tr");
	 	       var tablaRespuesta=document.createElement("table"); 
	 	       var trComent=document.createElement("tr");
	 	       var tdComent=document.createElement("td");
	 	           tdComent.setAttribute("colspan","4");
	 	          tdComent.appendChild(document.createTextNode(respuestas[elm].Contenido));
	 	          trComent.appendChild(tdComent);
	 	          var tdFecha=document.createElement("td");
	 	         tdFecha.className="fecha";
	 	          tdFecha.appendChild(document.createTextNode(respuestas[elm].Fecha));
	 	          trComent.appendChild(tdFecha);
	 	       var trUsuario=document.createElement("tr");
	 	       var tdFoto=document.createElement("td");
	 	       var tdNombreU=document.createElement("td");
	 	      var imagen=document.createElement("img");
				imagen.setAttribute("width","30");
				imagen.setAttribute("height","60");
				if(respuestas[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",respuestas[elm].Imagen);
					}
	             tdFoto.appendChild(imagen);
	             tdNombreU.appendChild(document.createTextNode(respuestas[elm].Usuario))
	             trUsuario.appendChild(tdFoto);
	             trUsuario.appendChild(tdNombreU);
				 tdMarcarMejor.appendChild(marcarMejor);
				 tdDenunciar.appendChild(denunciar);
				 trUsuario.appendChild(tdMarcarMejor);
				 trUsuario.appendChild(tdDenunciar);
				 trUsuario.appendChild(tdMejor);
	             tablaRespuesta.appendChild(trComent);
	             tablaRespuesta.appendChild(trUsuario);
	             item.appendChild(tablaRespuesta);
	             tablaRespuestas.appendChild(item);

             

        

           
             
        }
 		document.getElementById("formularios").appendChild(tablaRespuestas);
 		
 		  
         }
     
     function ratificarDenunciaRespuesta(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/DenunciarRespuesta","POST","mostrarRatificacionDenuncia", cad);
         }
     function mostrarRatificacionDenuncia(){
    	 var id=obj.respuestaTexto();
		 document.getElementById(id).value="Denunciada";
		 document.getElementById(id).disabled=true;
		 
		 
         }
     function denunciarRespuesta(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/DenunciarRespuesta","POST","mostrarDenuncia", cad);
         }
     function mostrarDenuncia(){
    	 var id=obj.respuestaTexto();
		 document.getElementById("denunciar_"+id).value="Denunciada";
		 document.getElementById("denunciar_"+id).disabled=true;
		 document.getElementById("mejor_"+id).disabled=true;
		 
         }
     function marcarMejorRespuesta(id){
		 var cad="id="+id;
		 obj.enviarUno("http://localhost:8080/Enwipweb/MarcarMejor","POST","mostrarMejor", cad);
         }
     function mostrarMejor(){
		 var res=obj.respuestaTexto();
		 var aux=res.split("_");
		 if(aux.length>1){
			 document.getElementById("laMejor_"+aux[1]).removeChild( document.getElementById("laMejor_"+aux[1]).firstChild );
			 }
		 document.getElementById("laMejor_"+aux[0]).appendChild(document.createTextNode("Mejor"));
         }
     function procesaPregunta(){
         var datos=eval("("+obj.respuestaTexto()+")");
    	 var respuestas = datos[0].Respuestas;
     	
     	
     	
         document.getElementById("titulo").innerHTML="<h2>Pregunta: "+datos[0].Contenido+"</h2>";
 		borrarFormularios();
 		
 		var tablaRespuestas=document.createElement("table");
 		tablaRespuestas.className="tabla_mensajes";
 		tablaRespuestas.id="tablaRespuestas";
	
 		for (var elm = 0;elm < respuestas.length;elm++)
        {  

             var item=document.createElement("tr");
	 	       var tablaRespuesta=document.createElement("table"); 
	 	       var trComent=document.createElement("tr");
	 	       var tdComent=document.createElement("td");
	 	           tdComent.setAttribute("colspan","2");
	 	          tdComent.appendChild(document.createTextNode(respuestas[elm].Contenido));
	 	          trComent.appendChild(tdComent);
	 	          var tdFecha=document.createElement("td");
	 	         tdFecha.className="fecha";
	 	          tdFecha.appendChild(document.createTextNode(respuestas[elm].Fecha));
	 	          trComent.appendChild(tdFecha);
	 	       var trUsuario=document.createElement("tr");
	 	       var tdFoto=document.createElement("td");
	 	       var tdNombreU=document.createElement("td");
	 	      var imagen=document.createElement("img");
				imagen.setAttribute("width","30");
				imagen.setAttribute("height","60");
				if(respuestas[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",respuestas[elm].Imagen);
					}
	             tdFoto.appendChild(imagen);
	             var usua=crearA(respuestas[elm].Usuario);
	             usua.id=respuestas[elm].userId;
	             usua.onclick=function (evento){
	                   var idp=evento.srcElement.id;
	                   traerDatosUsuario(idp);
					}
	             tdNombreU.appendChild(usua);
	             trUsuario.appendChild(tdFoto);
	             trUsuario.appendChild(tdNombreU);
	             tablaRespuesta.appendChild(trComent);
	             tablaRespuesta.appendChild(trUsuario);
	             item.appendChild(tablaRespuesta);
	             tablaRespuestas.appendChild(item);
	           
             
        }
 		document.getElementById("formularios").appendChild(tablaRespuestas);
 		
 		  var cuadro=document.createElement('textarea');
 		  
 		  cuadro.id="respuesta";
 		  cuadro.name="respuesta";
 		  cuadro.rows='5';
 		  cuadro.cols='80';
 		 document.getElementById("final").appendChild(cuadro);
 		 
 		  var botonEnviar=crearBoton("responder");
		       
		       botonEnviar.name='responder';
		    
        
		    botonEnviar.onclick=function() {
		    	  
		    	  enviarRespuesta(datos[0].PreguntaId,document.getElementById("respuesta").value,tablaRespuestas);
		    	  
		      }
		      document.getElementById("final").appendChild(botonEnviar);
         }
     function enviarRespuesta(id,respuesta){
    	 var datos=new Array();
      	var cad1="id"+"="+id;
      	var cad2="respuesta"+"="+respuesta;
      	datos.push(cad1);
      	datos.push(cad2);
      	var cad=datos.join("&");
      	obj.enviarUno("http://localhost:8080/Enwipweb/GuardarRespuesta","POST","mostrarNuevaRespuesta", cad);
         }
     function mostrarNuevaRespuesta(){

     	var item=document.createElement("tr");
	       var tablaComentario=document.createElement("table"); 
	       var trComent=document.createElement("tr");
	       var tdComent=document.createElement("td");
	           tdComent.setAttribute("colspan","2");
	           tdComent.appendChild(document.createTextNode(document.getElementById("respuesta").value));
	           trComent.appendChild(tdComent);
	          var tdFecha=document.createElement("td");
	          tdFecha.className="fecha";
	         var f = new Date();
	 	          tdFecha.appendChild( document.createTextNode(f.getFullYear() + "-" + (f.getMonth() +1) + "-" + f.getDate()));
	 	          trComent.appendChild(tdFecha);
	       var trUsuario=document.createElement("tr");
	       var tdFoto=document.createElement("td");
	       var tdNombreU=document.createElement("td");
	      var imagen=document.createElement("img");
			imagen.setAttribute("width","30");
			imagen.setAttribute("height","60");
			imagen.setAttribute("src",document.getElementById("fotoUsuario").src);
          tdFoto.appendChild(imagen);
          tdNombreU.appendChild(document.createTextNode(document.getElementById("datosUsuarioNombre").innerHTML));
          trUsuario.appendChild(tdFoto);
          trUsuario.appendChild(tdNombreU);
          tablaComentario.appendChild(trComent);
          tablaComentario.appendChild(trUsuario);
          item.appendChild(tablaComentario);
          
        
        document.getElementById("tablaRespuestas").appendChild(item);
        document.getElementById("respuesta").value="";

        
        
     	
     }


     function procesaDatos()
     { 	
     
     	//var paises = json.parseJSON();
          var paise = eval("("+obj.respuestaTexto()+")");
         
    // Crea la opción de selección inicial
       var opcionInicio=document.createElement("option");
       var textoOpcion=document.createTextNode("-Seleccione Tema-");
       opcionInicio.appendChild(textoOpcion);
       var lista=document.getElementById("pais");
       lista.appendChild(opcionInicio);
       

    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       for (var elm = 0;elm < paise.length;elm++)
       {    var item=document.createElement("option");
            item.setAttribute("value",paise[elm].Pais);
            var texto=document.createTextNode(paise[elm].Pais);
            item.appendChild(texto);
            document.getElementById("pais").appendChild(item);
       }
       cargarAreas();
     }
     
     function procesaAreas()
     { 	
     
     
          var areas = eval("("+obj.respuestaTexto()+")");
			
    // Crea la opción de selección inicial
      var opcionInicio=document.createElement("option");
       var textoOpcion=document.createTextNode("-Seleccione Tema-");
       opcionInicio.appendChild(textoOpcion);
       var lista=document.getElementById("area");
       lista.appendChild(opcionInicio);
       
       

    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       for (var elm = 0;elm < areas.length;elm++)
       {    var item=document.createElement("option");
            item.setAttribute("value",areas[elm].Area);
            var texto=document.createTextNode(areas[elm].Area);
            item.appendChild(texto);
            document.getElementById("area").appendChild(item);
       }

       cargarInversionista();
     }
	 function procesaTipoInversionista()
     { 	
     
     
          var tInversionista = eval("("+obj.respuestaTexto()+")");
			
    // Crea la opción de selección inicial
      var opcionInicio=document.createElement("option");
       var textoOpcion=document.createTextNode("-Seleccione Tema-");
       opcionInicio.appendChild(textoOpcion);
       var lista=document.getElementById("tipoInversionista");
       lista.appendChild(opcionInicio);


    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       for (var elm = 0;elm < tInversionista.length;elm++)
       {    var item=document.createElement("option");
            item.setAttribute("value",tInversionista[elm].Tipo);
            var texto=document.createTextNode(tInversionista[elm].Tipo);
            item.appendChild(texto);
            document.getElementById("tipoInversionista").appendChild(item);
       }

       cargarTipoInversion();
     }
     function procesaTipoInversion()
     { 	
     
     
          var tInversion = eval("("+obj.respuestaTexto()+")");
			
    // Crea la opción de selección inicial
      var opcionInicio=document.createElement("option");
       var textoOpcion=document.createTextNode("-Seleccione Tema-");
       opcionInicio.appendChild(textoOpcion);
       var lista=document.getElementById("tipoInversion");
       lista.appendChild(opcionInicio);


    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       for (var elm = 0;elm < tInversion.length;elm++)
       {    var item=document.createElement("option");
            item.setAttribute("value",tInversion[elm].Tipo);
            var texto=document.createTextNode(tInversion[elm].Tipo);
            item.appendChild(texto);
            document.getElementById("tipoInversion").appendChild(item);
       }

       cargarNivelInversion()
     }
     function procesaNivelInversion()
     { 	
     
     
          var nInversion = eval("("+obj.respuestaTexto()+")");
			
    // Crea la opción de selección inicial
      var opcionInicio=document.createElement("option");
       var textoOpcion=document.createTextNode("-Seleccione Tema-");
       opcionInicio.appendChild(textoOpcion);
       var lista=document.getElementById("nivelInversion");
       lista.appendChild(opcionInicio);


    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       for (var elm = 0;elm < nInversion.length;elm++)
       {    var item=document.createElement("option");
            item.setAttribute("value",nInversion[elm].Nivel);
            var texto=document.createTextNode(nInversion[elm].Nivel);
            item.appendChild(texto);
            document.getElementById("nivelInversion").appendChild(item);
       }

       
     }

	function cargarPlanes(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarPlanes","GET","procesaPlanes", null);
		}
	function cargarMensajes(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarMensajes","GET","procesaMensajes", null);
		
	}
	function cargarIdeas(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarIdeas","GET","procesaIdeas", null);
		
		}
	function cargarAmigos(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarAmigos","GET","procesaAmigos", null);
		}
	function cargarSolicitudes(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarSolicitudes","GET","procesaSolicitudes", null);
		}
	function cargarActividades(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarActividades","GET","procesaActividades", null);
		}
	function procesaAmigosDeAmigo(){
		borrarFormularios();
		
		var amigos=eval("("+obj.respuestaTexto()+")");
		var tabla=document.createElement("table");
	    tabla.className="tabla_mensajes";
		for(var elm=0;elm<amigos.length;elm++){
				
				var tdNombre=document.createElement("td");
				var trAmigo=document.createElement("tr");
				var amigo=crearA(amigos[elm].Nombre);
				amigo.name=amigos[elm].Id;
				amigo.id=amigos[elm].Id;
				amigo.onclick=function(evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosAmigo(idp);
					}
				var imagen=document.createElement("img");
				imagen.setAttribute("width","180");
				imagen.setAttribute("height","180");
					var div=document.createElement("div");
   					div.className="foto_mini";
   					div.appendChild(imagen);
				if(amigos[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",amigos[elm].Imagen);
					}

				tdNombre.appendChild(div);
				tdNombre.appendChild(amigo);				
				trAmigo.appendChild(tdNombre);
				tabla.appendChild(trAmigo);
				
			}

		document.getElementById("formularios").appendChild(tabla);

		
		}
	function procesaAmigos(){
		borrarTexto();
		document.getElementById("titulo").innerHTML="<h2>Amigos</h2>";
		var res=obj.respuestaTexto();
		if(res=="]"){
			document.getElementById("formularios").appendChild(document.createTextNode("Encuentra amigos a travez de nuestro buscador"));
			}
		else{
		var amigos=eval("("+obj.respuestaTexto()+")");
		var tabla=document.createElement("table");
	    tabla.className="tabla_mensajes";
		for(var elm=0;elm<amigos.length;elm++){
				
				var tdNombre=document.createElement("td");
				var trAmigo=document.createElement("tr");
				var amigo=crearA(amigos[elm].Nombre);
				var imagen=document.createElement("img");
				imagen.setAttribute("width","180");
				imagen.setAttribute("height","180");
				var div=document.createElement("div");
					div.className="foto_mini";
					div.appendChild(imagen);
				if(amigos[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",amigos[elm].Imagen);
					}
				amigo.name=amigos[elm].Id;
				amigo.id=amigos[elm].Id;
				amigo.onclick=function(evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosAmigo(idp);
					}
				tdNombre.appendChild(div);
				tdNombre.appendChild(amigo);				
				trAmigo.appendChild(tdNombre);
				tabla.appendChild(trAmigo);
				
			}

		document.getElementById("formularios").appendChild(tabla);
		}
		document.getElementById("texto").appendChild(crearTablaBuscar("usuarios"));

		
		
		}
	function crearTablaBuscar(dato){
		
		var tablaBusqueda=document.createElement("form");
        var txtBuscar=document.createElement("input");
        txtBuscar.type="text";
        txtBuscar.name="textfield";
        txtBuscar.setAttribute("class","campo_buscar");
		tablaBusqueda.setAttribute("class","buscador");
		var btnBuscar=document.createElement("input");
		btnBuscar.type="button";
		
		btnBuscar.setAttribute("class","bt_buscar");
		btnBuscar.onclick=function(){
			buscarDato(txtBuscar.value,dato);
			}

		tablaBusqueda.appendChild(txtBuscar);
		tablaBusqueda.appendChild(btnBuscar);
		return tablaBusqueda;
		}
	function traerDatosAmigo(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDeUsuario","POST","procesaDatosDeUsuario", cad);
		}
	function traerAmigosAmigo(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarAmigosDeAmigo","POST","procesaAmigosDeAmigo", cad);
		}
	function traerGruposAmigo(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarGruposDeAmigo","POST","procesaGruposDeAmigo", cad);
		}
	function traerIdeasAmigo(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarIdeasDeAmigo","POST","procesaIdeasDeAmigo", cad);
		}
	function buscarDato(texto,dato){
		var cad = ""; 	    
	      cad = "texto="+texto;	 
	      
		if(dato=="usuarios"){
   		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarUsuarios","POST","procesaResultadoUsuarios", cad);
		}
		if(dato=="charlas"){
		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarCharlas","POST","procesaResultadoCharlas", cad);
			}
		if(dato=="clases"){
			obj.enviarUno("http://localhost:8080/Enwipweb/BuscarClases","POST","procesaResultadoClases", cad);
				}
		if(dato=="grupos"){
			obj.enviarUno("http://localhost:8080/Enwipweb/BuscarGrupos","POST","procesaResultadoGrupos", cad);
				}
		if(dato=="preguntas"){
			obj.enviarUno("http://localhost:8080/Enwipweb/BuscarPreguntas","POST","procesaResultadoPreguntas", cad);
				}

		
		}
	 function procesaResultadoPreguntas(){
    	 borrarTexto();
    	 document.getElementById("titulo").innerHTML="<h2>Preguntas</h2>";
    	 var res=obj.respuestaTexto();
			if(res=="]"){
				document.getElementById("formularios").appendChild(document.createTextNode("No se encontro ninguna pregunta con tus parametros de busqueda"));
				}
			else{
    	 
    	
         
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaPreguntas=document.createElement("table");
		for(var elm=0;elm<datos.length;elm++){
				var trPregunta=document.createElement("tr");
				var tdPreg=document.createElement("td");
				var tdRes=document.createElement("td");
				tdPreg.appendChild(document.createTextNode(datos[elm].Contenido));
				trPregunta.appendChild(tdPreg);
				var resp=crearBoton("Responder");
				resp.setAttribute("id",datos[elm].Id);
				
				resp.onclick=function (evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosPregunta(idp);
					}
				tdRes.appendChild(resp);
				trPregunta.appendChild(tdRes);
				tablaPreguntas.appendChild(trPregunta);
			}
			}
			document.getElementById("texto").appendChild(crearTablaBuscar("preguntas"));
		document.getElementById("formularios").appendChild(tablaPreguntas);
		
         }
	 function procesaResultadoGrupos()
     { 	        
         document.getElementById("titulo").innerHTML="<h2>Grupos</h2>";
  		borrarTexto();
  		
  		 var res=obj.respuestaTexto();
			if(res=="]"){
				document.getElementById("formularios").appendChild(document.createTextNode("No se encontro ninguna charla con tus parametros de busqueda"));
				}
			else{
  		var res=obj.respuestaTexto();
  		
        
		if(res!="]"){
			  var grupos = eval("("+obj.respuestaTexto()+")");
    // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       for (var elm = 0;elm < grupos.length;elm++)
       {		    
           var item= crearBoton(grupos[elm].Nombre);
            item.id=grupos[elm].Id;
          
            document.getElementById("formularios").appendChild(item);
            
            item.onclick=function(evento){
                //alert(evento.srcElement.id)
                var idp=evento.srcElement.id;
         	   traerDatosGrupo(idp);
                }
            
    			
       }
		}
    	var creargrupo=crearBoton("Crear Grupo");
    	creargrupo.id="crearGrupo";
    	

    	creargrupo.onclick=function(){
    		
    		crearGrupo();
    	}
			}
	    	document.getElementById("texto").appendChild(crearTablaBuscar("grupos"));
	    	document.getElementById("texto").appendChild(creargrupo);
      
     }
	function procesaResultadoClases(){
		 borrarTexto();
		 var res=obj.respuestaTexto();
			if(res=="]"){
				document.getElementById("formularios").appendChild(document.createTextNode("No se encontro ninguna charla con tus parametros de busqueda"));
				}
			else{
			var clases=eval("("+obj.respuestaTexto()+")");
			var tablaClases=document.createElement("table");
			
			document.getElementById("titulo").innerHTML="<h2>Clases</h2>";
			var trTit=document.createElement("tr");
			var tdTitClase=document.createElement("td");
			tdTitClase.appendChild(document.createTextNode("Nombre"));
			var tdTitVotos=document.createElement("td");
			tdTitVotos.appendChild(document.createTextNode("Numero de votos"));
			trTit.appendChild(tdTitClase);
			trTit.appendChild(tdTitVotos);
			tablaClases.appendChild(trTit);
			for(var elm=0;elm<clases.length;elm++){
				
				
				var trClase=document.createElement("tr");
				var tdClase=document.createElement("td");
				var tdVotos=document.createElement("td");
				var clase=crearBoton(clases[elm].Nombre);
				clase.id="clase_"+clases[elm].Id;				
				clase.onclick=function (evento){
					var idp=evento.srcElement.id;
	            	   traerDatosClase(idp);
					}

				tdClase.appendChild(clase);
				tdVotos.appendChild(document.createTextNode(clases[elm].Votos));
				trClase.appendChild(tdClase);
				trClase.appendChild(tdVotos);
				tablaClases.appendChild(trClase);	
				}
			
			document.getElementById("formularios").appendChild(tablaClases);
			}
			document.getElementById("texto").appendChild(crearTablaBuscar("clases"));
		 }
	function procesaResultadoCharlas(){
		borrarTexto();
		document.getElementById("titulo").innerHTML="<h2>Charlas</h2>";
		var res=obj.respuestaTexto();
		if(res=="]"){
			document.getElementById("formularios").appendChild(document.createTextNode("No se encontro ninguna charla con tus parametros de busqueda"));
			}
		else{
	
		var charlas=eval("("+obj.respuestaTexto()+")");
		var tablaCharlas=document.createElement("table");
		var trTit=document.createElement("tr");
		var tdTitCharla=document.createElement("td");
		tdTitCharla.appendChild(document.createTextNode("Nombre"));
		var tdTitVotos=document.createElement("td");
		tdTitVotos.appendChild(document.createTextNode("Numero de votos"));
		trTit.appendChild(tdTitCharla);
		trTit.appendChild(tdTitVotos);
		tablaCharlas.appendChild(trTit);
		for(var elm=0;elm<charlas.length;elm++){
			
			
			var trCharla=document.createElement("tr");
			var clase=crearBoton(charlas[elm].Nombre);
			clase.id="clase_"+charlas[elm].Id;			
			clase.onclick=function (evento){
				var idp=evento.srcElement.id;
            	   traerDatosCharla(idp);
				}
			var tdCharla=document.createElement("td");
			var tdVotos=document.createElement("td");
			tdCharla.appendChild(clase);
			tdVotos.appendChild(document.createTextNode(charlas[elm].Votos));
			trCharla.appendChild(tdCharla);
			trCharla.appendChild(tdVotos);
			tablaCharlas.appendChild(trCharla);	
			}
		
		document.getElementById("formularios").appendChild(tablaCharlas);
		}
		document.getElementById("texto").appendChild(crearTablaBuscar("charlas"));
		}
	function procesaResultadoUsuarios(){
		borrarTexto();
		document.getElementById("titulo").innerHTML="<h2>Usuarios</h2>";
		var res=obj.respuestaTexto();
		if(res=="]"){
			document.getElementById("formularios").appendChild(document.createTextNode("No se encontro nadie con tus parametros de busqueda"));
			}
		else{
		var amigos=eval("("+obj.respuestaTexto()+")");
		var tabla=document.createElement("table");
	
		for(var elm=0;elm<amigos.length;elm++){
				var tdImagen=document.createElement("td");
				var tdNombre=document.createElement("td");
				var trAmigo=document.createElement("tr");
				var amigo=crearBoton(amigos[elm].Nombre);
				var imagen=document.createElement("img");
				imagen.setAttribute("width","30");
				imagen.setAttribute("height","60");
				if(amigos[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",amigos[elm].Imagen);
					}
				amigo.name=amigos[elm].Id;
				amigo.id=amigos[elm].Id;
				amigo.onclick=function(evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosAmigo(idp);
					}
				tdImagen.appendChild(imagen);
				tdNombre.appendChild(amigo);
				trAmigo.appendChild(tdImagen);
				trAmigo.appendChild(tdNombre);
				tabla.appendChild(trAmigo);
				
			}

		document.getElementById("formularios").appendChild(tabla);
		}
		document.getElementById("texto").appendChild(crearTablaBuscar("usuarios"));
		}
	function procesaAmigo(){
		borrarTexto();
		document.getElementById("titulo").innerHTML="<h2>Amigos</h2>";
		var datos=eval("("+obj.respuestaTexto()+")");
		crearOpcionesDeUsuario(datos[0].Id);
		var tablaAmigo=document.createElement("table");
		var trAmigoD=document.createElement("tr");
		var tdImagen=document.createElement("td");
		var tdNombre=document.createElement("td");
		var amigo=document.createTextNode(datos[0].Nombre+" "+datos[0].Apellido);
		var b=document.createElement("b");
		b.appendChild(amigo);
		var imagen=document.createElement("img");
		imagen.setAttribute("width","30");
		imagen.setAttribute("height","60");
		if(datos[0].Imagen=="null"){
			imagen.setAttribute("src","imagenes/foto_perfil.jpg");
			}
		else{
			imagen.setAttribute("src",datos[0].Imagen);
			}
		tdImagen.appendChild(imagen);
		tdNombre.appendChild(b);
		trAmigoD.appendChild(tdImagen);
		trAmigoD.appendChild(tdNombre);
		tablaAmigo.appendChild(trAmigoD);
		
		document.getElementById("titulo").appendChild(tablaAmigo);
		var tabla=document.createElement("table");

		if(datos[0].Nombre!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Nombre");
				var valor=document.createTextNode(datos[0].Nombre);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
		if(datos[0].Apellido!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Apellido");
			var valor=document.createTextNode(datos[0].Apellido);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Direccion!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Direccion");
			var valor=document.createTextNode(datos[0].Direccion);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Pais!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Pais");
			var valor=document.createTextNode(datos[0].Pais);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Genero!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Genero");
			var valor=document.createTextNode(datos[0].Genero);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Ciudad!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Ciudad");
			var valor=document.createTextNode(datos[0].Ciudad);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Telefono!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Telefono");
			var valor=document.createTextNode(datos[0].Telefono);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Email!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("E-mail");
			var valor=document.createTextNode(datos[0].Email);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Fecha_Nacimiento!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Fecha de Nacimiento");
			var valor=document.createTextNode(datos[0].Fecha_Nacimiento);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Resena!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Reseña");
			var valor=document.createTextNode(datos[0].Resena);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		if(datos[0].Estudio!=undefined){
			var tr=document.createElement("tr");
			var td1=document.createElement("td");
			var td2=document.createElement("td");
			var dato=document.createTextNode("Estudio");
			var valor=document.createTextNode(datos[0].Estudio);
			td1.appendChild(dato);
			td2.appendChild(valor);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tabla.appendChild(tr);
		}
		document.getElementById("formularios").appendChild(tabla);
		}
	function crearOpcionesDeUsuario(id){
			var tabla=document.createElement("table");
			var tr=document.createElement("tr");
			tr.id="opcionesDeUsuario";
			var tdPerfil=document.createElement("td");
			var tdAmigos=document.createElement("td");
			var tdGrupos=document.createElement("td");
			var tdIdeas=document.createElement("td");
			var tdColaborador=document.createElement("td");
			var btnPerfil=crearBoton("Perfil");
			var btnAmigos=crearBoton("Amigos");
			var btnGrupos=crearBoton("Grupos");
			var btnIdeas=crearBoton("Ideas de Negocio");
			var btnColaborador=crearBoton("Marcar como colaborador");
			btnPerfil.onclick=function(){
					traerDatosAmigo(id);
				}
			btnAmigos.onclick=function(){
					traerAmigosAmigo(id);
				}
			btnGrupos.onclick=function(){
					traerGruposAmigo(id);
				}
			btnIdeas.onclick=function(){
					traerIdeasAmigo(id);
				}
			btnColaborador.onclick=function(){
					marcarColaborador(id);
				}
			tdPerfil.appendChild(btnPerfil);
			tdAmigos.appendChild(btnAmigos);
			tdGrupos.appendChild(btnGrupos);
			tdIdeas.appendChild(btnIdeas);
			tdColaborador.appendChild(btnColaborador);
			tr.appendChild(tdPerfil);
			tr.appendChild(tdAmigos);
			tr.appendChild(tdGrupos);
			tr.appendChild(tdIdeas);
			tr.appendChild(tdColaborador);
			tabla.appendChild(tr);
			
			document.getElementById("texto").appendChild(tabla);
			
			
		}
	function marcarColaborador(id){
    	var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/CargarFormularioColaborador","POST","procesaFormularioColaborador", cad);
		}
	function procesaFormularioColaborador(){
		    borrarFormularios();
			var datos=eval("("+obj.respuestaTexto()+")");
			var ideas=crearSelectGeneral(datos[1],"ideas");
			ideas.name="idea";
			
			var tipos=crearSelectGeneral(datos[2],"tipos");
			tipos.name="tipo";
			var id=document.createElement("input");
			id.type="hidden";
			id.name="id";
			id.value=datos[0].Id;
			var tabla=document.createElement("table");
			var trGuardar=document.createElement("tr");
			var trTitIdeas=document.createElement("tr");
			var trTitTipos=document.createElement("tr");
			var trIdeas=document.createElement("tr");
			var trTipos=document.createElement("tr");
			var formColaborador=document.createElement("form");
			var guardar=crearBoton("Guardar");
			guardar.onclick=function(){
					 guardarColaborador(formColaborador);
				}
			trGuardar.appendChild(guardar);
			trTitIdeas.appendChild(document.createTextNode("Seleccione la idea"));
			trTitTipos.appendChild(document.createTextNode("Seleccione el tipo"));
			trIdeas.appendChild(ideas);
			trTipos.appendChild(tipos);
			tabla.appendChild(trTitIdeas);
			tabla.appendChild(trIdeas);
			tabla.appendChild(trTitTipos);
			tabla.appendChild(trTipos);
			tabla.appendChild(trGuardar);
			formColaborador.appendChild(tabla);
			formColaborador.appendChild(id);
			document.getElementById("formularios").appendChild(formColaborador);
			
		}
	function guardarColaborador(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarColaborador","POST","nada", formulario);
		}
	function crearSelectGeneral(vector,nombre,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name",nombre);
        for (var elm = 0;elm < vector.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",vector[elm].Id);
             item.setAttribute("value",vector[elm].Id);
             if(seleccionado==item.value){
    			 item.setAttribute("selected","selected");	
                     }
             var texto=document.createTextNode(vector[elm].Nombre);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}

	function procesaActividades(){
		borrarTexto();
		document.getElementById("titulo").innerHTML="<h2>Actividades</h2>";
		}
	
	function rechazarSolicitud(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

 		obj.enviarUno("http://localhost:8080/Enwipweb/RechazarSolicitud","POST","nada", cad);
		}
	function aceptarSolicitud(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

 		obj.enviarUno("http://localhost:8080/Enwipweb/AceptarSolicitud","POST","nada", cad);
		}
	function procesaSolicitudes(){
		borrarTexto();
		document.getElementById("titulo").innerHTML="<h2>Solicitudes</h2>";
		var res=obj.respuestaTexto();
		if(res=="]"){
			document.getElementById("formularios").appendChild(document.createTextNode("No tienes solicitudes"));
			}
		else{
		var amigos=eval("("+obj.respuestaTexto()+")");
		var tabla=document.createElement("table");
	
		for(var elm=0;elm<amigos.length;elm++){
				var tdImagen=document.createElement("td");
				var tdNombre=document.createElement("td");
				var tdAceptar=document.createElement("td");
				var tdRechazar=document.createElement("td");
				var trAmigo=document.createElement("tr");
				var amigo=crearBoton(amigos[elm].Nombre);
				var imagen=document.createElement("img");
				imagen.setAttribute("width","30");
				imagen.setAttribute("height","60");
				if(amigos[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",amigos[elm].Imagen);
					}
				amigo.name=amigos[elm].Id;
				amigo.id=amigos[elm].Id;
				amigo.onclick=function(evento){
	                   var idp=evento.srcElement.id;
	            	   traerDatosAmigo(idp);
					}
				var aceptar=crearBoton("Aceptar");
				aceptar.id="aceptar_"+amigos[elm].Id;
				aceptar.onclick=function (evento){
						var idp=evento.srcElement.id;
						var aux=idp.split("_");
						aceptarSolicitud(aux[1]);
					}
				
				var rechazar=crearBoton("Rechazar");
				rechazar.id="rechazar_"+amigos[elm].Id;
				rechazar.onclick=function (evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					rechazarSolicitud(aux[1]);
				}
				tdAceptar.appendChild(aceptar);
				tdRechazar.appendChild(rechazar);
				tdImagen.appendChild(imagen);
				tdNombre.appendChild(amigo);
				trAmigo.appendChild(tdImagen);
				trAmigo.appendChild(tdNombre);
				trAmigo.appendChild(tdAceptar);
				trAmigo.appendChild(tdRechazar);
				tabla.appendChild(trAmigo);
				
			}

		document.getElementById("formularios").appendChild(tabla);
		}
		}
	function procesaPlanes(){
		borrarTexto();
		
		borrarMenuOpciones();
		
		document.getElementById("titulo").innerHTML="<h2>Planes de Negocio</h2>";
		
		var tablaOpciones=document.createElement("table");
		var trOpciones=document.createElement("tr");
		trOpciones.setAttribute("class","bt_mun1");
		
		var crear=crearA("Crear Plan");
		crear.onclick=crearPlan;
		
		
		
		trOpciones.appendChild(crear);
		
		tablaOpciones.appendChild(trOpciones);

		
		tablaOpciones.appendChild(trOpciones);
		
		document.getElementById("menuOpciones").appendChild(tablaOpciones);

		 var tPlanes = eval("("+obj.respuestaTexto()+")");
			
		 var tablaPlanes=document.createElement("table");
		 tablaPlanes.className="tabla_mensajes";
    		var tr=document.createElement("tr");
       		var tdPlan=document.createElement("th");
       		var tdFinanciero=document.createElement("th");
       		var tdFecha=document.createElement("th");
       		var tdEliminar=document.createElement("th");
       		
       		tdPlan.appendChild(document.createTextNode("Nombre del plan"));
       	   
            tr.appendChild(tdPlan);
            
            tdFinanciero.appendChild(document.createTextNode("Seccion Financiera"))
            
            tr.appendChild(tdFinanciero);
            
            tdFecha.appendChild(document.createTextNode("Fecha de inicio"));
            
            tr.appendChild(tdFecha);
            tdEliminar.appendChild(document.createTextNode("Eliminar"));
            
            tr.appendChild(tdEliminar);
       		tablaPlanes.appendChild(tr);
		       for (var elm = 0;elm < tPlanes.length;elm++)
		       {    

				
				    var item=crearA(tPlanes[elm].Nombre);
				       
		       		var tr=document.createElement("tr");
		       		var tdPlan=document.createElement("td");
		       		var tdFinanciero=document.createElement("td");
		       		var tdFecha=document.createElement("td");
		       		tdFecha.className="fecha";
		       		item.setAttribute("id",tPlanes[elm].Id);
		            item.setAttribute("name",tPlanes[elm].Id);
		            item.onclick=function(evento){
		                   //alert(evento.srcElement.id)
		                   var idp=evento.srcElement.id;
		            	   traerDatosPlan(idp);
		                   }
		          
		           
		            tdPlan.appendChild(item);
		            tr.appendChild(tdPlan);
		            
			            
					var financiero=crearA("Plan Financiero");
							
							financiero.setAttribute("name",tPlanes[elm].Id);
							financiero.onclick=function(evento){
				                  
				                   var idp=evento.srcElement.name;
				            	   crearPlanFinanciero(idp);
				                   }
			                   tdFinanciero.appendChild(financiero);
			                   tr.appendChild(tdFinanciero);

			                   tdFecha.appendChild(document.createTextNode(tPlanes[elm].Fecha));
			                   tr.appendChild(tdFecha);
			                   var tdElim=document.createElement("td");
					       		tdElim.className="bt_eliminar";
					       		var elim=crearA("Eliminar");
								elim.setAttribute("name",tPlanes[elm].Id);
								elim.onclick=function(evento){
					                  
					                   var idp=evento.srcElement.name;
					            	   eliminarPlan(idp);
					                   }
					       		tdElim.appendChild(elim);
					       		tr.appendChild(tdElim);
			            
		            tablaPlanes.appendChild(tr);
		            

					

		       		
		       }
		       document.getElementById("formularios").appendChild(tablaPlanes);

		
		

		}
	function traerDatosPlan(id){
    	var cad = "";
 	    
	      cad = "Id="+id;
 
	 

     		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDePlan","POST","procesaPlan", cad);
        }
	function traerDatosPlanColaborado(id){
    	var cad = "";
 	    
	      cad = "Id="+id;
 
	 

     		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDePlan","POST","procesaPlanColaborado", cad);
        }
	function crearPlan(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarIdeas","GET","procesaSelectIdeas", null);
		
		}
	function crearReportePlan(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

 		obj.enviarUno("http://localhost:8080/Enwipweb/CrearReporte","GET","procesaReporte", cad);
		}
	function procesaReporte(){
		borrarTexto();
			var ruta=obj.respuestaTexto();
			var enlace=document.createElement("a");
			enlace.setAttribute("href",ruta);
			enlace.setAttribute("target","_blank");
			enlace.appendChild(document.createTextNode("Descargue PDF"));
			document.getElementById("formularios").appendChild(enlace);
		}
	function procesaPlanColaborado(){
		borrarFormularios();
		var plan=eval("("+obj.respuestaTexto()+")");
		
		
	
		var tablaDatos=document.createElement("table");
	
		

		if(plan[0].Nombre!=""){
		tablaDatos.appendChild(crearTitulo(plan[0].Nombre));
		
		}
		if(plan[0].Equipo!=""){
		tablaDatos.appendChild(crearTitulo("Equipo"));
		tablaDatos.appendChild(crearTextos(plan[0].Equipo));
		}
		if(plan[0].Resumen!=""){
		tablaDatos.appendChild(crearTitulo("Resumen"));
		tablaDatos.appendChild(crearTextos(plan[0].Resumen));
		}
		if(plan[0].Mercado!=""){
		tablaDatos.appendChild(crearTitulo("Mercado"));
		tablaDatos.appendChild(crearTextos(plan[0].Mercado));
		}
		if(plan[0].Competencia!=""){
		tablaDatos.appendChild(crearTitulo("Competencia"));
		tablaDatos.appendChild(crearTextos(plan[0].Competencia));
		}
		if(plan[0].Empresa!=""){
		tablaDatos.appendChild(crearTitulo("Empresa"));
		tablaDatos.appendChild(crearTextos(plan[0].Empresa));
		}
		if(plan[0].ProductosServicios!=""){
		tablaDatos.appendChild(crearTitulo("Productos y/o Servicios"));
		tablaDatos.appendChild(crearTextos(plan[0].ProductosServicios));
		}
		if(plan[0].ProduccionServuccion!=""){
		tablaDatos.appendChild(crearTitulo("Produccion y/o Servucción"));
		tablaDatos.appendChild(crearTextos(plan[0].ProduccionServuccion));
		}
		if(plan[0].PrecioPS!=""){
		tablaDatos.appendChild(crearTitulo("Precio del Producto o Servicio"));
		tablaDatos.appendChild(crearTextos(plan[0].PrecioPS));
		}
		if(plan[0].MercadoObjetivo!=""){
		tablaDatos.appendChild(crearTitulo("Mercado Objetivo"));
		tablaDatos.appendChild(crearTextos(plan[0].MercadoObjetivo));
		}
		if(plan[0].EntradaMercado!=""){
		tablaDatos.appendChild(crearTitulo("Entrada al Mercado"));
		tablaDatos.appendChild(crearTextos(plan[0].EntradaMercado));
		}
		if(plan[0].PotencialMercado!=""){
		tablaDatos.appendChild(crearTitulo("Potencial de Mercado"));
		tablaDatos.appendChild(crearTextos(plan[0].PotencialMercado));
		}
		if(plan[0].ViabilidadJuridica!=""){
		tablaDatos.appendChild(crearTitulo("Viabilidad Juridica"));
		tablaDatos.appendChild(crearTextos(plan[0].ViabilidadJuridica));
		}
		if(plan[0].ObligacionesTributarias!=""){
		tablaDatos.appendChild(crearTitulo("Obligaciones Tributarias"));
		tablaDatos.appendChild(crearTextos(plan[0].ObligacionesTributarias));
		}
		if(plan[0].OtrosLegales!=""){
		tablaDatos.appendChild(crearTitulo("Otros Legales"));
		tablaDatos.appendChild(crearTextos(plan[0].OtrosLegales));
		}
		if(plan.length>1){
		tablaDatos.appendChild(crearTitulo("Riesgos y Contingencias"));
		var trTablaRC=document.createElement("tr");
		trTablaRC.setAttribute("align","center");
		var tablaRiesgosContingencias=document.createElement("table");
		tablaRiesgosContingencias.setAttribute("border","1");
		tablaRiesgosContingencias.setAttribute("bordercolor","black");
		var TitRies=document.createTextNode("Riesgo");
		var TitCont=document.createTextNode("Contingencia");
		var titTrRC=document.createElement("tr");
		    var tittdRiesgo=document.createElement("td");
		    var tittdContingencia=document.createElement("td");
		    var bries=document.createElement("h3");
		    var bcont=document.createElement("h3");
		    bries.appendChild(TitRies);
		    bcont.appendChild(TitCont);
		    tittdRiesgo.appendChild(bries);
		    tittdContingencia.appendChild(bcont);
		    titTrRC.appendChild(tittdRiesgo);
		    titTrRC.appendChild(tittdContingencia);
		    tablaRiesgosContingencias.appendChild(titTrRC);
		for(var elm=1;elm<plan.length;elm++){
			var trRiesgosContingencias=document.createElement("tr");
  		    var tdRiesgo=document.createElement("td");
		    var tdContingencia=document.createElement("td");
		    var preRiesgo=document.createElement("pre");
		    var preContingencia=document.createElement("pre");
		    
       	    var riesgo=document.createTextNode((plan[elm].riesgo).replaceAll("<br>","\n"));
       	    preRiesgo.appendChild(riesgo);
       	    tdRiesgo.appendChild(preRiesgo);
			
       	    var contingencia=document.createTextNode((plan[elm].contingencia).replaceAll("<br>","\n"));
       	    preContingencia.appendChild(contingencia);
            tdContingencia.appendChild(preContingencia);

            trRiesgosContingencias.appendChild(tdRiesgo);
            trRiesgosContingencias.appendChild(tdContingencia);
            
            tablaRiesgosContingencias.appendChild(trRiesgosContingencias);
				
			}
		trTablaRC.appendChild(tablaRiesgosContingencias);
		tablaDatos.appendChild(trTablaRC);
		}
			document.getElementById("formularios").appendChild(tablaDatos);
		}
	function procesaPlan(){
		borrarTexto();
		var plan=eval("("+obj.respuestaTexto()+")");
		var botonModificar=crearBoton("Modificar");
		var botonCrearReporte=crearBoton("Crear Reporte");
		var tablaOpciones=document.createElement("table");
		var tablaDatos=document.createElement("table");
		var trOpciones=document.createElement("tr");
		trOpciones.appendChild(botonModificar);
		/*trOpciones.appendChild(botonCrearReporte);*/
		tablaOpciones.appendChild(trOpciones);
		document.getElementById("texto").appendChild(tablaOpciones);
		botonModificar.id=plan[0].planId;
		botonCrearReporte.id="report_"+plan[0].planId;
		botonCrearReporte.onclick=function (evento){
            var idp=evento.srcElement.id;
 	        crearReportePlan(idp);
			}
		botonModificar.onclick=function(evento){
            var idp=evento.srcElement.id;
     	        cargarNombreEquipo(idp);
			}
		if(plan[0].Nombre!=""){
		tablaDatos.appendChild(crearTitulo(plan[0].Nombre));
		
		}
		if(plan[0].Equipo!=""){
		tablaDatos.appendChild(crearTitulo("Equipo"));
		tablaDatos.appendChild(crearTextos(plan[0].Equipo));
		}
		if(plan[0].Resumen!=""){
		tablaDatos.appendChild(crearTitulo("Resumen"));
		tablaDatos.appendChild(crearTextos(plan[0].Resumen));
		}
		if(plan[0].Mercado!=""){
		tablaDatos.appendChild(crearTitulo("Mercado"));
		tablaDatos.appendChild(crearTextos(plan[0].Mercado));
		}
		if(plan[0].Competencia!=""){
		tablaDatos.appendChild(crearTitulo("Competencia"));
		tablaDatos.appendChild(crearTextos(plan[0].Competencia));
		}
		if(plan[0].Empresa!=""){
		tablaDatos.appendChild(crearTitulo("Empresa"));
		tablaDatos.appendChild(crearTextos(plan[0].Empresa));
		}
		if(plan[0].ProductosServicios!=""){
		tablaDatos.appendChild(crearTitulo("Productos y/o Servicios"));
		tablaDatos.appendChild(crearTextos(plan[0].ProductosServicios));
		}
		if(plan[0].ProduccionServuccion!=""){
		tablaDatos.appendChild(crearTitulo("Produccion y/o Servucción"));
		tablaDatos.appendChild(crearTextos(plan[0].ProduccionServuccion));
		}
		if(plan[0].PrecioPS!=""){
		tablaDatos.appendChild(crearTitulo("Precio del Producto o Servicio"));
		tablaDatos.appendChild(crearTextos(plan[0].PrecioPS));
		}
		if(plan[0].MercadoObjetivo!=""){
		tablaDatos.appendChild(crearTitulo("Mercado Objetivo"));
		tablaDatos.appendChild(crearTextos(plan[0].MercadoObjetivo));
		}
		if(plan[0].EntradaMercado!=""){
		tablaDatos.appendChild(crearTitulo("Entrada al Mercado"));
		tablaDatos.appendChild(crearTextos(plan[0].EntradaMercado));
		}
		if(plan[0].PotencialMercado!=""){
		tablaDatos.appendChild(crearTitulo("Potencial de Mercado"));
		tablaDatos.appendChild(crearTextos(plan[0].PotencialMercado));
		}
		if(plan[0].ViabilidadJuridica!=""){
		tablaDatos.appendChild(crearTitulo("Viabilidad Juridica"));
		tablaDatos.appendChild(crearTextos(plan[0].ViabilidadJuridica));
		}
		if(plan[0].ObligacionesTributarias!=""){
		tablaDatos.appendChild(crearTitulo("Obligaciones Tributarias"));
		tablaDatos.appendChild(crearTextos(plan[0].ObligacionesTributarias));
		}
		if(plan[0].OtrosLegales!=""){
		tablaDatos.appendChild(crearTitulo("Otros Legales"));
		tablaDatos.appendChild(crearTextos(plan[0].OtrosLegales));
		}
		if(plan.length>1){
		tablaDatos.appendChild(crearTitulo("Riesgos y Contingencias"));
		var trTablaRC=document.createElement("tr");
		trTablaRC.setAttribute("align","center");
		var tablaRiesgosContingencias=document.createElement("table");
		tablaRiesgosContingencias.setAttribute("border","1");
		tablaRiesgosContingencias.setAttribute("bordercolor","black");
		var TitRies=document.createTextNode("Riesgo");
		var TitCont=document.createTextNode("Contingencia");
		var titTrRC=document.createElement("tr");
		    var tittdRiesgo=document.createElement("td");
		    var tittdContingencia=document.createElement("td");
		    var bries=document.createElement("h3");
		    var bcont=document.createElement("h3");
		    bries.appendChild(TitRies);
		    bcont.appendChild(TitCont);
		    tittdRiesgo.appendChild(bries);
		    tittdContingencia.appendChild(bcont);
		    titTrRC.appendChild(tittdRiesgo);
		    titTrRC.appendChild(tittdContingencia);
		    tablaRiesgosContingencias.appendChild(titTrRC);
		for(var elm=1;elm<plan.length;elm++){
			var trRiesgosContingencias=document.createElement("tr");
  		    var tdRiesgo=document.createElement("td");
		    var tdContingencia=document.createElement("td");
		    var preRiesgo=document.createElement("pre");
		    var preContingencia=document.createElement("pre");
		    
       	    var riesgo=document.createTextNode((plan[elm].riesgo).replaceAll("<br>","\n"));
       	    preRiesgo.appendChild(riesgo);
       	    tdRiesgo.appendChild(preRiesgo);
			
       	    var contingencia=document.createTextNode((plan[elm].contingencia).replaceAll("<br>","\n"));
       	    preContingencia.appendChild(contingencia);
            tdContingencia.appendChild(preContingencia);

            trRiesgosContingencias.appendChild(tdRiesgo);
            trRiesgosContingencias.appendChild(tdContingencia);
            
            tablaRiesgosContingencias.appendChild(trRiesgosContingencias);
				
			}
		trTablaRC.appendChild(tablaRiesgosContingencias);
		tablaDatos.appendChild(trTablaRC);
		}
		    if(plan[0].EstadoPerdidaGanancias!=""){
				tablaDatos.appendChild(crearTitulo("Estado Perdidas y Ganancias"));
				var estadoPerdidasGanancias=plan[0].EstadoPerdidaGanancias;
				var tablaEstadoPG=document.createElement("table");
				tablaEstadoPG.setAttribute("border","1");
				var trTit=document.createElement("tr");
				var tdPeriodoTit=document.createElement("td");
				tdPeriodoTit.appendChild(document.createTextNode("Periodo"));
				var tdValor=document.createElement("td");
				tdValor.appendChild(document.createTextNode("$"));
				var tdPromMes=document.createElement("td");
				tdPromMes.appendChild(document.createTextNode("Prom.Mes"));
				var tdCrecAnual=document.createElement("td");
				tdCrecAnual.setAttribute("rowspan","2");
				tdCrecAnual.appendChild(document.createTextNode("Crecimiento Anual"));
				trTit.appendChild(tdPeriodoTit);
				trTit.appendChild(tdValor);
				trTit.appendChild(tdPromMes);
				trTit.appendChild(tdCrecAnual);
				tablaEstadoPG.appendChild(trTit);

				for(var elm=0;elm<estadoPerdidasGanancias.length;elm++){
						var tr=document.createElement("tr");
						var td1=document.createElement("td");
						var td2=document.createElement("td");
						var td3=document.createElement("td");
						var td4=document.createElement("td");
						var total=parseFloat(estadoPerdidasGanancias[elm].Ano);
						td1.appendChild(document.createTextNode("Año "+(elm+1)));
						td2.appendChild(document.createTextNode(total));
						td3.appendChild(document.createTextNode(redondear(total/12)));
						tr.appendChild(td1);
						tr.appendChild(td2);
						tr.appendChild(td3);
						if(elm!=0){
							
							var incremento=(total*100)/parseFloat(estadoPerdidasGanancias[elm-1].Ano);
							td4.appendChild(document.createTextNode(redondear(incremento)+"%"));
							tr.appendChild(td4);
							}
						tablaEstadoPG.appendChild(tr);
						
					}
				
				
				tablaDatos.appendChild(tablaEstadoPG);
				}
			    var trPG=document.createElement("tr");
			    trPG.appendChild(tablaDatos);
			document.getElementById("formularios").appendChild(trPG);
			if(plan[0].EstadoDeResultados!=""){
				tablaDatos.appendChild(crearTitulo("Estado De Resultados"));
				var activosFijos=plan[0].ActivosFijos;
				var impuesto=parseFloat(plan[0].Impuestos)/100;
				var invPreoperativa=plan[0].InversionPreoperativa;
				var medios=plan[0].Medios;			
				var estadoDeResultados=plan[0].EstadoDeResultados;
		        var costosVentas=estadoDeResultados.costosVentas;
		        var costosFijos=estadoDeResultados.costosFijos;
		        var gastosAdministracion=estadoDeResultados.gastosAdministracion;
		        var manoDeObra=estadoDeResultados.manoDeObra;
		        var numAnos=costosVentas.length;        
				var tablaEstadoR=document.createElement("table");
				tablaEstadoR.setAttribute("border","1");
				var utilidadAImpuestos=new Array(numAnos);
				var utilidadBruta=new Array(numAnos);
				var utilidadOperacional=new Array(numAnos);
				var impuestos=new Array(numAnos);
				var utilidadNeta=new Array(numAnos);

				for(var i=0;i<numAnos;i++){
					utilidadBruta[i]=0;
					utilidadBruta[i]=parseFloat(estadoPerdidasGanancias[i].Ano)-parseFloat(costosVentas[i].Ano)-parseFloat(costosFijos[i].Ano)-parseFloat(manoDeObra[i].Ano);
					}
		        
				for(var i=0;i<numAnos;i++){
					utilidadOperacional[i]=0;
					utilidadOperacional[i]=parseFloat(utilidadBruta[i])-parseFloat(gastosAdministracion[i].Ano);
					}
				for(var i=0;i<numAnos;i++){
					utilidadAImpuestos[i]=0;
					if(i==0){
						utilidadAImpuestos[i]=utilidadOperacional[i]-parseFloat(activosFijos)-parseFloat(invPreoperativa)-parseFloat(medios);
						}
					else{
						utilidadAImpuestos[i]=utilidadOperacional[i];
					}
					}
				for(var i=0;i<numAnos;i++){
					impuestos[i]=0;
					if(utilidadAImpuestos[i]>0){
					impuestos[i]=utilidadAImpuestos[i]*impuesto;
					}
					
					}
				for(var i=0;i<numAnos;i++){
					utilidadNeta[i]=0;
					utilidadNeta[i]=utilidadAImpuestos[i]-impuestos[i];
					}
				
				var trTit=document.createElement("tr");
				var tdPeriodoTit=document.createElement("td");
				tdPeriodoTit.appendChild(document.createTextNode("Dato"));
				trTit.appendChild(tdPeriodoTit);
				for(var i=0;i<numAnos;i++){
					var tdTit=document.createElement("td");
					tdTit.appendChild(document.createTextNode("Año "+(i+1)));
					trTit.appendChild(tdTit);
					}
				tablaEstadoR.appendChild(trTit);

				
				var trVentas=document.createElement("tr");
				var tdVentasTit=document.createElement("td");
				tdVentasTit.appendChild(document.createTextNode("Ventas"));				
				trVentas.appendChild(tdVentasTit);
				for(var i=0;i<numAnos;i++){
					var tdVentas=document.createElement("td");
					tdVentas.appendChild(document.createTextNode(parseFloat(estadoPerdidasGanancias[i].Ano)));
					trVentas.appendChild(tdVentas);
					}
				tablaEstadoR.appendChild(trVentas);


				var trcostosVentas=document.createElement("tr");
				var tdcostosVentasTit=document.createElement("td");
				tdcostosVentasTit.appendChild(document.createTextNode("Costos de Ventas"));				
				trcostosVentas.appendChild(tdcostosVentasTit);
				for(var i=0;i<numAnos;i++){
					var tdcostosVentas=document.createElement("td");
					tdcostosVentas.appendChild(document.createTextNode(parseFloat(costosVentas[i].Ano)));
					trcostosVentas.appendChild(tdcostosVentas);
					}
				tablaEstadoR.appendChild(trcostosVentas);


				var trcostosFijos=document.createElement("tr");
				var tdcostosFijosTit=document.createElement("td");
				tdcostosFijosTit.appendChild(document.createTextNode("Costos Fijos"));				
				trcostosFijos.appendChild(tdcostosFijosTit);
				for(var i=0;i<numAnos;i++){
					var tdcostosFijos=document.createElement("td");
					tdcostosFijos.appendChild(document.createTextNode(parseFloat(costosFijos[i].Ano)));
					trcostosFijos.appendChild(tdcostosFijos);
					}
				tablaEstadoR.appendChild(trcostosFijos);

				var trmanoDeObra=document.createElement("tr");
				var tdmanoDeObraTit=document.createElement("td");
				tdmanoDeObraTit.appendChild(document.createTextNode("Mano de Obra"));				
				trmanoDeObra.appendChild(tdmanoDeObraTit);
				for(var i=0;i<numAnos;i++){
					var tdmanoDeObra=document.createElement("td");
					tdmanoDeObra.appendChild(document.createTextNode(parseFloat(manoDeObra[i].Ano)));
					trmanoDeObra.appendChild(tdmanoDeObra);
					}
				tablaEstadoR.appendChild(trmanoDeObra);

				var trutilidadBruta=document.createElement("tr");
				var tdutilidadBrutaTit=document.createElement("td");
				tdutilidadBrutaTit.appendChild(document.createTextNode("Utilidad Bruta"));				
				trutilidadBruta.appendChild(tdutilidadBrutaTit);
				for(var i=0;i<numAnos;i++){
					var tdutilidadBruta=document.createElement("td");
					tdutilidadBruta.appendChild(document.createTextNode(parseFloat(utilidadBruta[i])));
					trutilidadBruta.appendChild(tdutilidadBruta);
					}
				tablaEstadoR.appendChild(trutilidadBruta);

				var trgastosAdministracion=document.createElement("tr");
				var tdgastosAdministracionTit=document.createElement("td");
				tdgastosAdministracionTit.appendChild(document.createTextNode("Gastos Administrativos"));				
				trgastosAdministracion.appendChild(tdgastosAdministracionTit);
				for(var i=0;i<numAnos;i++){
					var tdgastosAdministracion=document.createElement("td");
					tdgastosAdministracion.appendChild(document.createTextNode(parseFloat(gastosAdministracion[i].Ano)));
					trgastosAdministracion.appendChild(tdgastosAdministracion);
					}
				tablaEstadoR.appendChild(trgastosAdministracion);


				var trutilidadOperacional=document.createElement("tr");
				var tdutilidadOperacionalTit=document.createElement("td");
				tdutilidadOperacionalTit.appendChild(document.createTextNode("Utilidad Operacional"));				
				trutilidadOperacional.appendChild(tdutilidadOperacionalTit);
				for(var i=0;i<numAnos;i++){
					var tdutilidadOperacional=document.createElement("td");
					tdutilidadOperacional.appendChild(document.createTextNode(parseFloat(utilidadOperacional[i])));
					trutilidadOperacional.appendChild(tdutilidadOperacional);
					}
				tablaEstadoR.appendChild(trutilidadOperacional);

				var trmedios=document.createElement("tr");
				var tdmediosTit=document.createElement("td");
				tdmediosTit.appendChild(document.createTextNode("Medios de comunicación"));				
				trmedios.appendChild(tdmediosTit);
				var tdmedios1=document.createElement("td");
				tdmedios1.appendChild(document.createTextNode(medios));
				trmedios.appendChild(tdmedios1);
				for(var i=1;i<numAnos;i++){
					var tdmedios=document.createElement("td");
					tdmedios.appendChild(document.createTextNode(""));
					trmedios.appendChild(tdmedios);
					}
				tablaEstadoR.appendChild(trmedios);

				var tractivosFijos=document.createElement("tr");
				var tdactivosFijosTit=document.createElement("td");
				tdactivosFijosTit.appendChild(document.createTextNode("Activos Fijos"));				
				tractivosFijos.appendChild(tdactivosFijosTit);
				var tdactivosFijos1=document.createElement("td");
				tdactivosFijos1.appendChild(document.createTextNode(activosFijos));
				tractivosFijos.appendChild(tdactivosFijos1);
				for(var i=1;i<numAnos;i++){
					var tdactivosFijos=document.createElement("td");
					tdactivosFijos.appendChild(document.createTextNode(""));
					tractivosFijos.appendChild(tdactivosFijos);
					}
				tablaEstadoR.appendChild(tractivosFijos);

				var trinvPreoperativa=document.createElement("tr");
				var tdinvPreoperativaTit=document.createElement("td");
				tdinvPreoperativaTit.appendChild(document.createTextNode("Inversion Preoperativa"));				
				trinvPreoperativa.appendChild(tdinvPreoperativaTit);
				var tdinvPreoperativa1=document.createElement("td");
				tdinvPreoperativa1.appendChild(document.createTextNode(invPreoperativa));
				trinvPreoperativa.appendChild(tdinvPreoperativa1);
				for(var i=1;i<numAnos;i++){
					var tdinvPreoperativa=document.createElement("td");
					tdinvPreoperativa.appendChild(document.createTextNode(""));
					trinvPreoperativa.appendChild(tdinvPreoperativa);
					}
				tablaEstadoR.appendChild(trinvPreoperativa);

				var trutilidadAImpuestos=document.createElement("tr");
				var tdutilidadAImpuestosTit=document.createElement("td");
				tdutilidadAImpuestosTit.appendChild(document.createTextNode("Utilidad antes de impuestos"));				
				trutilidadAImpuestos.appendChild(tdutilidadAImpuestosTit);
				for(var i=0;i<numAnos;i++){
					var tdutilidadAImpuestos=document.createElement("td");
					tdutilidadAImpuestos.appendChild(document.createTextNode(parseFloat(utilidadAImpuestos[i])));
					trutilidadAImpuestos.appendChild(tdutilidadAImpuestos);
					}
				tablaEstadoR.appendChild(trutilidadAImpuestos);

				var trImpuestos=document.createElement("tr");
				var tdImpuestosTit=document.createElement("td");
				tdImpuestosTit.appendChild(document.createTextNode("Impuestos"));				
				trImpuestos.appendChild(tdImpuestosTit);
				for(var i=0;i<numAnos;i++){
					var tdImpuestos=document.createElement("td");
					tdImpuestos.appendChild(document.createTextNode(parseFloat(impuestos[i])));
					trImpuestos.appendChild(tdImpuestos);
					}
				tablaEstadoR.appendChild(trImpuestos);

				var trutilidadNeta=document.createElement("tr");
				var tdutilidadNetaTit=document.createElement("td");
				tdutilidadNetaTit.appendChild(document.createTextNode("Utilidad Neta"));				
				trutilidadNeta.appendChild(tdutilidadNetaTit);
				for(var i=0;i<numAnos;i++){
					var tdutilidadNeta=document.createElement("td");
					tdutilidadNeta.appendChild(document.createTextNode(parseFloat(utilidadNeta[i])));
					trutilidadNeta.appendChild(tdutilidadNeta);
					}
				tablaEstadoR.appendChild(trutilidadNeta);
				
				tablaDatos.appendChild(tablaEstadoR);
				}
			    var trER=document.createElement("tr");
			    trER.appendChild(tablaDatos);
			    document.getElementById("formularios").appendChild(trER);
		}
	function miles(num){


	}
	function redondear( val){
		var a = val;
		var b = Math.round(a*100)/100;
		return b;
		}
	function crearTextos(texto){
		//texto=texto.replaceAll("<br>","</p><p>");
		//texto="<p>"+texto+"</p>";
		var tr=document.createElement("tr");
		
		tr.innerHTML=texto;
		
		return tr;
		}
	String.prototype.replaceAll =function(strTarget,strSubString ){
			var strText = this;
			var intIndexOfMatch = strText.indexOf( strTarget );
			 
			while (intIndexOfMatch != -1){
			
			strText = strText.replace( strTarget, strSubString )
			 
			
			intIndexOfMatch = strText.indexOf( strTarget );
			}
			 
			return( strText );
			}
	function crearTitulo(titulo){
		var tr=document.createElement("tr");
		var center=document.createElement("center");
		var tit=document.createElement("h1");
		var txttit=document.createTextNode(titulo);
		tit.appendChild(txttit);
		center.appendChild(tit);
		tr.appendChild(center);
		return tr;
		}
	function crearBoton(nombre){
			var boton=document.createElement("input");
			boton.type="button";
			boton.value=nombre;
			boton.className="bt_s";

			return boton;
		}
	function crearATr(texto){
		var tr=document.createElement("tr");
		tr.setAttribute("class","bt_mun1");
		var boton=crearA(texto);
		tr.appendChild(boton);
		return tr;
		}
	function crearA(nombre){
		var a=document.createElement("a");
		a.setAttribute("href","#");
		a.appendChild(document.createTextNode(nombre));
		


		return a;
	}
	function procesaSelectIdeas(){
		borrarTexto();

       
		
  		 var tIdeas = eval("("+obj.respuestaTexto()+")");

 		 var formIdeaPlan=document.createElement("form");	
		 var selectIdeas=document.createElement("select");
		 selectIdeas.name="idea";
		   
		       for (var elm = 0;elm < tIdeas.length;elm++)
		       {    

				
				    var item=document.createElement("option");
				       
		       	
		       		item.setAttribute("id",tIdeas[elm].Id);
		            item.setAttribute("name",tIdeas[elm].Id);
		            item.setAttribute("value",tIdeas[elm].Id)
		            var texto=document.createTextNode(tIdeas[elm].Nombre);
		            item.appendChild(texto);


		            selectIdeas.appendChild(item);
		            

					

		       		
		       }
		       formIdeaPlan.appendChild(selectIdeas);
		       var tablaBoton=document.createElement("table");
		       var trBoton=document.createElement("tr");
	            var siguiente=crearBoton("Siguiente");
	            siguiente.name="siguiente";
	           
	           
	            siguiente.onclick=function(){
						guardarIdeaPlan(formIdeaPlan);
		            }
				trBoton.appendChild(siguiente);
				tablaBoton.appendChild(trBoton);

			       
		       document.getElementById("formularios").appendChild(formIdeaPlan);
		       document.getElementById("formularios").appendChild(tablaBoton);
		}
	function guardarIdeaPlan(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarIdeaPlan","POST","cargarNombreEquipo", formulario);
		}
	function crearBotonTr(texto){
		var tr=document.createElement("tr");
		var boton=crearBoton(texto);
		tr.appendChild(boton);
		return tr;
		}
	function cargarNombreEquipo(id){
		borrarMenuOpciones();
		var cad="";
		if(id==undefined){
			 var res=obj.respuestaTexto();
			 cad="planId="+res;
			 id=res;
			
			}
			else{
				cad="planId="+id;
				
				}
		var tablaPlan=document.createElement("table");
		var nomEquip=crearATr("Nombre y Equipo");
		nomEquip.onclick=function (){
			cargarNombreEquipo(id);
			}
		var resumen=crearATr("Resumen Ejecutivo");
		resumen.onclick=function (){
			cargarResumen(id);
		}
		var mercado=crearATr("Mercado");
		mercado.onclick=function (){
			cargarMercado(id);
		}
		var competencia=crearATr("Competencia");
		competencia.onclick=function (){
			cargarCompetencia(id);
		}
		var empresa=crearATr("Empresa");
		empresa.onclick=function (){
			cargarEmpresa(id);
		}
		var producServicios=crearATr("Productos y/o Servicios");
		producServicios.onclick=function (){
			cargarProductosServicios(id);
		}
		var produccServuccion=crearATr("Producción y/o Servucción");
		produccServuccion.onclick=function (){
			cargarProduccionServuccion(id);
		}
		var precios=crearATr("Precios");
		precios.onclick=function (){
			cargarPrecioPS(id);
		}
		var mercObjetivo=crearATr("Mercado Objetivo");
		mercObjetivo.onclick=function (){
			cargarMercadoObjetivo(id);
		}
		var entradaMercado=crearATr("Entrada al Mercado");
		entradaMercado.onclick=function (){
			cargarEntradaMercado(id);
		}
		var potencialMercado=crearATr("Mercado Potencial");
		potencialMercado.onclick=function (){
			cargarPotencialMercado(id);
		}
		var viabilidadJuridica=crearATr("Viabilidad Juridica");
		viabilidadJuridica.onclick=function (){
			cargarViabilidadJuridica(id);
		}
		var obligacionesTributarias=crearATr("Obligaciones Tributarias");
		obligacionesTributarias.onclick=function (){
			cargarObligacionesTributarias(id);
		}
		var otrosLegales=crearATr("Otros Legales");
		otrosLegales.onclick=function (){
			cargarOtrosLegales(id);
		}
		var riesgCont=crearATr("Riesgos y Contingencias");
		riesgCont.onclick=function (){
			cargarRiesgosContingencias(id);
		}
		var financiero=crearATr("Plan Financiero");
		financiero.onclick=function (){
			crearPlanFinanciero(id);
		}
		tablaPlan.appendChild(nomEquip);
		tablaPlan.appendChild(resumen);
		tablaPlan.appendChild(mercado);
		tablaPlan.appendChild(competencia);
		tablaPlan.appendChild(empresa);
		tablaPlan.appendChild(producServicios);
		tablaPlan.appendChild(produccServuccion);
		tablaPlan.appendChild(precios);
		tablaPlan.appendChild(mercObjetivo);
		tablaPlan.appendChild(entradaMercado);
		tablaPlan.appendChild(potencialMercado);
		tablaPlan.appendChild(viabilidadJuridica);
		tablaPlan.appendChild(obligacionesTributarias);
		tablaPlan.appendChild(otrosLegales);
		tablaPlan.appendChild(riesgCont);
		tablaPlan.appendChild(financiero);
		document.getElementById("menuOpciones").appendChild(tablaPlan);
		

		obj.enviarUno("http://localhost:8080/Enwipweb/CargarNombreEquipo","GET","procesaNombreEquipo", cad);
		}
	
	
	function procesaNombreEquipo(){
		borrarTexto();

		  var datos = eval("("+obj.respuestaTexto()+")");
		  var formularioNombreEquipo=document.createElement("form");		
		  var tablaNE=document.createElement("table");
		  tablaNE.className="tabla_mensajes";
		  var trDnombre=document.createElement("tr");
		  var trnombre=document.createElement("tr");
		  var trDequipo=document.createElement("tr");
		  var trequipo=document.createElement("tr");
		  var tablaBotones=document.createElement("table");
		  var trbotones=document.createElement("tr");
		  var trError=document.createElement("tr");
		  var tdError=document.createElement("td");	
			var error=document.createElement("div");
			error.setAttribute("id","error");
			error.setAttribute("class","error");
			tdError.appendChild(error);
			trError.appendChild(tdError);
			trError.style.display="none";
			tablaNE.appendChild(trError);
		  if(datos[2].valor!=""){
		  document.getElementById("titulo").innerHTML="<h2>"+datos[2].valor+"</h2>";
		  }
		            var item=document.createElement("textarea");
		            item.setAttribute("disabled","disabled");
		            item.setAttribute("readonly","readonly");
		            item.setAttribute("cols","70");
		            item.setAttribute("rows","7");
		       	    item.setAttribute("value",datos[0].dato);
		       	    item.name=datos[0].dato;
		            var texto=document.createTextNode(datos[0].valor);
		            item.appendChild(texto);
		            trDnombre.appendChild(item);

					var nombre=document.createElement("input");
					nombre.type="text";
					nombre.setAttribute("name",datos[2].dato);	
					nombre.setAttribute("value",datos[2].valor);				
					trnombre.appendChild(nombre);

		            var item1=document.createElement("textarea");
		            item1.setAttribute("disabled","disabled");
		            item1.setAttribute("readonly","readonly");
		            item1.setAttribute("cols","70");
		            item1.setAttribute("rows","7");
		       	    item1.setAttribute("value",datos[1].dato);
		       	    item1.name=datos[1].dato;
		            var texto=document.createTextNode(datos[1].valor);
		            item1.appendChild(texto);
		            trDequipo.appendChild(item1);

		            var equipo=document.createElement("textarea");
		            equipo.setAttribute("cols","70");
		            equipo.setAttribute("rows","7");
		       	    equipo.setAttribute("name",datos[3].dato);
		       	    var txtEquipo=document.createTextNode(datos[3].valor);
		       	    equipo.appendChild(txtEquipo);
		            trequipo.appendChild(equipo);

		            var planId=document.createElement("input");
		            planId.type="hidden";
		            planId.setAttribute("name",datos[4].dato);
		            planId.setAttribute("value",datos[4].valor);
		            
					
		            var siguiente=crearBoton("Siguiente");
		            siguiente.name="siguiente";
		            
		            siguiente.onclick=function (){
		            	document.getElementById("titulo").innerHTML="<h2>"+nombre.value+"</h2>";
		            	    if(nombre.value==""||equipo.value==""){
			            	    trError.style.display = "block";
								error.appendChild(document.createTextNode("todos los datos son obligatorios"));
			            	    }

		            	    else{
							guardarNombreEquipo(formularioNombreEquipo);
		            	    }
			            }
		           
		            trbotones.appendChild(siguiente);
		            

		            tablaNE.appendChild(trDnombre);
		            tablaNE.appendChild(trnombre);
		            tablaNE.appendChild(trDequipo);
		            tablaNE.appendChild(trequipo);
		            tablaBotones.appendChild(trbotones);

					formularioNombreEquipo.appendChild(tablaNE);	
					formularioNombreEquipo.appendChild(planId);
		            document.getElementById("texto").appendChild(formularioNombreEquipo);
		            document.getElementById("texto").appendChild(tablaBotones);
					
		            
		       
		       
		}
	function guardarNombreEquipo(formulario){
		 
		obj.enviar("http://localhost:8080/Enwipweb/GuardarNombreEquipo","POST","cargarResumen", formulario)
		}
	function cargarResumen(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarResumen","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarResumen(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarResumen","POST","cargarMercado", formulario)
		}
	function cargarMercado(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarMercado","GET","procesaDatosPlanSiguiente", cad);
		}

	function guardarMercado(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarMercado","POST","cargarCompetencia", formulario)
		}
	function cargarCompetencia(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarCompetencia","GET","procesaDatosPlanSiguiente", cad);
		}

	function guardarCompetencia(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarCompetencia","POST","cargarEmpresa", formulario)
		}
	function cargarEmpresa(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarEmpresa","GET","procesaDatosPlanSiguiente", cad);
		}

	function guardarEmpresa(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarEmpresa","POST","cargarProductosServicios", formulario)
		}
	function cargarProductosServicios(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarProductosServicios","GET","procesaDatosPlanSiguiente", cad);
		}

	function guardarProductosServicios(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarProductosServicios","POST","cargarProduccionServuccion", formulario)
		}
	function cargarProduccionServuccion(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarProduccionServuccion","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarProduccionServuccion(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarProduccionServuccion","POST","cargarPrecioPS", formulario)
		}
	function cargarPrecioPS(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarPrecioPS","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarPrecioPS(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarPrecioPS","POST","cargarMercadoObjetivo", formulario)
		}
	function cargarMercadoObjetivo(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarMercadoObjetivo","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarMercadoObjetivo(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarMercadoObjetivo","POST","cargarEntradaMercado", formulario)
		}
	function cargarEntradaMercado(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarEntradaMercado","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarEntradaMercado(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarEntradaMercado","POST","cargarPotencialMercado", formulario)
		}
	function cargarPotencialMercado(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarPotencialMercado","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarPotencialMercado(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarPotencialMercado","POST","cargarViabilidadJuridica", formulario)
		}
	function cargarViabilidadJuridica(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarViabilidadJuridica","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarViabilidadJuridica(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarViabilidadJuridica","POST","cargarObligacionesTributarias", formulario)
		}
	function cargarObligacionesTributarias(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarObligacionesTributarias","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarObligacionesTributarias(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarObligacionesTributarias","POST","cargarOtrosLegales", formulario)
		}
	function cargarOtrosLegales(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarOtrosLegales","GET","procesaDatosPlanSiguiente", cad);
		}
	function guardarOtrosLegales(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarOtrosLegales","POST","cargarRiesgosContingencias", formulario)
		}
	function cargarRiesgosContingencias(id){
		 var cad="";
		 if(id==undefined){
		 var res=obj.respuestaTexto();
		 cad="planId="+res;
		 }
		 else{
			 cad="planId="+id;
			 }
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarRiesgosContingencias","GET","procesaRiesgosContingencias", cad);
		}
	
	function procesaRiesgosContingencias(){
		borrarTexto();

		  var datos = eval("("+obj.respuestaTexto()+")");
		  var formularioplanSiguiente=document.createElement("form");
		  formularioplanSiguiente.setAttribute("name","formularioplanSiguiente");		
		  var tablaR=document.createElement("table");
		  var trDplanSiguiente=document.createElement("tr");
		  
		  
		  var tablaBotones=document.createElement("table");
		  var trbotones=document.createElement("tr");			  

		  			var tdItem=document.createElement("td");
		  			tdItem.setAttribute("colspan","3");
		            var item1=document.createElement("textarea");
		            item1.setAttribute("disabled","disabled");
		            item1.setAttribute("readonly","readonly");
		            item1.setAttribute("cols","70");
		            item1.setAttribute("rows","7");
		       	    item1.setAttribute("value",datos[0].dato);
		       	    item1.name=datos[0].dato;
		            var texto=document.createTextNode(datos[0].valor);
		            item1.appendChild(texto);
		            tdItem.appendChild(item1);
		            trDplanSiguiente.appendChild(tdItem);
		            tablaR.appendChild(trDplanSiguiente);
		            

					var titRiesgo=document.createTextNode("Riesgos");
					var titContingencia=document.createTextNode("Contingencia");
					var tdTRiesgo=document.createElement("td");
					tdTRiesgo.appendChild(titRiesgo);
					var tdTContingencia=document.createElement("td");
					tdTContingencia.appendChild(titContingencia);
					
					
					var trTitulosTabla=document.createElement("tr");
					trTitulosTabla.appendChild(tdTRiesgo);
					trTitulosTabla.appendChild(tdTContingencia);
					tablaR.appendChild(trTitulosTabla);
					
					
					if(datos.length>1){
		            for (var elm = 1;elm < datos.length;elm++){
		            var trRiesgosContingencias=document.createElement("tr");
		            trRiesgosContingencias.setAttribute("id","row_"+datos[elm].id);
		  		    var tdRiesgo=document.createElement("td");
				    var tdContingencia=document.createElement("td");
				  	var tdEliminar=document.createElement("td");
				  	
		            var riesgo=document.createElement("textarea");
		            riesgo.setAttribute("cols","30");
		            riesgo.setAttribute("rows","3");
		       	    riesgo.setAttribute("name","riesgo_"+datos[elm].id);
		       	    var txtriesgo=document.createTextNode(datos[elm].riesgo);
		       	    riesgo.appendChild(txtriesgo);
		       	    tdRiesgo.appendChild(riesgo);
					
		            var contingencia=document.createElement("textarea");
		            contingencia.setAttribute("cols","30");
		            contingencia.setAttribute("rows","3");
		       	    contingencia.setAttribute("name","contingencia_"+datos[elm].id);
		       	    var txtcontingencia=document.createTextNode(datos[elm].contingencia);
		       	    contingencia.appendChild(txtcontingencia);
		            tdContingencia.appendChild(contingencia);

					var eliminar=crearBoton("X");
					eliminar.setAttribute("class","eliminar");
					eliminar.setAttribute("id",datos[elm].id);
					eliminar.onclick=function(evento){
						   var idp=evento.srcElement.id;
							eliminarRiesgoContingencia(tablaR,idp);
						}
					tdEliminar.appendChild(eliminar);
					
		            trRiesgosContingencias.appendChild(tdRiesgo);
		            trRiesgosContingencias.appendChild(tdContingencia);
		            trRiesgosContingencias.appendChild(tdEliminar);

					tablaR.appendChild(trRiesgosContingencias);
		            }
					}
					else{
		            var trRiesgosContingencias=document.createElement("tr");
		            trRiesgosContingencias.setAttribute("id","row_"+1);
		            var tdContingencia=document.createElement("td");
		  		    var tdRiesgo=document.createElement("td");
		  		    var tdEliminar=document.createElement("td");
		  		  
		            var riesgo=document.createElement("textarea");
		            riesgo.setAttribute("cols","30");
		            riesgo.setAttribute("rows","3");
		       	    riesgo.setAttribute("name","riesgo_1");
		       	    tdRiesgo.appendChild(riesgo);
					
		            var contingencia=document.createElement("textarea");
		            contingencia.setAttribute("cols","30");
		            contingencia.setAttribute("rows","3");
		       	    contingencia.setAttribute("name","contingencia_1");
		       	    tdContingencia.appendChild(contingencia);
					var eliminar=crearBoton("X");
					eliminar.setAttribute("class","eliminar");
					eliminar.setAttribute("id",1);
					eliminar.onclick=function(evento){
						   var idp=evento.srcElement.id;
							eliminarRiesgoContingencia(tablaR,idp);
						}
					tdEliminar.appendChild(eliminar);
		       	    trRiesgosContingencias.appendChild(tdRiesgo);
		            trRiesgosContingencias.appendChild(tdContingencia);
		            trRiesgosContingencias.appendChild(tdEliminar);
					tablaR.appendChild(trRiesgosContingencias);
					}
		            var planId=document.createElement("input");
		            planId.type="hidden";
		            planId.setAttribute("name",datos[0].planId);
		            planId.setAttribute("value",datos[0].valorPlanId);

					var numeroRC=2;
		            var nuevos=crearBoton("Agregar Riesgo y contingencia");
		            nuevos.name="nuevo";
		            
		            
		            nuevos.onclick=function (){
			           
			           numeroRC=crearNuevoRiesgoContingencia(numeroRC,tablaR,formularioplanSiguiente);
							
			            }
					
		            var siguiente=crearBoton("Siguiente");
		            siguiente.name="siguiente";
		            
		            siguiente.onclick=function (){

	           					guardarRiesgosContingencias(formularioplanSiguiente);
							
			            }
		           
		            trbotones.appendChild(siguiente);
		            


		            
		            
		            tablaBotones.appendChild(trbotones);

		            formularioplanSiguiente.appendChild(tablaR);
		            	
		            formularioplanSiguiente.appendChild(planId);
		            document.getElementById("texto").appendChild(formularioplanSiguiente);
		            
		            document.getElementById("texto").appendChild(nuevos);
		            document.getElementById("texto").appendChild(tablaBotones);
		}
	function nada(){

		}
	function eliminarRiesgoContingencia(tabla,id){
			var listo=eliminarFila(tabla,id);
			if(id>=100&&listo){
			var cad = "";
	 	    
		      cad = "Id="+id;

		 

	   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarRiesgoContingencia","GET","nada", cad);
			}
		}
	function eliminarProducto(tabla,id){
			var listo=eliminarFilasProducto(tabla,id);
			if(id>=100&&listo){
			var cad = "";
	 	    
		      cad = "Id="+id;

		 

	   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarProducto","GET","nada", cad);
			}
		}
	function eliminarIdea(id){
		var cad = "";
 	    
	      cad = "Id="+id;
			obj.enviarUno("http://localhost:8080/Enwipweb/EliminarIdea","GET","cargarIdeas", cad);
		}
	function eliminarPlan(id){
		var cad = "";
 	    
	      cad = "Id="+id;
			obj.enviarUno("http://localhost:8080/Enwipweb/EliminarPlan","GET","cargarPlanes", cad);
		}
	function eliminarInvPre(tabla,id){
		
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarInversionPreoperativa","GET","nada", cad);
		}
	}
	function eliminarEmpleado(tabla,id){
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarEmpleado","GET","nada", cad);
		}
		}
	function eliminarGastoVenta(tabla,id){
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarGastoVenta","GET","nada", cad);
		}
		}
	function eliminarMedio(tabla,id){
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarMedio","GET","nada", cad);
		}
		}
	function eliminarGastoFijo(tabla,id){
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarGastoFijo","GET","nada", cad);
		}
		}
	function eliminarImpuesto(tabla,id){
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
			
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarImpuesto","GET","nada", cad);
		}
		}
	function eliminarCostoFijo(tabla,id){
		var listo=eliminarFilaInvPre(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarCostoFijo","GET","nada", cad);
		}
		}
	function eliminarInsumo(id){
		var listo=eliminarFilaInsumo(id);
		var aux=id.split("_");
		if(aux[1]>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarInsumo","GET","nada", cad);
		}
	}
	function eliminarActivo(tabla,id){
		var listo=eliminarFilasActivo(tabla,id);
		
		if(id>=100&&listo){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/EliminarActivo","GET","nada", cad);
		}
	}
	function eliminarFilasActivo(tabla,id){
        if(tabla.childNodes.length == 11){
				alert("No se pueden Eliminar todos los campos");
				return false;
            } 
        else{
     tabla.removeChild(document.getElementById("rowClasT_"+id));
     tabla.removeChild(document.getElementById("rowClas_"+id));
     tabla.removeChild(document.getElementById("rowFormT_"+id));
     tabla.removeChild(document.getElementById("rowForm_"+id));
     tabla.removeChild(document.getElementById("rowDesT_"+id));
     tabla.removeChild(document.getElementById("rowDes_"+id));
     tabla.removeChild(document.getElementById("rowCantT_"+id));
     tabla.removeChild(document.getElementById("rowCant_"+id));
     tabla.removeChild(document.getElementById("rowCostT_"+id));
     tabla.removeChild(document.getElementById("rowCost_"+id));
     
        }
        return true;
		}
	function eliminarFilasProducto(tabla,id){
           if(tabla.childNodes.length == 1){
				alert("No se pueden Eliminar todos los campos");
				return false;
               } 
           else{
        tabla.removeChild(document.getElementById("rowProducto_"+id));
        
           }
           return true;
		}
	function eliminarFilaInsumo(id){
	
		var aux=id.split("_");
		
		var tabla=document.getElementById("tabla_"+aux[0]);
        if(tabla.childNodes.length == 3){
			alert("No se pueden Eliminar todos los campos");
			return false;
           } 
        else{
           
        tabla.removeChild(document.getElementById("row_"+id));
        }
        return true;
		}
	function eliminarFilaInvPre(tabla,id){
        if(tabla.childNodes.length == 3){
			alert("No se pueden Eliminar todos los campos");
			return false;
           } 
        else{
        tabla.removeChild(document.getElementById("row_"+id));
        }
       
        return true;
		}
	function eliminarFila(tabla,id){
        if(tabla.childNodes.length == 1){
			alert("No se pueden Eliminar todos los campos");
			return false;
           } 
        else{
        tabla.removeChild(document.getElementById("row_"+id));
        }
        return true;
		}
	
	function guardarRiesgosContingencias(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarRiesgosContingencias","POST","cargarEscritoTerminado", formulario);
		}
	function cargarEscritoTerminado(){
		borrarTexto();
			var res=obj.respuestaTexto();
			var h1=document.createElement("h1");
			var txtRes=document.createTextNode(res);
			h1.appendChild(txtRes);
			document.getElementById("texto").appendChild(h1);
			var botonPfinanciero=crearBoton("Regresar");
			
			botonPfinanciero.onclick=cargarPlanes;
			document.getElementById("formularios").appendChild(botonPfinanciero);
			
		}
	function crearPlanFinanciero(id){
		var cad = "";
 	    
	      cad = "Id="+id;

	 

   		obj.enviarUno("http://localhost:8080/Enwipweb/CrearPlanFinanciero","GET","procesaPlanFinanciero", cad);
		}
	function procesaPlanFinanciero(){
		borrarTexto();
		borrarMenuOpciones();
		var opciones=document.createElement("table");
		var trOpciones=document.createElement("tr");
		trOpciones.setAttribute("class","bt_mun1");
		var planEscrito=crearA("Plan Escrito");
		trOpciones.appendChild(planEscrito);
		
			
			var datos=eval("("+obj.respuestaTexto()+")");
		   document.getElementById("titulo").innerHTML="<h2>"+datos[0].nombrePlan+"</h2>";
			planEscrito.onclick=function(){
				cargarNombreEquipo(datos[0].valorPlanId);
				}
			opciones.appendChild(trOpciones);
			document.getElementById("menuOpciones").appendChild(opciones);
			var tabla=document.createElement("table");
			tabla.className="tabla_mensajes";
			var formProductos=document.createElement("form");
			var txtInfo=crearTextoInformacionTr(datos[0].valor,"1");
			tabla.appendChild(txtInfo);
			var error=document.createElement("div");
			error.setAttribute("id","error");
			error.setAttribute("class","error");
			tabla.appendChild(error);
			
			var numeroRC=1;
			document.getElementById("texto").appendChild(tabla);
			var tablaProductos=document.createElement("table");
			tablaProductos.className="tabla_mensajes";
			if(datos.length>1){
	            for (var elm = 1;elm < datos.length;elm++){
		        var tablaProducto=document.createElement("table");
		        tablaProducto.setAttribute("id","rowProducto_"+datos[elm].id);
		        var tablaSeVendeDe=document.createElement("table");
		        tablaSeVendeDe.setAttribute("id","rowSeVende_"+datos[elm].id);
		        
	  		    var tdNombre=document.createElement("td");
			   	var tdTxtNombre=document.createElement("th");
			   	tdTxtNombre.appendChild(document.createTextNode("Nombre"));

	  		    var tdPrecio=document.createElement("td");
			   	var tdTxtPrecio=document.createElement("th");
			   	tdTxtPrecio.appendChild(document.createTextNode("Precio de venta"));

	  		    var tdComision=document.createElement("td");
			   	var tdTxtComision=document.createElement("th");
			   	tdTxtComision.appendChild(document.createTextNode("Porcentaje de Comision"));
			   	

			   	
			   	var trNombre=document.createElement("tr");
			   	
			   	var trPrecio=document.createElement("tr");
			   
			   	var trComision=document.createElement("tr");
			   	
                var tdEliminar=document.createElement("td");
                tdEliminar.setAttribute("rowspan","5");

			   	var nombre=document.createElement("input");
			   	nombre.type="text";
			   	nombre.setAttribute("id","nombre_"+datos[elm].id);
			   	nombre.setAttribute("name","nombre_"+datos[elm].id);
			   	nombre.setAttribute("value",datos[elm].Nombre);
			   	tdNombre.appendChild(nombre);
				var eliminar=crearA("Eliminar");
				eliminar.setAttribute("id",datos[elm].id);
				eliminar.onclick=function(evento){
					   var idp=evento.srcElement.id;
						eliminarProducto(tablaProductos,idp);
					}
				tdEliminar.className="bt_eliminar";
				tdEliminar.appendChild(eliminar);
			   	var precio=document.createElement("input");
			   	precio.type="text";
			   	precio.setAttribute("id","precio_"+datos[elm].id);
			   	precio.setAttribute("name","precio_"+datos[elm].id);
			   	precio.setAttribute("value",datos[elm].Precio);
			   	tdPrecio.appendChild(precio);

			   	var comision=document.createElement("input");
			   	comision.type="text";
			   	comision.setAttribute("id","comision_"+datos[elm].id);
			   	comision.setAttribute("name","comision_"+datos[elm].id);
			   	comision.setAttribute("value",datos[elm].Comision);
			   	comision.setAttribute("class","porcentaje");
			   	tdComision.appendChild(comision);


			   	
			   	trNombre.appendChild(tdTxtNombre);
			   	trNombre.appendChild(tdNombre);
			   	trNombre.appendChild(tdEliminar);
			   	tablaProducto.appendChild(trNombre);

			   	trPrecio.appendChild(tdTxtPrecio);
			   	trPrecio.appendChild(tdPrecio);
			   	tablaProducto.appendChild(trPrecio);

			   	trComision.appendChild(tdTxtComision);
			   	trComision.appendChild(tdComision);
			   	tablaProducto.appendChild(trComision);



			   	var trSeVendeDe=document.createElement("tr");
			   
			   	var tdSeVendeDe=document.createElement("td");
			   	tdSeVendeDe.setAttribute("colspan",6);
			   	tdSeVendeDe.appendChild(document.createTextNode("Porcentaje del producto que se vende de:"));
			   	var trTitulos=document.createElement("tr");
			  
			   	var tdTitContado=document.createElement("th");
			   	tdTitContado.appendChild(document.createTextNode("Contado"));
			   	var tdTitA30=document.createElement("th");
			   	tdTitA30.appendChild(document.createTextNode("A 30 días"));
			   	var tdTitA60=document.createElement("th");
			   	tdTitA60.appendChild(document.createTextNode("A 60 días"));
			   	var tdTitA90=document.createElement("th");
			   	tdTitA90.appendChild(document.createTextNode("A 90 días"));
			   	var tdTitA120=document.createElement("th");
			   	tdTitA120.appendChild(document.createTextNode("A 120 días"));
			   	var tdTitA150=document.createElement("th");
			   	tdTitA150.appendChild(document.createTextNode("A 150 días"));
			   	trTitulos.appendChild(tdTitContado);
			   	trTitulos.appendChild(tdTitA30);
			   	trTitulos.appendChild(tdTitA60);
			   	trTitulos.appendChild(tdTitA90);
			   	trTitulos.appendChild(tdTitA120);
			   	trTitulos.appendChild(tdTitA150);
			   	tablaSeVendeDe.appendChild(trSeVendeDe);
			   	tablaSeVendeDe.appendChild(trTitulos);

				var trValoresDe=document.createElement("tr");
				
				var tdContado=document.createElement("td");
				var tdA30=document.createElement("td");
				var tdA60=document.createElement("td");
				var tdA90=document.createElement("td");
				var tdA120=document.createElement("td");
				var tdA150=document.createElement("td");

				var contado=document.createElement("input");
				contado.type="text";
				contado.setAttribute("id","contado_"+datos[elm].id);
				contado.setAttribute("name","contado_"+datos[elm].id);
				contado.setAttribute("value",datos[elm].Contado);
				contado.setAttribute("class","porcentaje");
		    	contado.onchange=function(evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					var id=aux[1];
					verificarPorcentaje(id);
					
					}
				tdContado.appendChild(contado);

				var a30=document.createElement("input");
				a30.type="text";
				a30.setAttribute("id","a30_"+datos[elm].id);
				a30.setAttribute("name","a30_"+datos[elm].id);
				a30.setAttribute("value",datos[elm].A30);
				a30.setAttribute("class","porcentaje");
				a30.onchange=function(evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					var id=aux[1];
					verificarPorcentaje(id);
					
					}
				tdA30.appendChild(a30);

				var a60=document.createElement("input");
				a60.type="text";
				a60.setAttribute("id","a60_"+datos[elm].id);
				a60.setAttribute("name","a60_"+datos[elm].id);
				a60.setAttribute("value",datos[elm].A60);
				a60.setAttribute("class","porcentaje");
				a60.onchange=function(evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					var id=aux[1];
					verificarPorcentaje(id);
					
					}
				tdA60.appendChild(a60);

				var a90=document.createElement("input");
				a90.type="text";
				a90.setAttribute("id","a90_"+datos[elm].id);
				a90.setAttribute("name","a90_"+datos[elm].id);
				a90.setAttribute("value",datos[elm].A90);
				a90.setAttribute("class","porcentaje");
				a90.onchange=function(evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					var id=aux[1];
					verificarPorcentaje(id);
					
					}
				tdA90.appendChild(a90);

				var a120=document.createElement("input");
				a120.type="text";
				a120.setAttribute("id","a120_"+datos[elm].id);
				a120.setAttribute("name","a120_"+datos[elm].id);
				a120.setAttribute("value",datos[elm].A120);
				a120.setAttribute("class","porcentaje");
				a120.onchange=function(evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					var id=aux[1];
					verificarPorcentaje(id);
					
					}
				tdA120.appendChild(a120);

				var a150=document.createElement("input");
				a150.type="text";
				a150.setAttribute("id","a150_"+datos[elm].id);
				a150.setAttribute("name","a150_"+datos[elm].id);
				a150.setAttribute("value",datos[elm].A150);
				a150.setAttribute("class","porcentaje");
				a150.onchange=function(evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					var id=aux[1];
					verificarPorcentaje(id);
					
					}
				tdA150.appendChild(a150);
                trValoresDe.setAttribute("id","filaPorc_"+datos[elm].id);
				trValoresDe.appendChild(tdContado);
				trValoresDe.appendChild(tdA30);
				trValoresDe.appendChild(tdA60);
				trValoresDe.appendChild(tdA90);
				trValoresDe.appendChild(tdA120);
				trValoresDe.appendChild(tdA150);
				tablaSeVendeDe.appendChild(trValoresDe);
				var trTablaAdicional=document.createElement("tr");
				var tdTablaAdicional=document.createElement("td");
				tdTablaAdicional.setAttribute("colspan","2");
				tdTablaAdicional.appendChild(tablaSeVendeDe);
				trTablaAdicional.appendChild(tdTablaAdicional);
				tablaProducto.appendChild(trTablaAdicional);
			   	tablaProductos.appendChild(tablaProducto);

				}
			}
			else{

				numeroRC=crearNuevoProducto(numeroRC,tablaProductos);

				}
			var planId=document.createElement("input");
            planId.type="hidden";
            planId.setAttribute("name",datos[0].planId);
            planId.setAttribute("value",datos[0].valorPlanId);

			
            var nuevos=crearBoton("Agregar Producto");
            nuevos.name="nuevo";
           
            
            nuevos.onclick=function (){
	           
	           numeroRC=crearNuevoProducto(numeroRC,tablaProductos);
					
	            }
			var trbotones=document.createElement("tr");
			var tablaBotones=document.createElement("table");
            var siguiente= crearBoton("Siguiente");
            siguiente.setAttribute("id","siguiente");
            siguiente.name="siguiente";
          
            siguiente.onclick=function (){
            	var sStr = true;
            	
            	for (i=0;i<formProductos.elements.length;i++)
            	{
					if(formProductos.elements[i].value==""){
							sStr=false;
							break;
						}
            	}
            	if(sStr){
            		guardarProductos(formProductos);
                	}
            	else{
            		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
                	}		
					
	            }
            
            trbotones.appendChild(siguiente);
            


            
            
            tablaBotones.appendChild(trbotones);

            formProductos.appendChild(tablaProductos);
            	
            formProductos.appendChild(planId);
            document.getElementById("formularios").appendChild(formProductos);
            document.getElementById("formularios").appendChild(nuevos);
            document.getElementById("formularios").appendChild(tablaBotones);
			
			
		}
	function verificarPorcentaje(id){
			var contado=parseInt(document.getElementById("contado_"+id).value);
			var a30=parseInt(document.getElementById("a30_"+id).value);
			var a60=parseInt(document.getElementById("a60_"+id).value);
			var a90=parseInt(document.getElementById("a90_"+id).value);
			var a120=parseInt(document.getElementById("a120_"+id).value);
			var a150=parseInt(document.getElementById("a150_"+id).value);
			if(!isNaN(contado)&&!isNaN(a30)&&!isNaN(a60)&&!isNaN(a90)&&!isNaN(a120)&&!isNaN(a150)){
					var sum=contado+a30+a60+a90+a120+a150;
					
					if(sum!=100){
							document.getElementById("siguiente").disabled=true;
							document.getElementById("error").innerHTML="La suma de los campos debe ser igual a 100";
							document.getElementById("filaPorc_"+id).className="filaError";
							
						}
					else{
						document.getElementById("siguiente").disabled=false;
						document.getElementById("error").innerHTML="";
						document.getElementById("filaPorc_"+id).className="";
						}
				}
			
			
		}
	function guardarProductos(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarProductos","POST","cargarInsumosProcesos", formulario);
		}
	function cargarMediosComunicacion(){
		var res=obj.respuestaTexto();
		 var cad="planId="+res;
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarMediosComunicacion","GET","procesaMediosComunicacion", cad);
		}
	function procesaMediosComunicacion(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaMedios=document.createElement("table");
		tablaMedios.className="tabla_mensajes";
		var formMedios=document.createElement("form");
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,3);
		tablaMedios.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaMedios.appendChild(error);
		var trTitulos=document.createElement("tr");
		var tdTitNombre=document.createElement("td");
		tdTitNombre.appendChild(document.createTextNode("Nombre"));
		trTitulos.appendChild(tdTitNombre);
		var tdTitValor=document.createElement("td");
		tdTitValor.setAttribute("colspan","2");
		tdTitValor.appendChild(document.createTextNode("Costo"));
		trTitulos.appendChild(tdTitValor);
		tablaMedios.appendChild(trTitulos);
		var numeroRC=1;
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        
		if(datos.length>1){
				for(var elm=1;elm<datos.length;elm++){
					var trMedio=document.createElement("tr");
					var tdNombre=document.createElement("td");
					var tdSigno=document.createElement("td");
					tdSigno.appendChild(document.createTextNode("$"));
					var tdValor=document.createElement("td");
					var nombre=document.createElement("input");
					nombre.type="text";
					nombre.setAttribute("name","nombre_"+datos[elm].id);
					nombre.setAttribute("value",datos[elm].Nombre);
					var valor=document.createElement("input");
					valor.type="text";
					valor.setAttribute("name","valor_"+datos[elm].id);
					valor.setAttribute("value",datos[elm].Valor);
					trMedio.setAttribute("id","row_"+datos[elm].id);
					var tdEliminar=document.createElement("td");
					var eliminar=crearBoton("X");
					eliminar.setAttribute("id",datos[elm].id);
					eliminar.onclick=function(evento){
							var idp=evento.srcElement.id;
							eliminarMedio(tablaMedios,idp);
						}
					tdEliminar.appendChild(eliminar);
					tdNombre.appendChild(nombre);
					tdValor.appendChild(valor);
					trMedio.appendChild(tdNombre);
					trMedio.appendChild(tdSigno);
					trMedio.appendChild(tdValor);
					trMedio.appendChild(tdEliminar);
					tablaMedios.appendChild(trMedio);
					

					}
			}

		else{
			numeroRC=crearNuevoMedio(numeroRC,tablaMedios);

			}
		 var nuevos=crearBoton("Agregar Medio de Comunicación");
         nuevos.name="nuevo";
        
         
         nuevos.onclick=function (){
	           
	           numeroRC=crearNuevoMedio(numeroRC,tablaMedios);
					
	            }
			var trbotones=document.createElement("tr");
			var tablaBotones=document.createElement("table");
         var siguiente=crearBoton("Siguiente");
         siguiente.name="siguiente";
        
         siguiente.onclick=function (){
          	var sStr = true;
        	
        	for (i=0;i<formMedios.elements.length;i++)
        	{
				if(formMedios.elements[i].value==""){
						sStr=false;
						break;
					}
        	}
        	if(sStr){
        		guardarMedios(formMedios);
            	}
        	else{
        		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
            	}	
    					
					
	            }
        
         trbotones.appendChild(siguiente);
         


         
         
         tablaBotones.appendChild(trbotones);

         formMedios.appendChild(tablaMedios);
         	
         formMedios.appendChild(planId);
         document.getElementById("formularios").appendChild(formMedios);
         document.getElementById("formularios").appendChild(nuevos);
         document.getElementById("formularios").appendChild(tablaBotones);

		}
	function guardarMedios(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarMedios","POST","cargarGastosVentas", formulario);
		}
	function cargarInsumosProcesos(){
		var res=obj.respuestaTexto();
		var cad="planId="+res;
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarInsumosProcesos","GET","procesaInsumosProcesos", cad);
		}

	function procesaInsumosProcesos(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var formasPago=datos[0].formasPago;
		var tablaProductos=document.createElement("table");
		tablaProductos.className="tabla_mensajes";
		var formInsumos=document.createElement("form");
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,3);
		tablaProductos.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaProductos.appendChild(error);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.className="error";
		var trError=document.createElement("tr");
		trError.appendChild(error);
		tablaProductos.appendChild(trError);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        var numeroRC=1;
        for(var elm=1;elm<datos.length;elm++){
				var trNombreProducto=document.createElement("tr");
				var tdNombreProducto=document.createElement("td");
				//tdNombreProducto.setAttribute("colspan","2");
				tdNombreProducto.appendChild(document.createTextNode(datos[elm].Nombre));
				trNombreProducto.appendChild(tdNombreProducto);
				var trPrecioProducto=document.createElement("tr");
				var tdTitPrecioProducto=document.createElement("td");
				//tdTitPrecioProducto.setAttribute("colspan","3");
				tdTitPrecioProducto.appendChild(document.createTextNode("Precio Unitario"));
				var tdPrecioProducto=document.createElement("td");
				//tdPrecioProducto.setAttribute("colspan","2");
				tdPrecioProducto.setAttribute("id","totalProductoCelda_"+datos[elm].productoId);
				var totalProducto=document.createElement("input");
				totalProducto.setAttribute("id","totalProducto_"+datos[elm].productoId);
				totalProducto.value=datos[elm].Precio;
				totalProducto.className="dinero";
				totalProducto.disabled=true;
				
				tdPrecioProducto.appendChild(totalProducto);
				trPrecioProducto.appendChild(tdTitPrecioProducto);
				trPrecioProducto.appendChild(tdPrecioProducto);
				tablaProductos.appendChild(trNombreProducto);
				tablaProductos.appendChild(trPrecioProducto);
				var insumos=datos[elm].insumosProcesos;
				var trTablaInsumos=document.createElement("tr");
				var tablaInsumos=document.createElement("table");
				var trTitulosInsumos=document.createElement("tr");
				var tdTitInsumoPro=document.createElement("td");
				tdTitInsumoPro.appendChild(document.createTextNode("Insumo o Proceso pagado al destajo"));
				var tdTitCostoUnidad=document.createElement("td");
				tdTitCostoUnidad.setAttribute("colspan","2");
				tdTitCostoUnidad.appendChild(document.createTextNode("Costo por Unidad"));
				var tdTitFormaPago=document.createElement("td");
				tdTitFormaPago.appendChild(document.createTextNode("Se compra"));
				var tdTitInventario=document.createElement("td");
				tdTitInventario.appendChild(document.createTextNode("Inventario"));
				trTitulosInsumos.appendChild(tdTitInsumoPro);
				trTitulosInsumos.appendChild(tdTitCostoUnidad);
				trTitulosInsumos.appendChild(tdTitInventario);
				trTitulosInsumos.appendChild(tdTitFormaPago);
				
				tablaInsumos.appendChild(trTitulosInsumos);
				tablaInsumos.setAttribute("id","tabla_"+datos[elm].productoId);
				if(insumos.length>0){
					for(var i=0;i<insumos.length;i++){
							var trInsumo=document.createElement("tr");
							trInsumo.setAttribute("id","row_"+datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							var tdInsumo=document.createElement("td");
							var tdCosto=document.createElement("td");
							var tdSigno=document.createElement("td");
							tdSigno.appendChild(document.createTextNode("$"));
							var tdFormaPago=document.createElement("td");
							var tdInventario=document.createElement("td");
							var insumo=document.createElement("input");
							insumo.type="text";
							insumo.setAttribute("name","nombre_"+datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							insumo.setAttribute("value",insumos[i].Nombre);
							tdInsumo.appendChild(insumo);
							trInsumo.appendChild(tdInsumo);
							trInsumo.appendChild(tdSigno);
							var costo=document.createElement("input");
							costo.type="text";
							costo.setAttribute("id","costo_"+datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							costo.setAttribute("name","costo_"+datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							costo.onchange=function (evento){
									var idp=evento.srcElement.id;
									var aux=idp.split("_");
									verificarTotalInsumos(aux[1]);
								}
							costo.setAttribute("value",insumos[i].Costo);
							var inventario=document.createElement("input");
							inventario.type="text";
							inventario.setAttribute("id","inventario_"+datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							inventario.setAttribute("class","inventario");
							inventario.setAttribute("name","inventario_"+datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							inventario.onchange=function (evento){
								var idp=evento.srcElement.id;
								var aux=idp.split("_");
								verificarTotalInsumos(aux[1]);
							}
							inventario.setAttribute("value",insumos[i].Inventario);
							var formaPago=crearSelectDeFormasPago(formasPago,datos[elm].productoId,insumos[i].insumoProcesoId,insumos[i].formaPago);
							tdInsumo.appendChild(insumo);
							tdCosto.appendChild(costo);
							tdInventario.appendChild(inventario);
							tdFormaPago.appendChild(formaPago);
							var tdEliminar=document.createElement("td");
							var eliminar=crearBoton("X");
							eliminar.setAttribute("id",datos[elm].productoId+"_"+insumos[i].insumoProcesoId);
							eliminar.onclick=function(evento){
								   var idp=evento.srcElement.id;
									eliminarInsumo(idp);
								}
							tdEliminar.appendChild(eliminar);
							
							trInsumo.appendChild(tdInsumo);
							trInsumo.appendChild(tdSigno);
							trInsumo.appendChild(tdCosto);
							trInsumo.appendChild(tdInventario);
							trInsumo.appendChild(tdFormaPago);
							trInsumo.appendChild(tdEliminar);
							tablaInsumos.appendChild(trInsumo);
							
						}
					}
				else{
						crearNuevoInsumo(datos[elm].productoId,numeroRC,formasPago,tablaInsumos);
						numeroRC++;
					}
				var trNuevos=document.createElement("tr");
				 var nuevos=crearBoton("Agregar Insumo o proceso a "+datos[elm].Nombre);
		         nuevos.name="nuevo_"+datos[elm].productoId;
		         var proId=datos[elm].productoId;
		         nuevos.setAttribute("id",proId);
		         nuevos.onclick=function (evento){
		        	    var idp=evento.srcElement.id;
						crearNuevoInsumo(idp,numeroRC,formasPago);
						numeroRC++;
							
			            }
		            trNuevos.appendChild(nuevos);
		            tablaInsumos.appendChild(trNuevos);
		            tablaProductos.appendChild(tablaInsumos);
		            
		            
				formInsumos.appendChild(tablaProductos);
            }

        var trbotones=document.createElement("tr");
		var tablaBotones=document.createElement("table");
     var siguiente=crearBoton("Siguiente");
     siguiente.id="siguiente";
     siguiente.name="siguiente";
     
     siguiente.onclick=function (){
       	var sStr = true;
    	
    	for (i=0;i<formInsumos.elements.length;i++)
    	{
			if(formInsumos.elements[i].value==""){
					sStr=false;
					break;
				}
    	}
    	if(sStr){
    		guardarInsumosProcesos(formInsumos);
        	}
    	else{
    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
        	}	
					
				
            }
    
     trbotones.appendChild(siguiente);
     


     
     
     tablaBotones.appendChild(trbotones);

     formInsumos.appendChild(tablaProductos);
     	
     formInsumos.appendChild(planId);
     document.getElementById("formularios").appendChild(formInsumos);
     document.getElementById("formularios").appendChild(tablaBotones);
	

		}
	function verificarTotalInsumos(id){
		
			var tabla=document.getElementById("tabla_"+id);
			var total=parseInt(document.getElementById("totalProducto_"+id).value);
			var filas=tabla.rows;
			var esMayor=false;
			var totalAux=0;
			for(var i=1;i<filas.length-1;i++){
					totalAux=totalAux+(parseInt(filas[i].cells[2].childNodes[0].value)*parseInt(filas[i].cells[3].childNodes[0].value));
					if(totalAux>=total&&!isNaN(totalAux)){
							esMayor=true;
						}
				}
			if(esMayor){
				document.getElementById("siguiente").disabled=true;
				document.getElementById("error").innerHTML="El costo de los insumos no puede ser igual o superar el valor de venta del producto";
				document.getElementById("totalProductoCelda_"+id).className="filaError";
				
			}
		else{
			document.getElementById("siguiente").disabled=false;
			document.getElementById("error").innerHTML="";
			document.getElementById("totalProductoCelda_"+id).className="";
			}

			
		}
	function guardarInsumosProcesos(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarInsumosProcesos","POST","cargarInversionPreoperativa", formulario);
		}
	function cargarActivosFijos(){
		var res=obj.respuestaTexto();
		var cad="planId="+res;
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarActivosFijos","GET","procesaActivosFijos", cad);
		}
	function procesaActivosFijos(){
		var datos=eval("("+obj.respuestaTexto()+")");
		borrarTexto();
		var formasPago=datos[0].formasPagos;
		var clasificacion=datos[0].Clasificacion;
		var tablaActivo=document.createElement("table");
		tablaActivo.className="tabla_mensajes";
		var formActivos=document.createElement("form");
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
		tablaActivo.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaActivo.appendChild(error);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        var numeroRC=1;
        if(datos.length>1){
        for(var elm=1;elm<datos.length;elm++){
           
				var trDesText=document.createElement("tr");
				trDesText.appendChild(document.createTextNode("Descripcion de activo fijo"));
				var trDes=document.createElement("tr");
				var trCantText=document.createElement("tr");
				trCantText.appendChild(document.createTextNode("Cantidad Requerida"));
				var trCant=document.createElement("tr");
				var trCostText=document.createElement("tr");
				trCostText.appendChild(document.createTextNode("Costo Unitario"));
				var trCost=document.createElement("tr");
				var trClasText=document.createElement("tr");
				trClasText.appendChild(document.createTextNode("Clasificación"));
				var eliminar=crearBoton("X");
				eliminar.setAttribute("id",datos[elm].ActivoId);
				eliminar.onclick=function(evento){
						var idp=evento.srcElement.id;
						 
							eliminarActivo(tablaActivo,idp);
					}
				var tdEliminar=document.createElement("td");
				tdEliminar.setAttribute("rowspan","10");
				tdEliminar.appendChild(eliminar);
				var trClas=document.createElement("tr");
				var trFormText=document.createElement("tr");
				trFormText.appendChild(document.createTextNode("Forma De Adquisición"));
				var trForm=document.createElement("tr");

				var des=document.createElement("input");
				des.type="text";
				des.setAttribute("name","des_"+datos[elm].ActivoId);
				des.setAttribute("value",datos[elm].Descripcion);

				var cant=document.createElement("input");
				cant.type="text";
				cant.setAttribute("name","cant_"+datos[elm].ActivoId);
				cant.setAttribute("value",datos[elm].Cantidad);

				var cost=document.createElement("input");
				cost.type="text";
				cost.setAttribute("name","cost_"+datos[elm].ActivoId);
				cost.setAttribute("value",datos[elm].CostoUnitario);

				var clas=crearSelectClasificacion(clasificacion,datos[elm].ActivoId,datos[elm].ClasificacionActivo);
				var formP=crearSelectFormaPagoActivo(formasPago,datos[elm].ActivoId,datos[elm].FormaPagoActivo);
				trClasText.setAttribute("id","rowClasT_"+datos[elm].ActivoId);
				trClas.setAttribute("id","rowClas_"+datos[elm].ActivoId);
				trFormText.setAttribute("id","rowFormT_"+datos[elm].ActivoId);
				trForm.setAttribute("id","rowForm_"+datos[elm].ActivoId);
				trDesText.setAttribute("id","rowDesT_"+datos[elm].ActivoId);
				trDes.setAttribute("id","rowDes_"+datos[elm].ActivoId);
				trCantText.setAttribute("id","rowCantT_"+datos[elm].ActivoId);
				trCant.setAttribute("id","rowCant_"+datos[elm].ActivoId);
				trCostText.setAttribute("id","rowCostT_"+datos[elm].ActivoId);
				trCost.setAttribute("id","rowCost_"+datos[elm].ActivoId);
				trDes.appendChild(des);
				trCant.appendChild(cant);
				trCost.appendChild(cost);
				trClas.appendChild(clas);
				trForm.appendChild(formP);
				trClasText.appendChild(tdEliminar);
				tablaActivo.appendChild(trClasText);
				tablaActivo.appendChild(trClas);
				tablaActivo.appendChild(trFormText);
				tablaActivo.appendChild(trForm);
				tablaActivo.appendChild(trDesText);
				tablaActivo.appendChild(trDes);
				tablaActivo.appendChild(trCantText);
				tablaActivo.appendChild(trCant);
				tablaActivo.appendChild(trCostText);
				tablaActivo.appendChild(trCost);
				
				
				
				
            }
        }
		else{
			numeroRC=crearNuevoActivo(numeroRC,tablaActivo,formasPago,clasificacion);
			
		}
	 var nuevos=crearBoton("Agregar Nuevo Activo");
     
     nuevos.onclick=function (){
    	   
			numeroRC=crearNuevoActivo(numeroRC,tablaActivo,formasPago,clasificacion);
			
				
            }
       		
       		 
        
		
		

		var trbotones=document.createElement("tr");
		var trNuevos=document.createElement("tr");
		trNuevos.appendChild(nuevos);
		var tablaBotones=document.createElement("table");
		var siguiente=crearBoton("Siguiente");
		siguiente.name="siguiente";
		
		siguiente.onclick=function (){
	       	var sStr = true;
	    	
	    	for (i=0;i<formActivos.elements.length;i++)
	    	{
				if(formActivos.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarActivosFijos(formActivos);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}	
				
	
		}
		
		trbotones.appendChild(siguiente);




		tablaBotones.appendChild(trNuevos);
		tablaBotones.appendChild(trbotones);

			formActivos.appendChild(tablaActivo);

		formActivos.appendChild(planId);
		document.getElementById("formularios").appendChild(formActivos);
		document.getElementById("formularios").appendChild(tablaBotones);
		
		}
	function guardarActivosFijos(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarActivosFijos","POST","cargarCostosFijos", formulario);
		}
	function cargarInversionPreoperativa(){
		var res=obj.respuestaTexto();
		var cad="planId="+res;
		obj.enviarUno("http://localhost:8080/Enwipweb/CargarInversionPreoperativa","GET","procesaInversionPreoperativa", cad);
		}
	function procesaInversionPreoperativa(){
		borrarTexto();
			var datos=eval("("+obj.respuestaTexto()+")");
			var tablaPreoperativa=document.createElement("table");
			tablaPreoperativa.className="tabla_mensajes";
			var formPreoperativa=document.createElement("form");
			var tiposPreoperativa=datos[0].tipoPreoperativa;
			var textoInformacion=crearTextoInformacionTr(datos[0].valor,3);
			tablaPreoperativa.appendChild(textoInformacion);
			var error=document.createElement("div");
			error.setAttribute("id","error");
			error.setAttribute("class","error");
			tablaPreoperativa.appendChild(error);
			var planId=document.createElement("input");
	        planId.type="hidden";
	        planId.setAttribute("name",datos[0].planId);
	        planId.setAttribute("value",datos[0].valorPlanId);
	        var trTit=document.createElement("tr");
	        var tdTipoTit=document.createElement("td");
	        tdTipoTit.appendChild(document.createTextNode("Tipo Inversion"));
	        var tdCostoTit=document.createElement("Td");
	        tdCostoTit.appendChild(document.createTextNode("Valor"));
	        trTit.appendChild(tdTipoTit);
	        trTit.appendChild(tdCostoTit);
	        tablaPreoperativa.appendChild(trTit);
	        var numeroRC=1;
	        if(datos.length>1){
	        for(var elm=1;elm<datos.length;elm++){
		        
		       	var tr=document.createElement("tr");
		       	tr.setAttribute("id","row_"+datos[elm].Id);
		       	var tdTipo=document.createElement("td");
		       	var tdCosto=document.createElement("td");
		       	var tipo=crearSelectTiposPreoperativa(tiposPreoperativa,datos[elm].Id,datos[elm].Tipo);
		       	tdTipo.appendChild(tipo);
		       	var costo=document.createElement("input");
		       	costo.type="text";
		       	costo.setAttribute("name","costo_"+datos[elm].Id);
		       	costo.setAttribute("value",datos[elm].Valor);
		       	tdCosto.appendChild(costo);
		       	var tdEliminar=document.createElement("td");
		       	var eliminar=crearBoton("X");
		       	eliminar.setAttribute("id",datos[elm].Id);
		       	eliminar.onclick=function(evento){
		       	   var idp=evento.srcElement.id;
					eliminarInvPre(tablaPreoperativa,idp);
			       	}
		       	tdEliminar.appendChild(eliminar);
		       	tr.appendChild(tdTipo);
		       	tr.appendChild(tdCosto);
		       	tr.appendChild(tdEliminar);
		       	tablaPreoperativa.appendChild(tr);
		        }
	        }
	        else{
				numeroRC=crearNuevoPreoperativo(numeroRC,tablaPreoperativa,tiposPreoperativa);
				
			}
		 var nuevos=crearBoton("Agregar Nuevo Inversion");
	     
	     nuevos.onclick=function (){
	    	   
	    	 numeroRC=crearNuevoPreoperativo(numeroRC,tablaPreoperativa,tiposPreoperativa);
				
					
	            }
	       		
	       		 
	        
				
			

			var trbotones=document.createElement("tr");
			var trNuevos=document.createElement("tr");
			trNuevos.appendChild(nuevos);
			var tablaBotones=document.createElement("table");
			var siguiente=crearBoton("Siguiente");
			siguiente.name="siguiente";
			
			siguiente.onclick=function (){
				var sStr = true;
		    	
		    	for (i=0;i<formPreoperativa.elements.length;i++)
		    	{
					if(formPreoperativa.elements[i].value==""){
							sStr=false;
							break;
						}
		    	}
		    	if(sStr){
		    		guardarInversionPreoperativa(formPreoperativa);
		        	}
		    	else{
		    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
		        	}	
					
		
			}
			
			trbotones.appendChild(siguiente);




			tablaBotones.appendChild(trNuevos);
			tablaBotones.appendChild(trbotones);

				formPreoperativa.appendChild(tablaPreoperativa);

			formPreoperativa.appendChild(planId);
			document.getElementById("formularios").appendChild(formPreoperativa);
			document.getElementById("formularios").appendChild(tablaBotones);
			
		}
	function guardarInversionPreoperativa(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarInversionPreoperativa","POST","cargarActivosFijos", formulario);
	}
function cargarCostosFijos(){
	var res=obj.respuestaTexto();
	var cad="planId="+res;
	obj.enviarUno("http://localhost:8080/Enwipweb/CargarCostosFijos","GET","procesaCostosFijos", cad);
	}
	function procesaCostosFijos(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaCostosFijos=document.createElement("table");
		tablaCostosFijos.className="tabla_mensajes";
		var formCostosFijos=document.createElement("form");
		var tiposCostosFijos=datos[0].tipoPreoperativa;
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
		tablaCostosFijos.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaCostosFijos.appendChild(error);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        var trTit=document.createElement("tr");
        var tdTipoTit=document.createElement("td");
        tdTipoTit.appendChild(document.createTextNode("Tipo Costo"));
        var tdCostoTit=document.createElement("Td");
        tdCostoTit.appendChild(document.createTextNode("Valor"));
        trTit.appendChild(tdTipoTit);
        trTit.appendChild(tdCostoTit);
        tablaCostosFijos.appendChild(trTit);
        var numeroRC=1;
        if(datos.length>1){
        for(var elm=1;elm<datos.length;elm++){
	        
	       	var tr=document.createElement("tr");
	       	tr.setAttribute("id","row_"+datos[elm].Id);
	       	var tdEliminar=document.createElement("td");
	       	var eliminar=crearBoton("X");
	       	eliminar.setAttribute("id",datos[elm].Id);
	       	eliminar.onclick=function(evento){
				var idp=evento.srcElement.id;
				eliminarCostoFijo(tablaCostosFijos,idp);
		       	}
	       	tdEliminar.appendChild(eliminar);
	       	var tdTipo=document.createElement("td");
	       	var tdCosto=document.createElement("td");
	       	var tipo=crearSelecttiposCostosFijos(tiposCostosFijos,datos[elm].Id,datos[elm].Tipo);
	       	tdTipo.appendChild(tipo);
	       	var costo=document.createElement("input");
	       	costo.type="text";
	       	costo.setAttribute("name","costo_"+datos[elm].Id);
	       	costo.setAttribute("value",datos[elm].Valor);
	       	tdCosto.appendChild(costo);
	       	tr.appendChild(tdTipo);
	       	tr.appendChild(tdCosto);
	       	tr.appendChild(tdEliminar);
	       	tablaCostosFijos.appendChild(tr);
	        }
        }
        else{
			numeroRC=crearNuevoCostoFijo(numeroRC,tablaCostosFijos,tiposCostosFijos);
			
		}
	 var nuevos=crearBoton("Agregar Nuevo Inversion");
     
     nuevos.onclick=function (){
    	   
    	 numeroRC=crearNuevoCostoFijo(numeroRC,tablaCostosFijos,tiposCostosFijos);
			
				
            }
       		
       		 
        
			
		

		var trbotones=document.createElement("tr");
		var trNuevos=document.createElement("tr");
		trNuevos.appendChild(nuevos);
		var tablaBotones=document.createElement("table");
		var siguiente=crearBoton("Siguiente");
		siguiente.name="siguiente";
		
		siguiente.onclick=function (){
			var sStr = true;
	    	
	    	for (i=0;i<formCostosFijos.elements.length;i++)
	    	{
				if(formCostosFijos.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarCostosFijos(formCostosFijos);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}	
				
	
		}
		
		trbotones.appendChild(siguiente);




		tablaBotones.appendChild(trNuevos);
		tablaBotones.appendChild(trbotones);

			formCostosFijos.appendChild(tablaCostosFijos);

		formCostosFijos.appendChild(planId);
		document.getElementById("formularios").appendChild(formCostosFijos);
		document.getElementById("formularios").appendChild(tablaBotones);
		}
	function guardarCostosFijos(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarCostosFijos","POST","cargarGastosFijosAdministracion", formulario);
	}
    function cargarGastosFijosAdministracion(){
	var res=obj.respuestaTexto();
	var cad="planId="+res;
	obj.enviarUno("http://localhost:8080/Enwipweb/CargarGastosFijosAdministracion","GET","procesaGastosFijosAdministracion", cad);
	}
	function procesaGastosFijosAdministracion(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaCostosFijos=document.createElement("table");
		tablaCostosFijos.className="tabla_mensajes";
		var formCostosFijos=document.createElement("form");
		var tiposCostosFijos=datos[0].tipoGasto;
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
		tablaCostosFijos.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaCostosFijos.appendChild(error);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        var trTit=document.createElement("tr");
        var tdTipoTit=document.createElement("td");
        tdTipoTit.appendChild(document.createTextNode("Tipo Costo"));
        var tdCostoTit=document.createElement("Td");
        tdCostoTit.appendChild(document.createTextNode("Valor"));
        trTit.appendChild(tdTipoTit);
        trTit.appendChild(tdCostoTit);
        tablaCostosFijos.appendChild(trTit);
        var numeroRC=1;
        if(datos.length>1){
        for(var elm=1;elm<datos.length;elm++){
	        
	       	var tr=document.createElement("tr");
	       	
	       	var tdTipo=document.createElement("td");
	       	var tdCosto=document.createElement("td");
	       	var tipo=crearSelecttiposCostosFijos(tiposCostosFijos,datos[elm].Id,datos[elm].Tipo);
	       	tdTipo.appendChild(tipo);
	       	var costo=document.createElement("input");
	       	costo.type="text";
	       	costo.setAttribute("name","costo_"+datos[elm].Id);
	       	costo.setAttribute("value",datos[elm].Valor);
	       	tdCosto.appendChild(costo);
	       	tr.setAttribute("id","row_"+datos[elm].Id);
	       	var tdEliminar=document.createElement("td");
	       	var eliminar=crearBoton("X");
	       	eliminar.setAttribute("id",datos[elm].Id);
	       	eliminar.onclick=function(evento){
				var idp=evento.srcElement.id;
				eliminarGastoFijo(tablaCostosFijos,idp);
				
		       	}
	       	tdEliminar.appendChild(eliminar);
	       	tr.appendChild(tdTipo);
	       	tr.appendChild(tdCosto);
	       	tr.appendChild(tdEliminar);
	       	tablaCostosFijos.appendChild(tr);
	        }
        }
        else{
			numeroRC=crearNuevoGastoFijo(numeroRC,tablaCostosFijos,tiposCostosFijos);
			
		}
	 var nuevos=crearBoton("Agregar Nuevo Inversion");
     
     nuevos.onclick=function (){
    	   
    	 numeroRC=crearNuevoGastoFijo(numeroRC,tablaCostosFijos,tiposCostosFijos);
			
				
            }
       		
       		 
        
			
		

		var trbotones=document.createElement("tr");
		var trNuevos=document.createElement("tr");
		trNuevos.appendChild(nuevos);
		var tablaBotones=document.createElement("table");
		var siguiente=crearBoton("Siguiente");
		siguiente.name="siguiente";
		
		siguiente.onclick=function (){
			var sStr = true;
	    	
	    	for (i=0;i<formCostosFijos.elements.length;i++)
	    	{
				if(formCostosFijos.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarGastosFijosAdministracion(formCostosFijos);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}	
				
	
		}
		
		trbotones.appendChild(siguiente);




		tablaBotones.appendChild(trNuevos);
		tablaBotones.appendChild(trbotones);

			formCostosFijos.appendChild(tablaCostosFijos);

		formCostosFijos.appendChild(planId);
		document.getElementById("formularios").appendChild(formCostosFijos);
		document.getElementById("formularios").appendChild(tablaBotones);
		}
	
	function guardarGastosFijosAdministracion(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarGastosFijosAdministracion","POST","cargarMediosComunicacion", formulario);
	}
    function cargarGastosVentas(){
	var res=obj.respuestaTexto();
	var cad="planId="+res;
	obj.enviarUno("http://localhost:8080/Enwipweb/CargarGastosVentas","GET","procesaGastosVentas", cad);
	}
	function procesaGastosVentas(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaCostosFijos=document.createElement("table");
		tablaCostosFijos.className="tabla_mensajes";
		var formCostosFijos=document.createElement("form");
		var tiposCostosFijos=datos[0].tipoGasto;
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
		tablaCostosFijos.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaCostosFijos.appendChild(error);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        var trTit=document.createElement("tr");
        var tdTipoTit=document.createElement("td");
        tdTipoTit.appendChild(document.createTextNode("Tipo Costo"));
        var tdCostoTit=document.createElement("Td");
        tdCostoTit.appendChild(document.createTextNode("Valor"));
        trTit.appendChild(tdTipoTit);
        trTit.appendChild(tdCostoTit);
        tablaCostosFijos.appendChild(trTit);
        var numeroRC=1;
        if(datos.length>1){
        for(var elm=1;elm<datos.length;elm++){
	        
	       	var tr=document.createElement("tr");
	       	var tdTipo=document.createElement("td");
	       	var tdCosto=document.createElement("td");
	       	var tipo=crearSelecttiposCostosFijos(tiposCostosFijos,datos[elm].Id,datos[elm].Tipo);
	       	tdTipo.appendChild(tipo);
	       	var costo=document.createElement("input");
	       	costo.type="text";
	       	costo.setAttribute("name","costo_"+datos[elm].Id);
	       	costo.setAttribute("value",datos[elm].Valor);
	       	tdCosto.appendChild(costo);
	       	tr.setAttribute("id","row_"+datos[elm].Id);
	       	var tdEliminar=document.createElement("td");
	       	var eliminar=crearBoton("X");
	       	eliminar.setAttribute("id",datos[elm].Id);
	       	eliminar.onclick=function(evento){
					var idp=evento.srcElement.id;
					eliminarGastoVenta(tablaCostosFijos,idp);
		       	}
	       	tdEliminar.appendChild(eliminar);
	       	tr.appendChild(tdTipo);
	       	tr.appendChild(tdCosto);
	       	tr.appendChild(tdEliminar);
	       	tablaCostosFijos.appendChild(tr);
	        }
        }
        else{
			numeroRC=crearNuevoGastoVenta(numeroRC,tablaCostosFijos,tiposCostosFijos);
			
		}
	 var nuevos=crearBoton("Agregar Nuevo Inversion");
    
     nuevos.onclick=function (){
    	   
    	 numeroRC=crearNuevoGastoVenta(numeroRC,tablaCostosFijos,tiposCostosFijos);
			
				
            }
       		
       		 
        
			
		

		var trbotones=document.createElement("tr");
		var trNuevos=document.createElement("tr");
		trNuevos.appendChild(nuevos);
		var tablaBotones=document.createElement("table");
		var siguiente=crearBoton("Siguiente");
		siguiente.name="siguiente";
		
		siguiente.onclick=function (){
			var sStr = true;
	    	
	    	for (i=0;i<formCostosFijos.elements.length;i++)
	    	{
				if(formCostosFijos.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarGastosVentas(formCostosFijos);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}
				
	
		}
		
		trbotones.appendChild(siguiente);




		tablaBotones.appendChild(trNuevos);
		tablaBotones.appendChild(trbotones);

			formCostosFijos.appendChild(tablaCostosFijos);

		formCostosFijos.appendChild(planId);
		document.getElementById("formularios").appendChild(formCostosFijos);
		document.getElementById("formularios").appendChild(tablaBotones);
		}
	function guardarGastosVentas(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarGastosVentas","POST","cargarEmpleados", formulario);
	}
    function cargarEmpleados(){
	var res=obj.respuestaTexto();
	var cad="planId="+res;
	obj.enviarUno("http://localhost:8080/Enwipweb/CargarEmpleados","GET","procesaEmpleados", cad);
	}
	function procesaEmpleados(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaEmpleados=document.createElement("table");
		tablaEmpleados.className="tabla_mensajes";
		var formEmpleados=document.createElement("form");
		var tipoCargo=datos[0].tipoCargo;
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,6);
		tablaEmpleados.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaEmpleados.appendChild(error);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        var trTit=document.createElement("tr");
        var tdTipoTit=document.createElement("td");
        tdTipoTit.appendChild(document.createTextNode("Cargo"));
        var tdSueldoTit=document.createElement("Td");
        tdSueldoTit.appendChild(document.createTextNode("Sueldo"));
        var tdNumTit=document.createElement("td");
        tdNumTit.appendChild(document.createTextNode("Numero de empleados"));
        var tdPrestTit=document.createElement("Td");
        tdPrestTit.appendChild(document.createTextNode("Con Prestaciones"));
        var tdPorcTit=document.createElement("td");
        tdPorcTit.appendChild(document.createTextNode("% Prestaciones"));
        var tdTotTit=document.createElement("Td");
        tdTotTit.appendChild(document.createTextNode("Total"));
        trTit.appendChild(tdTipoTit);
        trTit.appendChild(tdSueldoTit);
        trTit.appendChild(tdNumTit);
        trTit.appendChild(tdPrestTit);
        trTit.appendChild(tdPorcTit);
        trTit.appendChild(tdTotTit);
        tablaEmpleados.appendChild(trTit);
        var numeroRC=1;
        if(datos.length>1){
        for(var elm=1;elm<datos.length;elm++){
	        
	       	var tr=document.createElement("tr");
	       	var tdTipo=document.createElement("td");
	       	var tdSueldo=document.createElement("td");
	       	var tdNum=document.createElement("td");
	       	var tdCon=document.createElement("td");
	       	var tdPorc=document.createElement("td");
	       	var tdTot=document.createElement("td");
	       	
	       	var tipo=crearSelectTipoCargo(tipoCargo,datos[elm].Id,datos[elm].Tipo);
	       	tdTipo.appendChild(tipo);
	       	var sueldo=document.createElement("input");
	       	sueldo.type="text";
	       	sueldo.setAttribute("class","dinero");
	       	sueldo.setAttribute("id","sueldo_"+datos[elm].Id);
	       	sueldo.setAttribute("name","sueldo_"+datos[elm].Id);
	       	sueldo.setAttribute("value",datos[elm].Sueldo);
	    	sueldo.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				cambiarTotal(id);
				
				}
	       	tdSueldo.appendChild(sueldo);

	       	var num=document.createElement("input");
	       	num.type="text";
	       	num.setAttribute("class","inventario");
	       	num.setAttribute("id","num_"+datos[elm].Id);
	       	num.setAttribute("name","num_"+datos[elm].Id);
	       	num.setAttribute("value",datos[elm].NumeroEmpleados);
	    	num.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				cambiarTotal(id);
				
				}
	       	tdNum.appendChild(num);

	       	var con=crearSelectCon("true","false",datos[elm].Id,datos[elm].Prestaciones);
	       	con.setAttribute("id","con_"+datos[elm].Id);
	    	con.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				cambiarTotal(id);
				
				}
	       	tdCon.appendChild(con);

	       	var porc=document.createElement("input");
	       	porc.type="text";
	       	porc.setAttribute("class","porcentaje");
	       	porc.setAttribute("id","porc_"+datos[elm].Id);
	       	porc.setAttribute("name","porc_"+datos[elm].Id);
	       	porc.setAttribute("value",datos[elm].ProcPrestaciones);
	    	porc.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				cambiarTotal(id);
				
				}
	       	tdPorc.appendChild(porc);


	       	var tot=document.createElement("input");
	       	tot.type="text";
	       	tot.setAttribute("class","dinero");
	       	tot.setAttribute("name","tot_"+datos[elm].Id);
	       	tot.setAttribute("value",datos[elm].Total);
	       	tdTot.appendChild(tot);
	       	tr.setAttribute("id","row_"+datos[elm].Id);
	    	var tdEliminar=document.createElement("td");
	       	var eliminar=crearBoton("X");
	       	eliminar.setAttribute("id",datos[elm].Id);
	       	eliminar.onclick=function(evento){
	       	   var idp=evento.srcElement.id;
				eliminarEmpleado(tablaEmpleados,idp);
		       	}
	       	tdEliminar.appendChild(eliminar);

	       	
	       	tr.appendChild(tdTipo);
	       	tr.appendChild(tdSueldo);
	       	tr.appendChild(tdNum);
	       	tr.appendChild(tdCon);
	       	tr.appendChild(tdPorc);
	       	tr.appendChild(tdTot);
	       	tr.appendChild(tdEliminar);
	       	tablaEmpleados.appendChild(tr);
	        }
        }
        else{
			numeroRC=crearNuevoEmpleado(numeroRC,tablaEmpleados,tipoCargo);
			
		}
	 var nuevos=crearBoton("Agregar Nuevo Empleado");
  
     nuevos.onclick=function (){
    	   
    	 numeroRC=crearNuevoEmpleado(numeroRC,tablaEmpleados,tipoCargo);
			
				
            }
       		
       		 
        
			
		

		var trbotones=document.createElement("tr");
		var trNuevos=document.createElement("tr");
		trNuevos.appendChild(nuevos);
		var tablaBotones=document.createElement("table");
		var siguiente=crearBoton("Siguiente");
		siguiente.name="siguiente";
		
		siguiente.onclick=function (){
			var sStr = true;
	    	
	    	for (i=0;i<formEmpleados.elements.length;i++)
	    	{
				if(formEmpleados.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarEmpleados(formEmpleados);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}
				
	
		}
		
		trbotones.appendChild(siguiente);




		tablaBotones.appendChild(trNuevos);
		tablaBotones.appendChild(trbotones);

			formEmpleados.appendChild(tablaEmpleados);

		formEmpleados.appendChild(planId);
		document.getElementById("formularios").appendChild(formEmpleados);
		document.getElementById("formularios").appendChild(tablaBotones);
		}
	function guardarEmpleados(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarEmpleados","POST","cargarImpuestos", formulario);
	}
    function cargarImpuestos(){
	var res=obj.respuestaTexto();
	var cad="planId="+res;
	obj.enviarUno("http://localhost:8080/Enwipweb/CargarImpuestos","GET","procesaImpuestos", cad);
	}
	function procesaImpuestos(){
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaImpuestos=document.createElement("table");
		tablaImpuestos.className="tabla_mensajes";
		var formImpuestos=document.createElement("form");
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,3);
		tablaImpuestos.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaImpuestos.appendChild(error);
		var trTitulos=document.createElement("tr");
		var tdTitNombre=document.createElement("td");
		tdTitNombre.appendChild(document.createTextNode("Impuesto"));
		trTitulos.appendChild(tdTitNombre);
		var tdTitValor=document.createElement("td");
		tdTitValor.setAttribute("colspan","2");
		tdTitValor.appendChild(document.createTextNode("Porcentaje"));
		trTitulos.appendChild(tdTitValor);
		tablaImpuestos.appendChild(trTitulos);
		var numeroRC=1;
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        
		if(datos.length>1){
				for(var elm=1;elm<datos.length;elm++){
					var trImpuesto=document.createElement("tr");
					var tdNombre=document.createElement("td");
					var tdSigno=document.createElement("td");
					tdSigno.appendChild(document.createTextNode("%"));
					var tdValor=document.createElement("td");
					var nombre=document.createElement("input");
					nombre.type="text";
					nombre.setAttribute("name","nombre_"+datos[elm].id);
					nombre.setAttribute("value",datos[elm].Nombre);
					var valor=document.createElement("input");
					valor.type="text";
					valor.setAttribute("class","porcentaje");
					valor.setAttribute("name","valor_"+datos[elm].id);
					valor.setAttribute("value",datos[elm].Porcentaje);
					tdNombre.appendChild(nombre);
					tdValor.appendChild(valor);

					trImpuesto.setAttribute("id","row_"+datos[elm].id);
			    	var tdEliminar=document.createElement("td");
			       	var eliminar=crearBoton("X");
			       	eliminar.setAttribute("id",datos[elm].id);
			       	eliminar.onclick=function(evento){
			       	   var idp=evento.srcElement.id;
						eliminarImpuesto(tablaImpuestos,idp);
				       	}
			       	tdEliminar.appendChild(eliminar);
							
					trImpuesto.appendChild(tdNombre);
					trImpuesto.appendChild(tdSigno);
					trImpuesto.appendChild(tdValor);
					trImpuesto.appendChild(tdEliminar);
					tablaImpuestos.appendChild(trImpuesto);
					

					}
			}

		else{
			numeroRC=crearNuevoImpuesto(numeroRC,tablaImpuestos);

			}
		 var nuevos=crearBoton("Agregar Nuevo Impuesto");
         nuevos.name="nuevo";
         
        
         nuevos.onclick=function (){
	           
	           numeroRC=crearNuevoImpuesto(numeroRC,tablaImpuestos);
					
	            }
			var trbotones=document.createElement("tr");
			var tablaBotones=document.createElement("table");
         var siguiente=crearBoton("Siguiente");
         siguiente.name="siguiente";
     
         siguiente.onclick=function (){
			var sStr = true;
	    	
	    	for (i=0;i<formImpuestos.elements.length;i++)
	    	{
				if(formImpuestos.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarImpuestos(formImpuestos);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}
    					
					
	            }
       
         trbotones.appendChild(siguiente);
         


         
         
         tablaBotones.appendChild(trbotones);

         formImpuestos.appendChild(tablaImpuestos);
         	
         formImpuestos.appendChild(planId);
         document.getElementById("formularios").appendChild(formImpuestos);
         document.getElementById("formularios").appendChild(nuevos);
         document.getElementById("formularios").appendChild(tablaBotones);
		}
	
	function guardarImpuestos(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarImpuestos","POST","cargarProyeccion",formulario);
	}
	
    function cargarProyeccion(){
        
	var res=obj.respuestaTexto();
	var cad="planId="+res;
	obj.enviarUno("http://localhost:8080/Enwipweb/CargarProyeccion","GET","procesaProyeccion",cad);
	
	}
	
function procesaProyeccion(){
		
		borrarTexto();
		var datos=eval("("+obj.respuestaTexto()+")");
		var tablaProyeccion=document.createElement("table");
		tablaProyeccion.className="tabla_mensajes";
		var formProyeccion=document.createElement("form");
		var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
		tablaProyeccion.appendChild(textoInformacion);
		var error=document.createElement("div");
		error.setAttribute("id","error");
		error.setAttribute("class","error");
		tablaProyeccion.appendChild(error);
		var meses=datos[0].Meses;
		var anos=datos[0].Anos;
		
		var trFecha=document.createElement("tr");
		var trFechaTit=document.createElement("tr");
		
		var tdMesTit=document.createElement("td");
		tdMesTit.appendChild(document.createTextNode("Mes Inicio"));
		
		var tdAnoTit=document.createElement("td");
		tdAnoTit.appendChild(document.createTextNode("Ano Inicio"));
		
		trFechaTit.appendChild(tdMesTit);
		trFechaTit.appendChild(tdAnoTit);
		tablaProyeccion.appendChild(trFechaTit);
		
		var tdMes=document.createElement("td");
		var tdAno=document.createElement("td");
		
		var tdnumTit=document.createElement("td");
		tdnumTit.appendChild(document.createTextNode("Numero de Años"));

		var trNumAnos=document.createElement("tr");
		trNumAnos.appendChild(tdnumTit);
		var planId=document.createElement("input");
        planId.type="hidden";
        planId.setAttribute("name",datos[0].planId);
        planId.setAttribute("value",datos[0].valorPlanId);
        
		if(datos.length>1){
			var mes=crearSelectFecha(meses,datos[1].Mes,"mes");
			var ano=crearSelectFecha(anos,datos[1].Ano,"ano");
			tdMes.appendChild(mes);
			tdAno.appendChild(ano);
			trFecha.appendChild(tdMes);
			trFecha.appendChild(tdAno);
			tablaProyeccion.appendChild(trFecha);
			var numAnos=document.createElement("input");
			numAnos.type="text";
			numAnos.setAttribute("name","numAnos");
			numAnos.setAttribute("id","numAnos");
			numAnos.setAttribute("value",datos[1].NumAno);
			trNumAnos.appendChild(numAnos);
			tablaProyeccion.appendChild(trNumAnos);
			
			
		   }
		else{
			var mes=crearSelectFecha(meses,0,"mes");
			var ano=crearSelectFecha(anos,0,"ano");
			tdMes.appendChild(mes);
			tdAno.appendChild(ano);
			trFecha.appendChild(tdMes);
			trFecha.appendChild(tdAno);
			tablaProyeccion.appendChild(trFecha);
			var numAnos=document.createElement("input");
			numAnos.type="text";
			numAnos.setAttribute("name","numAnos");
			numAnos.setAttribute("id","numAnos");
			
			trNumAnos.appendChild(numAnos);
			tablaProyeccion.appendChild(trNumAnos);
			}
		
		var trbotones=document.createElement("tr");
		var tablaBotones=document.createElement("table");
     var siguiente=crearBoton("Siguiente");
     siguiente.name="siguiente";
     
     siguiente.onclick=function (){
    	 var sStr = true;
	    	
	    	for (i=0;i<formProyeccion.elements.length;i++)
	    	{
				if(formProyeccion.elements[i].value==""){
						sStr=false;
						break;
					}
	    	}
	    	if(sStr){
	    		guardarProyeccion(formProyeccion);
	        	}
	    	else{
	    		document.getElementById("error").innerHTML="Todos los campos son obligatorios";
	        	}
					
				
            }
     
     trbotones.appendChild(siguiente);
     


     
     
     tablaBotones.appendChild(trbotones);

     formProyeccion.appendChild(tablaProyeccion);
     	
     formProyeccion.appendChild(planId);
     document.getElementById("formularios").appendChild(formProyeccion);
     
     document.getElementById("formularios").appendChild(tablaBotones);
		
		}

function guardarProyeccion(formulario){
	obj.enviar("http://localhost:8080/Enwipweb/GuardarProyeccion","POST","cargarProyeccionProductos",formulario);
}

function cargarProyeccionProductos(){
    
var res=obj.respuestaTexto();
var cad="planId="+res;
obj.enviarUno("http://localhost:8080/Enwipweb/CargarProyeccionProductos","GET","procesaProyeccionProductos",cad);

}
function procesaProyeccionProductos() {
	borrarTexto();
var datos=eval("(" + obj.respuestaTexto() + ")");
var tablaProProductos=document.createElement("table");
tablaProProductos.className="tabla_mensajes";
var formProProductos=document.createElement("form");
var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
tablaProProductos.appendChild(textoInformacion);

var planId=document.createElement("input");
planId.type="hidden";
planId.setAttribute("name",datos[0].planId);
planId.setAttribute("value",datos[0].valorPlanId);
var productos=datos[0].Productos;
for(var elm=0;elm<productos.length;elm++){
var nombre=document.createElement("tr");
nombre.appendChild(document.createTextNode(productos[elm].Nombre));
var proId=productos[elm].Id;
var anos=productos[elm].Anos;
tablaProProductos.appendChild(nombre);
for(var i=0;i<anos.length;i++){
	if(anos[i].anoId==0){

			var numAno=parseInt((anos[i].anoId))+1;	
		    var td1=document.createElement("td");
		    td1.appendChild(document.createTextNode("Año "+numAno));
		    var td2=document.createElement("td");
		    
			var tr=document.createElement("tr");
			var tablaAno=crearTablaAno(proId,anos[i]);

			
			td2.appendChild(tablaAno);
			tr.appendChild(td1);
			tr.appendChild(td2);
			tablaProProductos.appendChild(tr);
			
		}
	else{
		var numAno=parseInt((anos[i].anoId))+1;	
	    var td1=document.createElement("td");
	    td1.appendChild(document.createTextNode("Incremento Año "+numAno));
	    var td2=document.createElement("td");
	    
		var tr=document.createElement("tr");
		var porAno=document.createElement("input");
		porAno.type="text";
		porAno.setAttribute("name","porc_"+proId+"_"+anos[i].anoId);
		porAno.setAttribute("value",anos[i].porcentajeIncremento);
		
		td2.appendChild(porAno);
		tr.appendChild(td1);
		tr.appendChild(td2);
		tablaProProductos.appendChild(tr);
		}
}
	
}
var trbotones=document.createElement("tr");
var tablaBotones=document.createElement("table");
var siguiente=crearBoton("Siguiente");
siguiente.name="siguiente";

siguiente.onclick=function (){

			guardarProyeccionProductos(formProProductos);
		
    }

trbotones.appendChild(siguiente);





tablaBotones.appendChild(trbotones);

formProProductos.appendChild(tablaProProductos);
	
formProProductos.appendChild(planId);
document.getElementById("formularios").appendChild(formProProductos);

document.getElementById("formularios").appendChild(tablaBotones);
}
function guardarProyeccionProductos(formulario){
	obj.enviar("http://localhost:8080/Enwipweb/GuardarProyeccionProductos","POST","cargarProyeccionGastosFijos",formulario);
}

function cargarProyeccionGastosFijos(){
    
var res=obj.respuestaTexto();
var cad="planId="+res;
obj.enviarUno("http://localhost:8080/Enwipweb/CargarProyeccionesGastosFijos","GET","procesaProyeccionGastosFijos",cad);

}
function procesaProyeccionGastosFijos(){
	borrarTexto();
	var datos=eval("(" + obj.respuestaTexto() + ")");
	var tablaProGastos=document.createElement("table");
	tablaProGastos.className="tabla_mensajes";
	var formProGastos=document.createElement("form");
	var textoInformacion=crearTextoInformacionTr(datos[0].valor,4);
	tablaProGastos.appendChild(textoInformacion);

	var planId=document.createElement("input");
	planId.type="hidden";
	planId.setAttribute("name",datos[0].planId);
	planId.setAttribute("value",datos[0].valorPlanId);
	
	var gastos=datos[0].GastosFijos;
	for(var elm=0;elm<gastos.length;elm++){
	
	var nombre=document.createElement("td");
	nombre.setAttribute("colspan","2");
	nombre.appendChild(document.createTextNode(gastos[elm].Nombre));
	var proId=gastos[elm].Id;
	var anos=gastos[elm].Anos;
	var trGeneral=document.createElement("tr");	
	trGeneral.appendChild(nombre);
	var bTodosSi=crearBoton("todos si");
	var bTodosNo=crearBoton("todos no");
	bTodosSi.id="si_"+proId;
	bTodosNo.id="no_"+proId;
	bTodosSi.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
			todosSi(aux[1],anos.length);
		}
	bTodosNo.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
		todosNo(aux[1],anos.length);
	}
	var tdSi=document.createElement("td");
	var tdNo=document.createElement("td");
	tdSi.appendChild(bTodosSi);
	tdNo.appendChild(bTodosNo);
	trGeneral.appendChild(tdSi);
	trGeneral.appendChild(tdNo);
	tablaProGastos.appendChild(trGeneral);
	
	for(var i=0;i<anos.length;i++){
		

				var numAno=parseInt((anos[i].anoId))+1;	
			    var td1=document.createElement("td");
			    td1.appendChild(document.createTextNode("Año "+numAno));
			    var td2=document.createElement("td");
			    
				var tr=document.createElement("tr");
				var tablaAno=crearTablaAnoSiNo(proId,anos[i]);

				
				td2.appendChild(tablaAno);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tablaProGastos.appendChild(tr);
				
			
	}
		
	}
	var trbotones=document.createElement("tr");
	var tablaBotones=document.createElement("table");
	var siguiente=crearBoton("Siguiente");
	siguiente.name="siguiente";
	
	siguiente.onclick=function (){

				guardarProyeccionGastosFijos(formProGastos);
			
	    }
	
	trbotones.appendChild(siguiente);





	tablaBotones.appendChild(trbotones);

	formProGastos.appendChild(tablaProGastos);
		
	formProGastos.appendChild(planId);
	document.getElementById("formularios").appendChild(formProGastos);

	document.getElementById("formularios").appendChild(tablaBotones);

}
function guardarProyeccionGastosFijos(formulario){
	obj.enviar("http://localhost:8080/Enwipweb/GuardarProyeccionGastosFijos","POST","cargarProyeccionCostosFijos",formulario);
}

function cargarProyeccionCostosFijos(){
    
var res=obj.respuestaTexto();
var cad="planId="+res;
obj.enviarUno("http://localhost:8080/Enwipweb/CargarProyeccionesCostosFijos","GET","procesaProyeccionCostosFijos",cad);

}
function procesaProyeccionCostosFijos(){
	borrarTexto();
	var datos=eval("(" + obj.respuestaTexto() + ")");
	var tablaProCostos=document.createElement("table");
	tablaProCostos.className="tabla_mensajes";
	var formProCostos=document.createElement("form");
	var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
	tablaProCostos.appendChild(textoInformacion);

	var planId=document.createElement("input");
	planId.type="hidden";
	planId.setAttribute("name",datos[0].planId);
	planId.setAttribute("value",datos[0].valorPlanId);
	
	var costos=datos[0].CostosFijos;
	for(var elm=0;elm<costos.length;elm++){
	var nombre=document.createElement("td");
	nombre.appendChild(document.createTextNode(costos[elm].Nombre));
	var proId=costos[elm].Id;
	var anos=costos[elm].Anos;
	var trGeneral=document.createElement("tr");	
	trGeneral.appendChild(nombre);
	var bTodosSi=crearBoton("todos si");
	var bTodosNo=crearBoton("todos no");
	bTodosSi.id="si_"+proId;
	bTodosNo.id="no_"+proId;
	bTodosSi.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
			todosSi(aux[1],anos.length);
		}
	bTodosNo.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
		todosNo(aux[1],anos.length);
	}
	var tdSi=document.createElement("td");
	var tdNo=document.createElement("td");
	tdSi.appendChild(bTodosSi);
	tdNo.appendChild(bTodosNo);
	trGeneral.appendChild(tdSi);
	trGeneral.appendChild(tdNo);
	tablaProCostos.appendChild(trGeneral);
	
	for(var i=0;i<anos.length;i++){
		

				var numAno=parseInt((anos[i].anoId))+1;	
			    var td1=document.createElement("td");
			    td1.appendChild(document.createTextNode("Año "+numAno));
			    var td2=document.createElement("td");
			    
				var tr=document.createElement("tr");
				var tablaAno=crearTablaAnoSiNo(proId,anos[i]);

				
				td2.appendChild(tablaAno);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tablaProCostos.appendChild(tr);
				
			
	}
		
	}
	var trbotones=document.createElement("tr");
	var tablaBotones=document.createElement("table");
	var siguiente=crearBoton("Siguiente");
	siguiente.name="siguiente";
	
	siguiente.onclick=function (){

				guardarProyeccionCostosFijos(formProCostos);
			
	    }
	
	trbotones.appendChild(siguiente);





	tablaBotones.appendChild(trbotones);

	formProCostos.appendChild(tablaProCostos);
		
	formProCostos.appendChild(planId);
	document.getElementById("formularios").appendChild(formProCostos);

	document.getElementById("formularios").appendChild(tablaBotones);
	
}
function guardarProyeccionCostosFijos(formulario){
	obj.enviar("http://localhost:8080/Enwipweb/GuardarProyeccionCostosFijos","POST","cargarProyeccionVentas",formulario);
}

function cargarProyeccionVentas(){
    
var res=obj.respuestaTexto();
var cad="planId="+res;
obj.enviarUno("http://localhost:8080/Enwipweb/CargarProyeccionesVentas","GET","procesaProyeccionVentas",cad);

}
function procesaProyeccionVentas(){
	borrarTexto();
	var datos=eval("(" + obj.respuestaTexto() + ")");
	var tablaProVentas=document.createElement("table");
	tablaProVentas.className="tabla_mensajes";
	var formProVentas=document.createElement("form");
	var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
	tablaProVentas.appendChild(textoInformacion);

	var planId=document.createElement("input");
	planId.type="hidden";
	planId.setAttribute("name",datos[0].planId);
	planId.setAttribute("value",datos[0].valorPlanId);
	
	var ventas=datos[0].Ventas;
	for(var elm=0;elm<ventas.length;elm++){
	var nombre=document.createElement("td");
	nombre.appendChild(document.createTextNode(ventas[elm].Nombre));
	var proId=ventas[elm].Id;
	var anos=ventas[elm].Anos;
	var trGeneral=document.createElement("tr");
	trGeneral.appendChild(nombre);
	var bTodosSi=crearBoton("todos si");
	var bTodosNo=crearBoton("todos no");
	bTodosSi.id="si_"+proId;
	bTodosNo.id="no_"+proId;
	bTodosSi.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
			todosSi(aux[1],anos.length);
		}
	bTodosNo.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
		todosNo(aux[1],anos.length);
	}
	var tdSi=document.createElement("td");
	var tdNo=document.createElement("td");
	tdSi.appendChild(bTodosSi);
	tdNo.appendChild(bTodosNo);
	trGeneral.appendChild(tdSi);
	trGeneral.appendChild(tdNo);
	tablaProVentas.appendChild(trGeneral);
	
	for(var i=0;i<anos.length;i++){
		

				var numAno=parseInt((anos[i].anoId))+1;	
			    var td1=document.createElement("td");
			    td1.appendChild(document.createTextNode("Año "+numAno));
			    var td2=document.createElement("td");
			    
				var tr=document.createElement("tr");
				var tablaAno=crearTablaAnoSiNo(proId,anos[i]);

				
				td2.appendChild(tablaAno);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tablaProVentas.appendChild(tr);
				
			
	}
		
	}
	var trbotones=document.createElement("tr");
	var tablaBotones=document.createElement("table");
	var siguiente=crearBoton("Siguiente");
	siguiente.name="siguiente";
	
	siguiente.onclick=function (){

				guardarProyeccionVentas(formProVentas);
			
	    }
	
	trbotones.appendChild(siguiente);





	tablaBotones.appendChild(trbotones);

	formProVentas.appendChild(tablaProVentas);
		
	formProVentas.appendChild(planId);
	document.getElementById("formularios").appendChild(formProVentas);

	document.getElementById("formularios").appendChild(tablaBotones);
	
}
function guardarProyeccionVentas(formulario){
	obj.enviar("http://localhost:8080/Enwipweb/GuardarProyeccionVentas","POST","cargarProyeccionEmpleados",formulario);
}

function cargarProyeccionEmpleados(){
    
var res=obj.respuestaTexto();
var cad="planId="+res;
obj.enviarUno("http://localhost:8080/Enwipweb/CargarProyeccionesEmpleados","GET","procesaProyeccionEmpleados",cad);

}
function procesaProyeccionEmpleados(){
	borrarTexto();
	var datos=eval("(" + obj.respuestaTexto() + ")");
	var tablaProEmpleados=document.createElement("table");
	tablaProEmpleados.className="tabla_mensajes";
	var formProEmpleados=document.createElement("form");
	var textoInformacion=crearTextoInformacionTr(datos[0].valor,2);
	tablaProEmpleados.appendChild(textoInformacion);

	var planId=document.createElement("input");
	planId.type="hidden";
	planId.setAttribute("name",datos[0].planId);
	planId.setAttribute("value",datos[0].valorPlanId);
	
	var empleados=datos[0].Empleados;
	for(var elm=0;elm<empleados.length;elm++){
	var nombre=document.createElement("td");
	nombre.appendChild(document.createTextNode(empleados[elm].Nombre));
	var proId=empleados[elm].Id;
	var anos=empleados[elm].Anos;
	var trGeneral=document.createElement("tr");
	trGeneral.appendChild(nombre);
	var bTodosSi=crearBoton("todos si");
	var bTodosNo=crearBoton("todos no");
	bTodosSi.id="si_"+proId;
	bTodosNo.id="no_"+proId;
	bTodosSi.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
			todosSi(aux[1],anos.length);
		}
	bTodosNo.onclick=function(evento){
		var idp=evento.srcElement.id;
		var aux=idp.split("_");
		todosNo(aux[1],anos.length);
	}
	var tdSi=document.createElement("td");
	var tdNo=document.createElement("td");
	tdSi.appendChild(bTodosSi);
	tdNo.appendChild(bTodosNo);
	trGeneral.appendChild(tdSi);
	trGeneral.appendChild(tdNo);
	tablaProEmpleados.appendChild(trGeneral);
	
	for(var i=0;i<anos.length;i++){
		

				var numAno=parseInt((anos[i].anoId))+1;	
			    var td1=document.createElement("td");
			    td1.appendChild(document.createTextNode("Año "+numAno));
			    var td2=document.createElement("td");
			    
				var tr=document.createElement("tr");
				var tablaAno=crearTablaAnoSiNo(proId,anos[i]);

				
				td2.appendChild(tablaAno);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tablaProEmpleados.appendChild(tr);
				
			
	}
		
	}
	var trbotones=document.createElement("tr");
	var tablaBotones=document.createElement("table");
	var siguiente=crearBoton("Siguiente");
	siguiente.name="siguiente";
	
	siguiente.onclick=function (){

				guardarProyeccionEmpleados(formProEmpleados);
			
	    }
	
	trbotones.appendChild(siguiente);





	tablaBotones.appendChild(trbotones);

	formProEmpleados.appendChild(tablaProEmpleados);
		
	formProEmpleados.appendChild(planId);
	document.getElementById("formularios").appendChild(formProEmpleados);

	document.getElementById("formularios").appendChild(tablaBotones);
	
}
function guardarProyeccionEmpleados(formulario){
	obj.enviar("http://localhost:8080/Enwipweb/GuardarProyeccionEmpleados","POST","cargarFinancieroTerminado",formulario);
}

function cargarFinancieroTerminado(){
    
	borrarTexto();
	var res=obj.respuestaTexto();
	var h1=document.createElement("h1");
	var txtRes=document.createTextNode(res);
	h1.appendChild(txtRes);
	document.getElementById("texto").appendChild(h1);
	var botonPfinanciero=crearBoton("Regresar");
	
	botonPfinanciero.onclick=cargarPlanes;
	document.getElementById("formularios").appendChild(botonPfinanciero);

}
function siDesdeHasta(id,anos){

	 for(var i=0;i<anos;i++){
			for(var j=1;j<13;j++){
				var select=document.getElementById("mes_"+id+"_"+i+"_"+j);
				
				for(k=0;k<2;k++){
	            if("true"==select.options[k].value){
	            	select.options[k].selected=true;	
	                   }
				}
			}
		 }
		
	}
function todosSi(id,anos){

 for(var i=0;i<anos;i++){
		for(var j=1;j<13;j++){
			var select=document.getElementById("mes_"+id+"_"+i+"_"+j);
			
			for(k=0;k<2;k++){
            if("true"==select.options[k].value){
            	select.options[k].selected=true;	
                   }
			}
		}
	 }
	
}
function todosNo(id,anos){
	 for(var i=0;i<anos;i++){
			for(var j=1;j<13;j++){
				var select=document.getElementById("mes_"+id+"_"+i+"_"+j);
				select.selectedindex=1;
				for(k=0;k<2;k++){
	            if("false"==select.options[k].value){
	            	select.options[k].selected=true;	
	                    }
				}
				}
		 }
}
function crearTablaAnoSiNo(id,anos){
	var tabla=document.createElement("table");
	for(var i=1;i<3;i++){

		var trTit=document.createElement("tr");
		var tr=document.createElement("tr");
		var filalista=false;
		for(var j=1;j<7;j++){
			var sum=j;
			if(i==2){
				sum=sum+6;
				}
			if(j==6){
				filalista=true;
				}
			else{
				filalista=false;
				}
			var tdTit=document.createElement("td");
			tdTit.appendChild(document.createTextNode("Mes "+sum));
			trTit.appendChild(tdTit);
			var td=document.createElement("td");
			var mes=crearSelectSiNo();
			
			mes.setAttribute("id","mes_"+id+"_"+anos.anoId+"_"+(sum));
			mes.setAttribute("name","mes_"+id+"_"+anos.anoId+"_"+(sum));

			if((sum)==1){
				mes.setAttribute("value",anos.mes1);
					}
			if((sum)==2){
				mes.setAttribute("value",anos.mes2);
					}
			if((sum)==3){
				mes.setAttribute("value",anos.mes3);
					}
			if((sum)==4){
				mes.setAttribute("value",anos.mes4);
					}
			if((sum)==5){
				mes.setAttribute("value",anos.mes5);
					}
			if((sum)==6){
				mes.setAttribute("value",anos.mes6);
					}
			if((sum)==7){
				mes.setAttribute("value",anos.mes7);
					}
			if((sum)==8){
				mes.setAttribute("value",anos.mes8);
					}
			if((sum)==9){
				mes.setAttribute("value",anos.mes9);
					}
			if((sum)==10){
				mes.setAttribute("value",anos.mes10);
					}
			if((sum)==11){
				mes.setAttribute("value",anos.mes11);
					}
			if((sum)==12){
				mes.setAttribute("value",anos.mes12);
					}
			td.appendChild(mes);
			tr.appendChild(td);
			
				
			}
		if(filalista){
				tabla.appendChild(trTit);
				tabla.appendChild(tr);
			}
		
	}
	return tabla;
}
	function crearSelectSiNo(){
		var select=document.createElement("select");
          var item=document.createElement("option");
          
             item.setAttribute("value","true");
             var texto=document.createTextNode("Si");
             item.appendChild(texto);
             select.appendChild(item);
             var item1=document.createElement("option");
           
             item1.setAttribute("value","false");
             var texto1=document.createTextNode("No");
             item1.appendChild(texto1);
             select.appendChild(item1);
        
		return select;
		}
function crearTablaAno(id,anos){
var tabla=document.createElement("table");
for(var i=1;i<3;i++){

	var trTit=document.createElement("tr");
	var tr=document.createElement("tr");
	var filalista=false;
	for(var j=1;j<7;j++){
		var sum=j;
		if(i==2){
			sum=sum+6;
			}
		if(j==6){
			filalista=true;
			}
		else{
			filalista=false;
			}
		var tdTit=document.createElement("td");
		tdTit.appendChild(document.createTextNode("Mes "+sum));
		trTit.appendChild(tdTit);
		var td=document.createElement("td");
		var mes=document.createElement("input");
		mes.type="text";
		mes.setAttribute("id","mes_"+id+"_"+(sum));
		mes.setAttribute("name","mes_"+id+"_"+(sum));

		if((sum)==1){
			mes.setAttribute("value",anos.mes1);
				}
		if((sum)==2){
			mes.setAttribute("value",anos.mes2);
				}
		if((sum)==3){
			mes.setAttribute("value",anos.mes3);
				}
		if((sum)==4){
			mes.setAttribute("value",anos.mes4);
				}
		if((sum)==5){
			mes.setAttribute("value",anos.mes5);
				}
		if((sum)==6){
			mes.setAttribute("value",anos.mes6);
				}
		if((sum)==7){
			mes.setAttribute("value",anos.mes7);
				}
		if((sum)==8){
			mes.setAttribute("value",anos.mes8);
				}
		if((sum)==9){
			mes.setAttribute("value",anos.mes9);
				}
		if((sum)==10){
			mes.setAttribute("value",anos.mes10);
				}
		if((sum)==11){
			mes.setAttribute("value",anos.mes11);
				}
		if((sum)==12){
			mes.setAttribute("value",anos.mes12);
				}
		td.appendChild(mes);
		tr.appendChild(td);
		
			
		}
	if(filalista){
			tabla.appendChild(trTit);
			tabla.appendChild(tr);
		}
	
}
return tabla;
}
	function crearSelectFecha(tipos,seleccionado,nombre){
		var select=document.createElement("select");
		select.setAttribute("name",nombre);
        for (var elm = 0;elm < tipos.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",tipos[elm].Valor);
             item.setAttribute("value",tipos[elm].Valor);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(tipos[elm].Valor);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}

	
	
	function crearNuevoImpuesto(num,tablaImpuestos){
		var trImpuesto=document.createElement("tr");
		var tdNombre=document.createElement("td");
		var tdSigno=document.createElement("td");
		tdSigno.appendChild(document.createTextNode("%"));
		var tdValor=document.createElement("td");
		var nombre=document.createElement("input");
		nombre.type="text";
		nombre.setAttribute("name","nombre_"+num);
	
		var valor=document.createElement("input");
		valor.type="text";
		valor.setAttribute("class","porcentaje");
		valor.setAttribute("name","valor_"+num);
	
		tdNombre.appendChild(nombre);
		tdValor.appendChild(valor);
		trImpuesto.setAttribute("id","row_"+num);
    	var tdEliminar=document.createElement("td");
       	var eliminar=crearBoton("X");
       	eliminar.setAttribute("id",num);
       	eliminar.onclick=function(evento){
       	   var idp=evento.srcElement.id;
			eliminarImpuesto(tablaImpuestos,idp);
	       	}
       	tdEliminar.appendChild(eliminar);
				
		trImpuesto.appendChild(tdNombre);
		trImpuesto.appendChild(tdSigno);
		trImpuesto.appendChild(tdValor);
		trImpuesto.appendChild(tdEliminar);

		tablaImpuestos.appendChild(trImpuesto);
		return num+1;
		}
		
	function crearNuevoEmpleado(numeroRC,tablaEmpleados,tipoCargo){
       	var tr=document.createElement("tr");
       	var tdTipo=document.createElement("td");
       	var tdSueldo=document.createElement("td");
       	var tdNum=document.createElement("td");
       	var tdCon=document.createElement("td");
       	var tdPorc=document.createElement("td");
       	var tdTot=document.createElement("td");
       	
       	var tipo=crearSelectTipoCargo(tipoCargo,numeroRC,0);
       	tdTipo.appendChild(tipo);
       	var sueldo=document.createElement("input");
       	sueldo.type="text";
       	sueldo.setAttribute("class","dinero");
       	sueldo.setAttribute("id","sueldo_"+numeroRC);
       	sueldo.setAttribute("name","sueldo_"+numeroRC);
       	sueldo.onchange=function(evento){
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			var id=aux[1];
			cambiarTotal(id);
			
			}
       	tdSueldo.appendChild(sueldo);

       	var num=document.createElement("input");
       	num.type="text";
       	num.setAttribute("class","inventario");
       	num.setAttribute("id","num_"+numeroRC);
       	num.setAttribute("name","num_"+numeroRC);
       	num.onchange=function(evento){
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			var id=aux[1];
			cambiarTotal(id);
			
			}
       	tdNum.appendChild(num);

       	var con=crearSelectCon("true","false",numeroRC,0);
       	con.setAttribute("id","con_"+numeroRC);
		con.onchange=function(evento){
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			var id=aux[1];
			cambiarTotal(id);
			
			}
       	tdCon.appendChild(con);

       	var porc=document.createElement("input");
       	porc.type="text";
       	porc.setAttribute("class","porcentaje");
       	porc.setAttribute("id","porc_"+numeroRC);
       	porc.setAttribute("name","porc_"+numeroRC);
       	porc.onchange=function(evento){
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			var id=aux[1];
			cambiarTotal(id);
			
			}
       	tdPorc.appendChild(porc);


       	var tot=document.createElement("input");
       	tot.type="text";
       	tot.setAttribute("class","dinero");
       	tot.setAttribute("id","tot_"+numeroRC);
       	tot.setAttribute("name","tot_"+numeroRC);
       	tdTot.appendChild(tot);
       	tr.setAttribute("id","row_"+numeroRC);
    	var tdEliminar=document.createElement("td");
       	var eliminar=crearBoton("X");
       	eliminar.setAttribute("id",numeroRC);
       	eliminar.onclick=function(evento){
       	   var idp=evento.srcElement.id;
			eliminarEmpleado(tablaEmpleados,idp);
	       	}
       	tdEliminar.appendChild(eliminar);

       	
       	tr.appendChild(tdTipo);
       	tr.appendChild(tdSueldo);
       	tr.appendChild(tdNum);
       	tr.appendChild(tdCon);
       	tr.appendChild(tdPorc);
       	tr.appendChild(tdTot);
       	tr.appendChild(tdEliminar);
       	
       	tablaEmpleados.appendChild(tr);
       	return numeroRC+1;
		}
	function crearSelectCon(si,no,num,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","prestaciones_"+num);
      
            var item=document.createElement("option");
             item.setAttribute("id",si);
             item.setAttribute("value",si);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode("Si");
             item.appendChild(texto);
             select.appendChild(item);
             var item1=document.createElement("option");
             item1.setAttribute("id",no);
             item1.setAttribute("value",no);
             if(seleccionado==item1.value){
			 item1.setAttribute("selected","selected");	
                 }
             texto=document.createTextNode("No");
             item1.appendChild(texto);
             select.appendChild(item1);
        
		return select;
		}
	function cambiarTotal(id){
		var num=document.getElementById("num_"+id).value;
		var sueldo=document.getElementById("sueldo_"+id).value;
		var con=document.getElementById("con_"+id).value;
		var porc=document.getElementById("porc_"+id).value;
		var total=0;
		
	
		if(con=="true"){
			porc=porc/100;
			total=sueldo*num;
			porc=porc*total;
			total=total+porc;
			document.getElementById("tot_"+id).value=total;
			}
		else{
			document.getElementById("porc_"+id).value=0;

			}
		
		}
	function crearSelectTipoCargo(tipos,num,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","tipo_"+num);
        for (var elm = 0;elm < tipos.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",tipos[elm].tipoId);
             item.setAttribute("value",tipos[elm].tipoId);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(tipos[elm].Descripcion);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}
	function crearNuevoGastoVenta(numeroRC,tablaCostosFijos,tiposCostosFijos){
		var tr=document.createElement("tr");
		tr.setAttribute("id","row_"+numeroRC);
       	var tdTipo=document.createElement("td");
       	var tdCosto=document.createElement("td");
       	var tipo=crearSelecttiposCostosFijos(tiposCostosFijos,numeroRC,0);
       	tdTipo.appendChild(tipo);
       	var costo=document.createElement("input");
       	costo.type="text";
       	costo.setAttribute("name","costo_"+numeroRC);
    	var tdEliminar=document.createElement("td");
       	var eliminar=crearBoton("X");
       	eliminar.setAttribute("id",numeroRC);
       	eliminar.onclick=function(evento){
			var idp=evento.srcElement.id;
			eliminarGastoVenta(tablaCostosFijos,idp);
			
	       	}
       	tdEliminar.appendChild(eliminar);
       	tdCosto.appendChild(costo);
       	tr.appendChild(tdTipo);
       	tr.appendChild(tdCosto);
       	tr.appendChild(tdEliminar);
       	tablaCostosFijos.appendChild(tr);
       	return numeroRC+1;
		}
	function crearNuevoCostoFijo(numeroRC,tablaCostosFijos,tiposCostosFijos){
		var tr=document.createElement("tr");
		tr.setAttribute("id","row_"+numeroRC);
       	var tdTipo=document.createElement("td");
       	var tdCosto=document.createElement("td");
       	var tipo=crearSelecttiposCostosFijos(tiposCostosFijos,numeroRC,0);
       	tdTipo.appendChild(tipo);
       	var costo=document.createElement("input");
       	costo.type="text";
       	costo.setAttribute("name","costo_"+numeroRC);
    	var tdEliminar=document.createElement("td");
       	var eliminar=crearBoton("X");
       	eliminar.setAttribute("id",numeroRC);
       	eliminar.onclick=function(evento){
			var idp=evento.srcElement.id;
			eliminarCostoFijo(tablaCostosFijos,idp);
			
	       	}
       	tdEliminar.appendChild(eliminar);
       	tdCosto.appendChild(costo);
       	tr.appendChild(tdTipo);
       	tr.appendChild(tdCosto);
       	tr.appendChild(tdEliminar);
       	tablaCostosFijos.appendChild(tr);
       	return numeroRC+1;
		}
	function crearNuevoGastoFijo(numeroRC,tablaCostosFijos,tiposCostosFijos){
		var tr=document.createElement("tr");
		tr.setAttribute("id","row_"+numeroRC);
       	var tdTipo=document.createElement("td");
       	var tdCosto=document.createElement("td");
       	var tipo=crearSelecttiposCostosFijos(tiposCostosFijos,numeroRC,0);
       	tdTipo.appendChild(tipo);
       	var costo=document.createElement("input");
       	costo.type="text";
       	costo.setAttribute("name","costo_"+numeroRC);
    	var tdEliminar=document.createElement("td");
       	var eliminar=crearBoton("X");
       	eliminar.setAttribute("id",numeroRC);
       	eliminar.onclick=function(evento){
			var idp=evento.srcElement.id;
			eliminarGastoFijo(tablaCostosFijos,idp);
			
	       	}
       	tdEliminar.appendChild(eliminar);
       	tdCosto.appendChild(costo);
       	tr.appendChild(tdTipo);
       	tr.appendChild(tdCosto);
       	tr.appendChild(tdEliminar);
       	tablaCostosFijos.appendChild(tr);
       	return numeroRC+1;
		}
	function crearSelecttiposCostosFijos(tipos,num,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","tipo_"+num);
        for (var elm = 0;elm < tipos.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",tipos[elm].tipoId);
             item.setAttribute("value",tipos[elm].tipoId);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(tipos[elm].Descripcion);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}
	function crearNuevoPreoperativo(numeroRC,tablaPreoperativa,tiposPreoperativa){
		var tr=document.createElement("tr");
		tr.setAttribute("id","row_"+numeroRC);
       	var tdTipo=document.createElement("td");
       	var tdCosto=document.createElement("td");
       	var tipo=crearSelectTiposPreoperativa(tiposPreoperativa,numeroRC,0);
       	tdTipo.appendChild(tipo);
       	var costo=document.createElement("input");
       	costo.type="text";
       	costo.setAttribute("name","costo_"+numeroRC);
       	var tdEliminar=document.createElement("td");
       	var eliminar=crearBoton("X");
       	eliminar.setAttribute("id",numeroRC);
       	eliminar.onclick=function(evento){
	       	   var idp=evento.srcElement.id;
				eliminarInvPre(tablaPreoperativa,idp);
		       	}
       	tdEliminar.appendChild(eliminar);
       	tr.appendChild(tdTipo);
       	tr.appendChild(tdCosto);
       	
       	tdCosto.appendChild(costo);
       	tr.appendChild(tdTipo);
       	tr.appendChild(tdCosto);
       	tr.appendChild(tdEliminar);
       	tablaPreoperativa.appendChild(tr);
       	return numeroRC+1;
		}
	function crearSelectTiposPreoperativa(tipos,numPro,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","tipo_"+numPro);
        for (var elm = 0;elm < tipos.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",tipos[elm].tipoId);
             item.setAttribute("value",tipos[elm].tipoId);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(tipos[elm].Descripcion);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}
	function crearNuevoActivo(numeroRC,tablaActivo,formasPago,clasificacion){
		var trDesText=document.createElement("tr");
		trDesText.appendChild(document.createTextNode("Descripcion de activo fijo"));
		var trDes=document.createElement("tr");
		var trCantText=document.createElement("tr");
		trCantText.appendChild(document.createTextNode("Cantidad Requerida"));
		var trCant=document.createElement("tr");
		var trCostText=document.createElement("tr");
		trCostText.appendChild(document.createTextNode("Costo Unitario"));
		var trCost=document.createElement("tr");
		var trClasText=document.createElement("tr");
		trClasText.appendChild(document.createTextNode("Clasificación"));
		var trClas=document.createElement("tr");
		var trFormText=document.createElement("tr");
		trFormText.appendChild(document.createTextNode("Forma De Adquisición"));
		var trForm=document.createElement("tr");
		var eliminar=crearBoton("X");
		eliminar.setAttribute("id",numeroRC);
		eliminar.onclick=function(evento){
				var idp=evento.srcElement.id;
				eliminarActivo(tablaActivo,idp);
			}
		var tdEliminar=document.createElement("td");
		tdEliminar.setAttribute("rowspan","10");
		tdEliminar.appendChild(eliminar);
		var des=document.createElement("input");
		des.type="text";
		des.setAttribute("name","des_"+numeroRC);
		

		var cant=document.createElement("input");
		cant.type="text";
		cant.setAttribute("name","cant_"+numeroRC);
		

		var cost=document.createElement("input");
		cost.type="text";
		cost.setAttribute("name","cost_"+numeroRC);
		

		var clas=crearSelectClasificacion(clasificacion,numeroRC,0);
		var formP=crearSelectFormaPagoActivo(formasPago,numeroRC,0);
		trClasText.setAttribute("id","rowClasT_"+numeroRC);
		trClas.setAttribute("id","rowClas_"+numeroRC);
		trFormText.setAttribute("id","rowFormT_"+numeroRC);
		trForm.setAttribute("id","rowForm_"+numeroRC);
		trDesText.setAttribute("id","rowDesT_"+numeroRC);
		trDes.setAttribute("id","rowDes_"+numeroRC);
		trCantText.setAttribute("id","rowCantT_"+numeroRC);
		trCant.setAttribute("id","rowCant_"+numeroRC);
		trCostText.setAttribute("id","rowCostT_"+numeroRC);
		trCost.setAttribute("id","rowCost_"+numeroRC);
		trDes.appendChild(des);
		trCant.appendChild(cant);
		trCost.appendChild(cost);
		trClas.appendChild(clas);
		trForm.appendChild(formP);
		trClasText.appendChild(tdEliminar);
		tablaActivo.appendChild(trClasText);
		tablaActivo.appendChild(trClas);
		tablaActivo.appendChild(trFormText);
		tablaActivo.appendChild(trForm);
		tablaActivo.appendChild(trDesText);
		tablaActivo.appendChild(trDes);
		tablaActivo.appendChild(trCantText);
		tablaActivo.appendChild(trCant);
		tablaActivo.appendChild(trCostText);
		tablaActivo.appendChild(trCost);

		return numeroRC+1;

			}
	function crearSelectClasificacion(clasificacion,numPro,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","clasificacion_"+numPro);
        for (var elm = 0;elm < clasificacion.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",clasificacion[elm].clasificacionId);
             item.setAttribute("value",clasificacion[elm].clasificacionId);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(clasificacion[elm].Descripcion);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}
	function crearSelectFormaPagoActivo(formasPago,numPro,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","formaPago_"+numPro);
        for (var elm = 0;elm < formasPago.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",formasPago[elm].formaPagoId);
             item.setAttribute("value",formasPago[elm].formaPagoId);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(formasPago[elm].Descripcion);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}
	function crearNuevoInsumo(prodId,num,formasPago,tabla){
var tablaInsumos;
		if(tabla==undefined){
		tablaInsumos=document.getElementById("tabla_"+prodId);
		}
		else{
		tablaInsumos=tabla;
			}
		var trInsumo=document.createElement("tr");
		trInsumo.setAttribute("id","row_"+prodId+"_"+num);
		var tdInsumo=document.createElement("td");
		var tdCosto=document.createElement("td");
		var tdSigno=document.createElement("td");
		tdSigno.appendChild(document.createTextNode("$"));
		var tdFormaPago=document.createElement("td");
		var tdInventario=document.createElement("td");
		var insumo=document.createElement("input");
		insumo.type="text";
		insumo.setAttribute("name","nombre_"+prodId+"_"+num);
		
		tdInsumo.appendChild(insumo);
		trInsumo.appendChild(tdInsumo);
		trInsumo.appendChild(tdSigno);
		var costo=document.createElement("input");
		costo.type="text";
		costo.setAttribute("id","costo_"+prodId+"_"+num);
		costo.setAttribute("name","costo_"+prodId+"_"+num);
		costo.onchange=function (evento){
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			verificarTotalInsumos(aux[1]);
		}
		
		var inventario=document.createElement("input");
		inventario.type="text";
		inventario.setAttribute("id","inventario_"+prodId+"_"+num);
		inventario.setAttribute("class","inventario");
		inventario.setAttribute("name","inventario_"+prodId+"_"+num);
		inventario.onchange=function (evento){
			var idp=evento.srcElement.id;
			var aux=idp.split("_");
			verificarTotalInsumos(aux[1]);
		}
	
		var formaPago=crearSelectDeFormasPago(formasPago,prodId,num,0);
		var tdEliminar=document.createElement("td");
		var eliminar=crearBoton("X");
		eliminar.setAttribute("id",prodId+"_"+num);
		eliminar.onclick=function(evento){
			   var idp=evento.srcElement.id;
				eliminarInsumo(idp);
			}
		tdEliminar.appendChild(eliminar);
		tdInsumo.appendChild(insumo);
		tdCosto.appendChild(costo);
		tdInventario.appendChild(inventario);
		tdFormaPago.appendChild(formaPago);
		trInsumo.appendChild(tdInsumo);
		trInsumo.appendChild(tdSigno);
		trInsumo.appendChild(tdCosto);
		trInsumo.appendChild(tdInventario);
		trInsumo.appendChild(tdFormaPago);
		trInsumo.appendChild(tdEliminar);
		if(tablaInsumos.getElementsByTagName("tr")==null){
			tablaInsumos.appendChild(trInsumo);
			}
		else{
		tablaInsumos.insertBefore(trInsumo,tablaInsumos.getElementsByTagName("tr")[tablaInsumos.childNodes.length-1]);
		}
		}
	function crearSelectDeFormasPago(formasPago,numPro,numInsPro,seleccionado){
		var select=document.createElement("select");
		select.setAttribute("name","formaPago_"+numPro+"_"+numInsPro);
        for (var elm = 0;elm < formasPago.length;elm++)
        {    var item=document.createElement("option");
             item.setAttribute("id",formasPago[elm].formaPagoId);
             item.setAttribute("value",formasPago[elm].formaPagoId);
             if(seleccionado==item.value){
			 item.setAttribute("selected","selected");	
                 }
             var texto=document.createTextNode(formasPago[elm].Descripcion);
             item.appendChild(texto);
             select.appendChild(item);
        }
		return select;
		}
	function crearNuevoMedio(num,tablaMedios){
		var trMedio=document.createElement("tr");
		var tdNombre=document.createElement("td");
		var tdSigno=document.createElement("td");
		tdSigno.appendChild(document.createTextNode("$"));
		var tdValor=document.createElement("td");
		var nombre=document.createElement("input");
		nombre.type="text";
		nombre.setAttribute("name","nombre_"+num);
	
		var valor=document.createElement("input");
		valor.type="text";
		valor.setAttribute("name","valor_"+num);
	
		trMedio.setAttribute("id","row_"+num);
		var tdEliminar=document.createElement("td");
		var eliminar=crearBoton("X");
		eliminar.setAttribute("id",num);
		eliminar.onclick=function(evento){
				var idp=evento.srcElement.id;
				eliminarMedio(tablaMedios,idp);
			}
		tdEliminar.appendChild(eliminar);
		tdNombre.appendChild(nombre);
		tdValor.appendChild(valor);
		trMedio.appendChild(tdNombre);
		trMedio.appendChild(tdSigno);
		trMedio.appendChild(tdValor);
		trMedio.appendChild(tdEliminar);
		tablaMedios.appendChild(trMedio);
		return num+1;
		}
	function crearTextoInformacionTr(texto,cols){
		var trItem=document.createElement("tr");
		var tdItem=document.createElement("td");
		if(cols!=1){
			tdItem.setAttribute("colspan",cols);
		}
        var item1=document.createElement("textarea");
        item1.setAttribute("disabled","disabled");
        item1.setAttribute("readonly","readonly");
        item1.setAttribute("cols","70");
        item1.setAttribute("rows","7");
   	   
        var texto=document.createTextNode(texto);
        item1.appendChild(texto);
        tdItem.appendChild(item1);
        trItem.appendChild(tdItem);
 		return trItem;
		}
	function crearNuevoProducto(num,tablaProductos){
        var tablaProducto=document.createElement("table");
        tablaProducto.setAttribute("id","rowProducto_"+num);
        var tablaSeVendeDe=document.createElement("table");
        tablaSeVendeDe.setAttribute("id","rowSeVende_"+num);
	        
		    var tdNombre=document.createElement("td");
		   	var tdTxtNombre=document.createElement("th");
		   	tdTxtNombre.appendChild(document.createTextNode("Nombre"));

		    var tdPrecio=document.createElement("td");
		   	var tdTxtPrecio=document.createElement("th");
		   	tdTxtPrecio.appendChild(document.createTextNode("Precio de venta"));

		    var tdComision=document.createElement("td");
		   	var tdTxtComision=document.createElement("th");
		   	tdTxtComision.appendChild(document.createTextNode("Porcentaje de Comision"));
		   	
		   
		   	
		   	var trNombre=document.createElement("tr");
		   	trNombre.setAttribute("id","rowNombre_"+num);
		   	var trPrecio=document.createElement("tr");
		   	trPrecio.setAttribute("id","rowPrecio_"+num);
		   	var trComision=document.createElement("tr");
		   	trComision.setAttribute("id","rowComision_"+num);
			var tdEliminar=document.createElement("td");
			tdEliminar.setAttribute("rowspan","5");

		   	var nombre=document.createElement("input");
		   	nombre.type="text";
		   	nombre.setAttribute("name","nombre_"+num);
		   	tdNombre.appendChild(nombre);

			var eliminar=crearA("Eliminar");
			eliminar.setAttribute("id",num);
			eliminar.onclick=function(evento){
				   var idp=evento.srcElement.id;
					eliminarProducto(tablaProductos,idp);
				}
			tdEliminar.className="bt_eliminar";
			tdEliminar.appendChild(eliminar);
		   	var precio=document.createElement("input");
		   	precio.type="text";
		   	precio.setAttribute("name","precio_"+num);
		   	tdPrecio.appendChild(precio);

		   	var comision=document.createElement("input");
		   	comision.type="text";
		   	comision.setAttribute("class","porcentaje");
		   	comision.setAttribute("name","comision_"+num);
		   	tdComision.appendChild(comision);



		   	
		   	trNombre.appendChild(tdTxtNombre);
		   	trNombre.appendChild(tdNombre);
		   	trNombre.appendChild(tdEliminar);
		   	tablaProducto.appendChild(trNombre);

		   	trPrecio.appendChild(tdTxtPrecio);
		   	trPrecio.appendChild(tdPrecio);
		   	tablaProducto.appendChild(trPrecio);

		   	trComision.appendChild(tdTxtComision);
		   	trComision.appendChild(tdComision);
		   	tablaProducto.appendChild(trComision);



		   	var trSeVendeDe=document.createElement("tr");
		   	trSeVendeDe.setAttribute("id","rowSeVende_"+num);
		   	var tdSeVendeDe=document.createElement("td");
		   	tdSeVendeDe.setAttribute("colspan",6);
		   	tdSeVendeDe.appendChild(document.createTextNode("Porcentaje del producto que se vende de:"));
		   	var trTitulos=document.createElement("tr");
		   	trTitulos.setAttribute("id","rowTitulos_"+num);
		   	var tdTitContado=document.createElement("th");
		   	tdTitContado.appendChild(document.createTextNode("Contado"));
		   	var tdTitA30=document.createElement("th");
		   	tdTitA30.appendChild(document.createTextNode("A 30 días"));
		   	var tdTitA60=document.createElement("th");
		   	tdTitA60.appendChild(document.createTextNode("A 60 días"));
		   	var tdTitA90=document.createElement("th");
		   	tdTitA90.appendChild(document.createTextNode("A 90 días"));
		   	var tdTitA120=document.createElement("th");
		   	tdTitA120.appendChild(document.createTextNode("A 120 días"));
		   	var tdTitA150=document.createElement("th");
		   	tdTitA150.appendChild(document.createTextNode("A 150 días"));
		   	trTitulos.appendChild(tdTitContado);
		   	trTitulos.appendChild(tdTitA30);
		   	trTitulos.appendChild(tdTitA60);
		   	trTitulos.appendChild(tdTitA90);
		   	trTitulos.appendChild(tdTitA120);
		   	trTitulos.appendChild(tdTitA150);
		   	tablaSeVendeDe.appendChild(trSeVendeDe);
		   	tablaSeVendeDe.appendChild(trTitulos);

			var trValoresDe=document.createElement("tr");
			trValoresDe.setAttribute("id","rowValores_"+num);
			var tdContado=document.createElement("td");
			var tdA30=document.createElement("td");
			var tdA60=document.createElement("td");
			var tdA90=document.createElement("td");
			var tdA120=document.createElement("td");
			var tdA150=document.createElement("td");

			var contado=document.createElement("input");
			contado.type="text";
			contado.setAttribute("id","contado_"+num);
			contado.setAttribute("name","contado_"+num);
			
			contado.setAttribute("class","porcentaje");
	    	contado.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				verificarPorcentaje(id);
				
				}
			tdContado.appendChild(contado);

			var a30=document.createElement("input");
			a30.type="text";
			a30.setAttribute("id","a30_"+num);
			a30.setAttribute("name","a30_"+num);
			
			a30.setAttribute("class","porcentaje");
			a30.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				verificarPorcentaje(id);
				
				}
			tdA30.appendChild(a30);

			var a60=document.createElement("input");
			a60.type="text";
			a60.setAttribute("id","a60_"+num);
			a60.setAttribute("name","a60_"+num);
			
			a60.setAttribute("class","porcentaje");
			a60.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				verificarPorcentaje(id);
				
				}
			tdA60.appendChild(a60);

			var a90=document.createElement("input");
			a90.type="text";
			a90.setAttribute("id","a90_"+num);
			a90.setAttribute("name","a90_"+num);
			
			a90.setAttribute("class","porcentaje");
			a90.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				verificarPorcentaje(id);
				
				}
			tdA90.appendChild(a90);

			var a120=document.createElement("input");
			a120.type="text";
			a120.setAttribute("id","a120_"+num);
			a120.setAttribute("name","a120_"+num);
			
			a120.setAttribute("class","porcentaje");
			a120.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				verificarPorcentaje(id);
				
				}
			tdA120.appendChild(a120);

			var a150=document.createElement("input");
			a150.type="text";
			a150.setAttribute("id","a150_"+num);
			a150.setAttribute("name","a150_"+num);
			
			a150.setAttribute("class","porcentaje");
			a150.onchange=function(evento){
				var idp=evento.srcElement.id;
				var aux=idp.split("_");
				var id=aux[1];
				verificarPorcentaje(id);
				
				}
			tdA150.appendChild(a150);
			trValoresDe.setAttribute("id","filaPorc_"+num);
			trValoresDe.appendChild(tdContado);
			trValoresDe.appendChild(tdA30);
			trValoresDe.appendChild(tdA60);
			trValoresDe.appendChild(tdA90);
			trValoresDe.appendChild(tdA120);
			trValoresDe.appendChild(tdA150);
			tablaSeVendeDe.appendChild(trValoresDe);
			var trTablaAdicional=document.createElement("tr");
			var tdTablaAdicional=document.createElement("td");
			tdTablaAdicional.setAttribute("colspan","2");
			tdTablaAdicional.appendChild(tablaSeVendeDe);
			trTablaAdicional.appendChild(tdTablaAdicional);
			tablaProducto.appendChild(trTablaAdicional);
		   	tablaProductos.appendChild(tablaProducto);
		   	return num+1;
		}
	function crearNuevoRiesgoContingencia(num,tablaR,formulario){
		var trRiesgosContingencias=document.createElement("tr");
		trRiesgosContingencias.setAttribute("id","row_"+num);
        var tdContingencia=document.createElement("td");
		    var tdRiesgo=document.createElement("td");
		    var tdEliminar=document.createElement("td");
        var riesgo=document.createElement("textarea");
        riesgo.setAttribute("cols","30");
        riesgo.setAttribute("rows","3");
   	    riesgo.setAttribute("name","riesgo_"+num);
   	    tdRiesgo.appendChild(riesgo);
		
        var contingencia=document.createElement("textarea");
        contingencia.setAttribute("cols","30");
        contingencia.setAttribute("rows","3");
   	    contingencia.setAttribute("name","contingencia_"+num);
        tdContingencia.appendChild(contingencia);
		var eliminar=crearBoton("X");
		eliminar.setAttribute("class","eliminar");
		eliminar.setAttribute("id",num);
		eliminar.onclick=function(evento){
			   var idp=evento.srcElement.id;
				eliminarRiesgoContingencia(tablaR,idp);
			}
		tdEliminar.appendChild(eliminar);
   	    trRiesgosContingencias.appendChild(tdRiesgo);
        trRiesgosContingencias.appendChild(tdContingencia);
        trRiesgosContingencias.appendChild(tdEliminar);
		tablaR.appendChild(trRiesgosContingencias);

		

		return num+1;
		}
	function procesaDatosPlanSiguiente(){
		borrarTexto();

		  var datos = eval("("+obj.respuestaTexto()+")");
		  var formularioplanSiguiente=document.createElement("form");		
		  var tablaR=document.createElement("table");
		  tablaR.className="tabla_mensajes";
		  var trError=document.createElement("tr");
		  var tdError=document.createElement("td");	
			var error=document.createElement("div");
			error.setAttribute("id","error");
			error.setAttribute("class","error");
			tdError.appendChild(error);
			trError.appendChild(tdError);
			trError.style.display="none";
			tablaR.appendChild(trError);
		  var trDplanSiguiente=document.createElement("tr");
		  var trplanSiguiente=document.createElement("tr");
		  var tablaBotones=document.createElement("table");
		  var trbotones=document.createElement("tr");			  

		            var item1=document.createElement("textarea");
		            item1.setAttribute("disabled","disabled");
		            item1.setAttribute("readonly","readonly");
		            item1.setAttribute("cols","70");
		            item1.setAttribute("rows","7");
		       	    item1.setAttribute("value",datos[0].dato);
		       	    item1.name=datos[0].dato;
		            var texto=document.createTextNode(datos[0].valor);
		            item1.appendChild(texto);
		            trDplanSiguiente.appendChild(item1);

		            var planSiguiente=document.createElement("textarea");
		            planSiguiente.setAttribute("cols","70");
		            planSiguiente.setAttribute("rows","10");
		       	    planSiguiente.setAttribute("name",datos[1].dato);
		       	    var txtplanSiguiente=document.createTextNode(datos[1].valor);
		       	    planSiguiente.appendChild(txtplanSiguiente);
		            trplanSiguiente.appendChild(planSiguiente);

		            var planId=document.createElement("input");
		            planId.type="hidden";
		            planId.setAttribute("name",datos[2].dato);
		            planId.setAttribute("value",datos[2].valor);
		            
					
		            var siguiente=crearBoton("Siguiente");
		            siguiente.name="siguiente";
		            
		            siguiente.onclick=function (){
		            	  if(planSiguiente.value==""){
			            	    trError.style.display = "block";
								error.appendChild(document.createTextNode("todos los datos son obligatorios"));
			            	    }
		            	  else{
							eval("guardar"+datos[1].dato+"(formularioplanSiguiente)");
		            	  }
			            }
		           
		            trbotones.appendChild(siguiente);
		            


		            tablaR.appendChild(trDplanSiguiente);
		            tablaR.appendChild(trplanSiguiente);
		            tablaBotones.appendChild(trbotones);

					formularioplanSiguiente.appendChild(tablaR);	
					formularioplanSiguiente.appendChild(planId);
		            document.getElementById("texto").appendChild(formularioplanSiguiente);
		            document.getElementById("texto").appendChild(tablaBotones);
		}

	
	function procesaIdea(){
		borrarTexto();

		var idea = eval("("+obj.respuestaTexto()+")");
		var modificar=crearBoton("Modificar");
		modificar.setAttribute("id",idea[0].Id)
		modificar.onclick=function (evento){
			   var idp=evento.srcElement.id;
				modificarIdeaDeNegocio(idp);
			}
  		var tablaI=document.createElement("table");
  		tablaI.className="tabla_mensajes";
  		var trnombre=document.createElement("tr");
  		var tridean=document.createElement("tr");
  		var trnacimiento=document.createElement("tr");
  		var trpais=document.createElement("tr");
  		var trciudad=document.createElement("tr");
  		var trarea=document.createElement("tr");
  		var trtipoInversion=document.createElement("tr");
  		var trtipoInversionista=document.createElement("tr");
  		var trnivelInversion=document.createElement("tr");

    	var txtnombre=document.createTextNode("Nombre");
  	    var tdtxtnombre=document.createElement("td");
  	    var tdnombre=document.createElement("td");
  	    tdtxtnombre.appendChild(txtnombre);
        var nombre=document.createElement("input");
        	nombre.type="text";
        	nombre.setAttribute("readonly","readonly");
        	nombre.setAttribute("disabled","disabled");
        	nombre.value=(idea[0].Nombre).replaceAll("<br>","\n");
        	tdnombre.appendChild(nombre);
        	trnombre.appendChild(tdtxtnombre);
        	trnombre.appendChild(tdnombre);
        	tablaI.appendChild(trnombre);

        	
  	    var txtidean=document.createTextNode("Idea");
  	    var tdtxtidean=document.createElement("td");
  	    var tdidean=document.createElement("td");
  	    tdtxtidean.appendChild(txtidean);
        var idean=document.createElement("textarea");
            idean.setAttribute("cols","60");
    	    idean.setAttribute("rows","7");
        	idean.setAttribute("readonly","readonly");
        	idean.setAttribute("disabled","disabled");
        	idean.value=(idea[0].Idea).replaceAll("<br>","\n");
        	tdidean.appendChild(idean);
        	tridean.appendChild(tdtxtidean);
        	tridean.appendChild(tdidean);
        	tablaI.appendChild(tridean);




            	var txtnacimiento=document.createTextNode("Nacimiento");
          	    var tdtxtnacimiento=document.createElement("td");
          	    var tdnacimiento=document.createElement("td");
          	    tdtxtnacimiento.appendChild(txtnacimiento);
                var nacimiento=document.createElement("textarea");
                    nacimiento.setAttribute("cols","60");
            	    nacimiento.setAttribute("rows","7");
                	nacimiento.setAttribute("readonly","readonly");
                	nacimiento.setAttribute("disabled","disabled");
                	nacimiento.value=(idea[0].Nacimiento).replaceAll("<br>","\n");

                	tdnacimiento.appendChild(nacimiento);
                	trnacimiento.appendChild(tdtxtnacimiento);
                	trnacimiento.appendChild(tdnacimiento);
                	tablaI.appendChild(trnacimiento);

                	
                	var txtpais=document.createTextNode("Pais");
              	    var tdtxtpais=document.createElement("td");
              	    var tdpais=document.createElement("td");
              	    tdtxtpais.appendChild(txtpais);
                    var pais=document.createElement("input");
                    	pais.type="text";
                    	pais.setAttribute("readonly","readonly");
                    	pais.setAttribute("disabled","disabled");
                    	pais.value=idea[0].Pais;

                    	tdpais.appendChild(pais);
                    	trpais.appendChild(tdtxtpais);
                    	trpais.appendChild(tdpais);
                    	tablaI.appendChild(trpais);

                    	var txtciudad=document.createTextNode("Ciudad");
                  	    var tdtxtciudad=document.createElement("td");
                  	    var tdciudad=document.createElement("td");
                  	    tdtxtciudad.appendChild(txtciudad);
                        var ciudad=document.createElement("input");
                        	ciudad.type="text";
                        	ciudad.setAttribute("readonly","readonly");
                        	ciudad.setAttribute("disabled","disabled");
                        	ciudad.value=idea[0].Ciudad;

                        	tdciudad.appendChild(ciudad);
                        	trciudad.appendChild(tdtxtciudad);
                        	trciudad.appendChild(tdciudad);
                        	tablaI.appendChild(trciudad);

                        	var txtarea=document.createTextNode("Area");
                      	    var tdtxtarea=document.createElement("td");
                      	    var tdarea=document.createElement("td");
                      	    tdtxtarea.appendChild(txtarea);
                            var area=document.createElement("input");
                            	area.type="text";
                            	area.setAttribute("readonly","readonly");
                            	area.setAttribute("disabled","disabled");
                            	area.value=idea[0].Area;

                            	tdarea.appendChild(area);
                            	trarea.appendChild(tdtxtarea);
                            	trarea.appendChild(tdarea);
                            	tablaI.appendChild(trarea);

                        	
                        	var txttipoInversionista=document.createTextNode("Tipo Inversionista");
                      	    var tdtxttipoInversionista=document.createElement("td");
                      	    var tdtipoInversionista=document.createElement("td");
                      	    tdtxttipoInversionista.appendChild(txttipoInversionista);
                            var tipoInversionista=document.createElement("input");
                            	tipoInversionista.type="text";
                            	tipoInversionista.setAttribute("readonly","readonly");
                            	tipoInversionista.setAttribute("disabled","disabled");
                            	tipoInversionista.value=idea[0].TipoInversionista;

                            	tdtipoInversionista.appendChild(tipoInversionista);
                            	trtipoInversionista.appendChild(tdtxttipoInversionista);
                            	trtipoInversionista.appendChild(tdtipoInversionista);
                            	tablaI.appendChild(trtipoInversionista);

                            	var txttipoInversion=document.createTextNode("Tipo Inversion");
                          	    var tdtxttipoInversion=document.createElement("td");
                          	    var tdtipoInversion=document.createElement("td");
                          	    tdtxttipoInversion.appendChild(txttipoInversion);
                                var tipoInversion=document.createElement("input");
                                	tipoInversion.type="text";
                                	tipoInversion.setAttribute("readonly","readonly");
                                	tipoInversion.setAttribute("disabled","disabled");
                                	tipoInversion.value=idea[0].TipoInversion;

                                	tdtipoInversion.appendChild(tipoInversion);
                                	trtipoInversion.appendChild(tdtxttipoInversion);
                                	trtipoInversion.appendChild(tdtipoInversion);
                                	tablaI.appendChild(trtipoInversion);


                                	var txtnivelInversion=document.createTextNode("Nivel Inversion");
                              	    var tdtxtnivelInversion=document.createElement("td");
                              	    var tdnivelInversion=document.createElement("td");
                              	    tdtxtnivelInversion.appendChild(txtnivelInversion);
                                    var nivelInversion=document.createElement("input");
                                    	nivelInversion.type="text";
                                    	nivelInversion.setAttribute("readonly","readonly");
                                    	nivelInversion.setAttribute("disabled","disabled");
                                    	nivelInversion.value=idea[0].NivelInversion;

                                    	tdnivelInversion.appendChild(nivelInversion);
                                    	trnivelInversion.appendChild(tdtxtnivelInversion);
                                    	trnivelInversion.appendChild(tdnivelInversion);
                                    	tablaI.appendChild(trnivelInversion);

                                 
                  

               
        		
                                    	document.getElementById("texto").appendChild(modificar);
          document.getElementById("formularios").appendChild(tablaI);
     
		}
	
	function procesaInversionIdea(){
		borrarTexto();

		var idea = eval("("+obj.respuestaTexto()+")");

		
		var tablaInvierto=document.createElement("table");
		tablaInvierto.className="tabla_mensajes"; 
		var trInvierto=document.createElement("tr");
		var tdBoton=document.createElement("td");
		var tdInversion=document.createElement("td");
		var tdCantidadInv=document.createElement("td");
		var cantInvertida=document.createElement("input");
		cantInvertida.type="text";
		cantInvertida.setAttribute("class","dinero");
		cantInvertida.id="numeroVotos";
		cantInvertida.disabled=true;
		cantInvertida.value=idea[0].Inversion;
		var inversion=document.createElement("input");
		inversion.type="text";
		inversion.name="inversion";
		inversion.setAttribute("class","dinero");
		var invierto=crearBoton("Invertir");
		invierto.id=idea[0].Id;
		invierto.onclick=function(evento){
			var idp=evento.srcElement.id;
			invertirIdea(idp,inversion.value);
			}

		
		tdBoton.appendChild(invierto);
		tdInversion.appendChild(inversion);
		tdCantidadInv.appendChild(cantInvertida);
		trInvierto.appendChild(tdBoton);
		trInvierto.appendChild(tdInversion);
		trInvierto.appendChild(tdCantidadInv);
		tablaInvierto.appendChild(trInvierto);
		document.getElementById("texto").appendChild(tablaInvierto);

		
  		var tablaI=document.createElement("table");
  		tablaI.className="tabla_mensajes";
  		var trnombre=document.createElement("tr");
  		var tridean=document.createElement("tr");
  		var trnacimiento=document.createElement("tr");
  		var trpais=document.createElement("tr");
  		var trciudad=document.createElement("tr");
  		var trarea=document.createElement("tr");
  		var trtipoInversion=document.createElement("tr");
  		var trtipoInversionista=document.createElement("tr");
  		var trnivelInversion=document.createElement("tr");

    	var txtnombre=document.createTextNode("Nombre");
  	    var tdtxtnombre=document.createElement("td");
  	    var tdnombre=document.createElement("td");
  	    tdtxtnombre.appendChild(txtnombre);
        var nombre=document.createElement("input");
        	nombre.type="text";
        	nombre.setAttribute("readonly","readonly");
        	nombre.setAttribute("disabled","disabled");
        	nombre.value=(idea[0].Nombre).replaceAll("<br>","\n");
        	tdnombre.appendChild(nombre);
        	trnombre.appendChild(tdtxtnombre);
        	trnombre.appendChild(tdnombre);
        	tablaI.appendChild(trnombre);

        	
  	    var txtidean=document.createTextNode("Idea");
  	    var tdtxtidean=document.createElement("td");
  	    var tdidean=document.createElement("td");
  	    tdtxtidean.appendChild(txtidean);
        var idean=document.createElement("textarea");
            idean.setAttribute("cols","60");
    	    idean.setAttribute("rows","7");
        	idean.setAttribute("readonly","readonly");
        	idean.setAttribute("disabled","disabled");
        	idean.value=(idea[0].Idea).replaceAll("<br>","\n");
        	tdidean.appendChild(idean);
        	tridean.appendChild(tdtxtidean);
        	tridean.appendChild(tdidean);
        	tablaI.appendChild(tridean);




            	var txtnacimiento=document.createTextNode("Nacimiento");
          	    var tdtxtnacimiento=document.createElement("td");
          	    var tdnacimiento=document.createElement("td");
          	    tdtxtnacimiento.appendChild(txtnacimiento);
                var nacimiento=document.createElement("textarea");
                    nacimiento.setAttribute("cols","60");
            	    nacimiento.setAttribute("rows","7");
                	nacimiento.setAttribute("readonly","readonly");
                	nacimiento.setAttribute("disabled","disabled");
                	nacimiento.value=(idea[0].Nacimiento).replaceAll("<br>","\n");

                	tdnacimiento.appendChild(nacimiento);
                	trnacimiento.appendChild(tdtxtnacimiento);
                	trnacimiento.appendChild(tdnacimiento);
                	tablaI.appendChild(trnacimiento);

                	
                	var txtpais=document.createTextNode("Pais");
              	    var tdtxtpais=document.createElement("td");
              	    var tdpais=document.createElement("td");
              	    tdtxtpais.appendChild(txtpais);
                    var pais=document.createElement("input");
                    	pais.type="text";
                    	pais.setAttribute("readonly","readonly");
                    	pais.setAttribute("disabled","disabled");
                    	pais.value=idea[0].Pais;

                    	tdpais.appendChild(pais);
                    	trpais.appendChild(tdtxtpais);
                    	trpais.appendChild(tdpais);
                    	tablaI.appendChild(trpais);

                    	var txtciudad=document.createTextNode("Ciudad");
                  	    var tdtxtciudad=document.createElement("td");
                  	    var tdciudad=document.createElement("td");
                  	    tdtxtciudad.appendChild(txtciudad);
                        var ciudad=document.createElement("input");
                        	ciudad.type="text";
                        	ciudad.setAttribute("readonly","readonly");
                        	ciudad.setAttribute("disabled","disabled");
                        	ciudad.value=idea[0].Ciudad;

                        	tdciudad.appendChild(ciudad);
                        	trciudad.appendChild(tdtxtciudad);
                        	trciudad.appendChild(tdciudad);
                        	tablaI.appendChild(trciudad);

                        	var txtarea=document.createTextNode("Area");
                      	    var tdtxtarea=document.createElement("td");
                      	    var tdarea=document.createElement("td");
                      	    tdtxtarea.appendChild(txtarea);
                            var area=document.createElement("input");
                            	area.type="text";
                            	area.setAttribute("readonly","readonly");
                            	area.setAttribute("disabled","disabled");
                            	area.value=idea[0].Area;

                            	tdarea.appendChild(area);
                            	trarea.appendChild(tdtxtarea);
                            	trarea.appendChild(tdarea);
                            	tablaI.appendChild(trarea);

                        	
                        	var txttipoInversionista=document.createTextNode("Tipo Inversionista");
                      	    var tdtxttipoInversionista=document.createElement("td");
                      	    var tdtipoInversionista=document.createElement("td");
                      	    tdtxttipoInversionista.appendChild(txttipoInversionista);
                            var tipoInversionista=document.createElement("input");
                            	tipoInversionista.type="text";
                            	tipoInversionista.setAttribute("readonly","readonly");
                            	tipoInversionista.setAttribute("disabled","disabled");
                            	tipoInversionista.value=idea[0].TipoInversionista;

                            	tdtipoInversionista.appendChild(tipoInversionista);
                            	trtipoInversionista.appendChild(tdtxttipoInversionista);
                            	trtipoInversionista.appendChild(tdtipoInversionista);
                            	tablaI.appendChild(trtipoInversionista);

                            	var txttipoInversion=document.createTextNode("Tipo Inversion");
                          	    var tdtxttipoInversion=document.createElement("td");
                          	    var tdtipoInversion=document.createElement("td");
                          	    tdtxttipoInversion.appendChild(txttipoInversion);
                                var tipoInversion=document.createElement("input");
                                	tipoInversion.type="text";
                                	tipoInversion.setAttribute("readonly","readonly");
                                	tipoInversion.setAttribute("disabled","disabled");
                                	tipoInversion.value=idea[0].TipoInversion;

                                	tdtipoInversion.appendChild(tipoInversion);
                                	trtipoInversion.appendChild(tdtxttipoInversion);
                                	trtipoInversion.appendChild(tdtipoInversion);
                                	tablaI.appendChild(trtipoInversion);


                                	var txtnivelInversion=document.createTextNode("Nivel Inversion");
                              	    var tdtxtnivelInversion=document.createElement("td");
                              	    var tdnivelInversion=document.createElement("td");
                              	    tdtxtnivelInversion.appendChild(txtnivelInversion);
                                    var nivelInversion=document.createElement("input");
                                    	nivelInversion.type="text";
                                    	nivelInversion.setAttribute("readonly","readonly");
                                    	nivelInversion.setAttribute("disabled","disabled");
                                    	nivelInversion.value=idea[0].NivelInversion;

                                    	tdnivelInversion.appendChild(nivelInversion);
                                    	trnivelInversion.appendChild(tdtxtnivelInversion);
                                    	trnivelInversion.appendChild(tdnivelInversion);
                                    	tablaI.appendChild(trnivelInversion);

                                 
                  

               
        		
                                    	
          document.getElementById("formularios").appendChild(tablaI);
     
		}
	function procesaVotacionIdea(){
		borrarTexto();

		var idea = eval("("+obj.respuestaTexto()+")");

		
		var tablaMeGusta=document.createElement("table"); 
		tablaMeGusta.className="tabla_mensajes";
		var trMeGusta=document.createElement("tr");
		var tdBoton=document.createElement("td");
		var tdVotos=document.createElement("td");
		var numVotos=document.createElement("input");
		numVotos.type="text";
		numVotos.setAttribute("class","inventario");
		numVotos.id="numeroVotos";
		numVotos.disabled=true;
		numVotos.value=idea[0].Votos;
		var megusta=crearBoton("Me gusta");
		megusta.id=idea[0].Id;
		megusta.onclick=function(evento){
			var idp=evento.srcElement.id;
			votarIdea(idp);
			}
		if(idea[0].Votado=="true"){
				megusta.disabled=true;
			}
		
		tdBoton.appendChild(megusta);
		tdVotos.appendChild(numVotos);
		trMeGusta.appendChild(tdBoton);
		trMeGusta.appendChild(tdVotos);
		tablaMeGusta.appendChild(trMeGusta);
		document.getElementById("texto").appendChild(tablaMeGusta);

		
  		var tablaI=document.createElement("table");
  		tablaI.className="tabla_mensajes";
  		var trnombre=document.createElement("tr");
  		var tridean=document.createElement("tr");
  		var trnacimiento=document.createElement("tr");
  		var trpais=document.createElement("tr");
  		var trciudad=document.createElement("tr");
  		var trarea=document.createElement("tr");
  		var trtipoInversion=document.createElement("tr");
  		var trtipoInversionista=document.createElement("tr");
  		var trnivelInversion=document.createElement("tr");

    	var txtnombre=document.createTextNode("Nombre");
  	    var tdtxtnombre=document.createElement("td");
  	    var tdnombre=document.createElement("td");
  	    tdtxtnombre.appendChild(txtnombre);
        var nombre=document.createElement("input");
        	nombre.type="text";
        	nombre.setAttribute("readonly","readonly");
        	nombre.setAttribute("disabled","disabled");
        	nombre.value=(idea[0].Nombre).replaceAll("<br>","\n");
        	tdnombre.appendChild(nombre);
        	trnombre.appendChild(tdtxtnombre);
        	trnombre.appendChild(tdnombre);
        	tablaI.appendChild(trnombre);

        	
  	    var txtidean=document.createTextNode("Idea");
  	    var tdtxtidean=document.createElement("td");
  	    var tdidean=document.createElement("td");
  	    tdtxtidean.appendChild(txtidean);
        var idean=document.createElement("textarea");
            idean.setAttribute("cols","60");
    	    idean.setAttribute("rows","7");
        	idean.setAttribute("readonly","readonly");
        	idean.setAttribute("disabled","disabled");
        	idean.value=(idea[0].Idea).replaceAll("<br>","\n");
        	tdidean.appendChild(idean);
        	tridean.appendChild(tdtxtidean);
        	tridean.appendChild(tdidean);
        	tablaI.appendChild(tridean);




            	var txtnacimiento=document.createTextNode("Nacimiento");
          	    var tdtxtnacimiento=document.createElement("td");
          	    var tdnacimiento=document.createElement("td");
          	    tdtxtnacimiento.appendChild(txtnacimiento);
                var nacimiento=document.createElement("textarea");
                    nacimiento.setAttribute("cols","60");
            	    nacimiento.setAttribute("rows","7");
                	nacimiento.setAttribute("readonly","readonly");
                	nacimiento.setAttribute("disabled","disabled");
                	nacimiento.value=(idea[0].Nacimiento).replaceAll("<br>","\n");

                	tdnacimiento.appendChild(nacimiento);
                	trnacimiento.appendChild(tdtxtnacimiento);
                	trnacimiento.appendChild(tdnacimiento);
                	tablaI.appendChild(trnacimiento);

                	
                	var txtpais=document.createTextNode("Pais");
              	    var tdtxtpais=document.createElement("td");
              	    var tdpais=document.createElement("td");
              	    tdtxtpais.appendChild(txtpais);
                    var pais=document.createElement("input");
                    	pais.type="text";
                    	pais.setAttribute("readonly","readonly");
                    	pais.setAttribute("disabled","disabled");
                    	pais.value=idea[0].Pais;

                    	tdpais.appendChild(pais);
                    	trpais.appendChild(tdtxtpais);
                    	trpais.appendChild(tdpais);
                    	tablaI.appendChild(trpais);

                    	var txtciudad=document.createTextNode("Ciudad");
                  	    var tdtxtciudad=document.createElement("td");
                  	    var tdciudad=document.createElement("td");
                  	    tdtxtciudad.appendChild(txtciudad);
                        var ciudad=document.createElement("input");
                        	ciudad.type="text";
                        	ciudad.setAttribute("readonly","readonly");
                        	ciudad.setAttribute("disabled","disabled");
                        	ciudad.value=idea[0].Ciudad;

                        	tdciudad.appendChild(ciudad);
                        	trciudad.appendChild(tdtxtciudad);
                        	trciudad.appendChild(tdciudad);
                        	tablaI.appendChild(trciudad);

                        	var txtarea=document.createTextNode("Area");
                      	    var tdtxtarea=document.createElement("td");
                      	    var tdarea=document.createElement("td");
                      	    tdtxtarea.appendChild(txtarea);
                            var area=document.createElement("input");
                            	area.type="text";
                            	area.setAttribute("readonly","readonly");
                            	area.setAttribute("disabled","disabled");
                            	area.value=idea[0].Area;

                            	tdarea.appendChild(area);
                            	trarea.appendChild(tdtxtarea);
                            	trarea.appendChild(tdarea);
                            	tablaI.appendChild(trarea);

                        	
                        	var txttipoInversionista=document.createTextNode("Tipo Inversionista");
                      	    var tdtxttipoInversionista=document.createElement("td");
                      	    var tdtipoInversionista=document.createElement("td");
                      	    tdtxttipoInversionista.appendChild(txttipoInversionista);
                            var tipoInversionista=document.createElement("input");
                            	tipoInversionista.type="text";
                            	tipoInversionista.setAttribute("readonly","readonly");
                            	tipoInversionista.setAttribute("disabled","disabled");
                            	tipoInversionista.value=idea[0].TipoInversionista;

                            	tdtipoInversionista.appendChild(tipoInversionista);
                            	trtipoInversionista.appendChild(tdtxttipoInversionista);
                            	trtipoInversionista.appendChild(tdtipoInversionista);
                            	tablaI.appendChild(trtipoInversionista);

                            	var txttipoInversion=document.createTextNode("Tipo Inversion");
                          	    var tdtxttipoInversion=document.createElement("td");
                          	    var tdtipoInversion=document.createElement("td");
                          	    tdtxttipoInversion.appendChild(txttipoInversion);
                                var tipoInversion=document.createElement("input");
                                	tipoInversion.type="text";
                                	tipoInversion.setAttribute("readonly","readonly");
                                	tipoInversion.setAttribute("disabled","disabled");
                                	tipoInversion.value=idea[0].TipoInversion;

                                	tdtipoInversion.appendChild(tipoInversion);
                                	trtipoInversion.appendChild(tdtxttipoInversion);
                                	trtipoInversion.appendChild(tdtipoInversion);
                                	tablaI.appendChild(trtipoInversion);


                                	var txtnivelInversion=document.createTextNode("Nivel Inversion");
                              	    var tdtxtnivelInversion=document.createElement("td");
                              	    var tdnivelInversion=document.createElement("td");
                              	    tdtxtnivelInversion.appendChild(txtnivelInversion);
                                    var nivelInversion=document.createElement("input");
                                    	nivelInversion.type="text";
                                    	nivelInversion.setAttribute("readonly","readonly");
                                    	nivelInversion.setAttribute("disabled","disabled");
                                    	nivelInversion.value=idea[0].NivelInversion;

                                    	tdnivelInversion.appendChild(nivelInversion);
                                    	trnivelInversion.appendChild(tdtxtnivelInversion);
                                    	trnivelInversion.appendChild(tdnivelInversion);
                                    	tablaI.appendChild(trnivelInversion);

                                 
                  

               
        		
                                    	
          document.getElementById("formularios").appendChild(tablaI);
     
		}
	function procesaIdeaDeAmigo(){
		borrarTexto();

		var idea = eval("("+obj.respuestaTexto()+")");

  		var tablaI=document.createElement("table");
  		tablaI.className="tabla_mensajes";
  		var trnombre=document.createElement("tr");
  		var tridean=document.createElement("tr");
  		var trnacimiento=document.createElement("tr");
  		var trpais=document.createElement("tr");
  		var trciudad=document.createElement("tr");
  		var trarea=document.createElement("tr");
  		var trtipoInversion=document.createElement("tr");
  		var trtipoInversionista=document.createElement("tr");
  		var trnivelInversion=document.createElement("tr");

    	var txtnombre=document.createTextNode("Nombre");
  	    var tdtxtnombre=document.createElement("td");
  	    var tdnombre=document.createElement("td");
  	    tdtxtnombre.appendChild(txtnombre);
        var nombre=document.createElement("input");
        	nombre.type="text";
        	nombre.setAttribute("readonly","readonly");
        	nombre.setAttribute("disabled","disabled");
        	nombre.value=idea[0].Nombre;
        	tdnombre.appendChild(nombre);
        	trnombre.appendChild(tdtxtnombre);
        	trnombre.appendChild(tdnombre);
        	tablaI.appendChild(trnombre);

        	
  	    var txtidean=document.createTextNode("Idea");
  	    var tdtxtidean=document.createElement("td");
  	    var tdidean=document.createElement("td");
  	    tdtxtidean.appendChild(txtidean);
        var idean=document.createElement("textarea");
            idean.setAttribute("cols","60");
    	    idean.setAttribute("rows","7");
        	idean.setAttribute("readonly","readonly");
        	idean.setAttribute("disabled","disabled");
        	idean.value=idea[0].Idea;
        	tdidean.appendChild(idean);
        	tridean.appendChild(tdtxtidean);
        	tridean.appendChild(tdidean);
        	tablaI.appendChild(tridean);




            	var txtnacimiento=document.createTextNode("Nacimiento");
          	    var tdtxtnacimiento=document.createElement("td");
          	    var tdnacimiento=document.createElement("td");
          	    tdtxtnacimiento.appendChild(txtnacimiento);
                var nacimiento=document.createElement("textarea");
                    nacimiento.setAttribute("cols","60");
            	    nacimiento.setAttribute("rows","7");
                	nacimiento.setAttribute("readonly","readonly");
                	nacimiento.setAttribute("disabled","disabled");
                	nacimiento.value=idea[0].Nacimiento;

                	tdnacimiento.appendChild(nacimiento);
                	trnacimiento.appendChild(tdtxtnacimiento);
                	trnacimiento.appendChild(tdnacimiento);
                	tablaI.appendChild(trnacimiento);

                	
                	var txtpais=document.createTextNode("Pais");
              	    var tdtxtpais=document.createElement("td");
              	    var tdpais=document.createElement("td");
              	    tdtxtpais.appendChild(txtpais);
                    var pais=document.createElement("input");
                    	pais.type="text";
                    	pais.setAttribute("readonly","readonly");
                    	pais.setAttribute("disabled","disabled");
                    	pais.value=idea[0].Pais;

                    	tdpais.appendChild(pais);
                    	trpais.appendChild(tdtxtpais);
                    	trpais.appendChild(tdpais);
                    	tablaI.appendChild(trpais);

                    	var txtciudad=document.createTextNode("Ciudad");
                  	    var tdtxtciudad=document.createElement("td");
                  	    var tdciudad=document.createElement("td");
                  	    tdtxtciudad.appendChild(txtciudad);
                        var ciudad=document.createElement("input");
                        	ciudad.type="text";
                        	ciudad.setAttribute("readonly","readonly");
                        	ciudad.setAttribute("disabled","disabled");
                        	ciudad.value=idea[0].Ciudad;

                        	tdciudad.appendChild(ciudad);
                        	trciudad.appendChild(tdtxtciudad);
                        	trciudad.appendChild(tdciudad);
                        	tablaI.appendChild(trciudad);

                        	var txtarea=document.createTextNode("Area");
                      	    var tdtxtarea=document.createElement("td");
                      	    var tdarea=document.createElement("td");
                      	    tdtxtarea.appendChild(txtarea);
                            var area=document.createElement("input");
                            	area.type="text";
                            	area.setAttribute("readonly","readonly");
                            	area.setAttribute("disabled","disabled");
                            	area.value=idea[0].Area;

                            	tdarea.appendChild(area);
                            	trarea.appendChild(tdtxtarea);
                            	trarea.appendChild(tdarea);
                            	tablaI.appendChild(trarea);

                        	
                        	var txttipoInversionista=document.createTextNode("Tipo Inversionista");
                      	    var tdtxttipoInversionista=document.createElement("td");
                      	    var tdtipoInversionista=document.createElement("td");
                      	    tdtxttipoInversionista.appendChild(txttipoInversionista);
                            var tipoInversionista=document.createElement("input");
                            	tipoInversionista.type="text";
                            	tipoInversionista.setAttribute("readonly","readonly");
                            	tipoInversionista.setAttribute("disabled","disabled");
                            	tipoInversionista.value=idea[0].TipoInversionista;

                            	tdtipoInversionista.appendChild(tipoInversionista);
                            	trtipoInversionista.appendChild(tdtxttipoInversionista);
                            	trtipoInversionista.appendChild(tdtipoInversionista);
                            	tablaI.appendChild(trtipoInversionista);

                            	var txttipoInversion=document.createTextNode("Tipo Inversion");
                          	    var tdtxttipoInversion=document.createElement("td");
                          	    var tdtipoInversion=document.createElement("td");
                          	    tdtxttipoInversion.appendChild(txttipoInversion);
                                var tipoInversion=document.createElement("input");
                                	tipoInversion.type="text";
                                	tipoInversion.setAttribute("readonly","readonly");
                                	tipoInversion.setAttribute("disabled","disabled");
                                	tipoInversion.value=idea[0].TipoInversion;

                                	tdtipoInversion.appendChild(tipoInversion);
                                	trtipoInversion.appendChild(tdtxttipoInversion);
                                	trtipoInversion.appendChild(tdtipoInversion);
                                	tablaI.appendChild(trtipoInversion);


                                	var txtnivelInversion=document.createTextNode("Nivel Inversion");
                              	    var tdtxtnivelInversion=document.createElement("td");
                              	    var tdnivelInversion=document.createElement("td");
                              	    tdtxtnivelInversion.appendChild(txtnivelInversion);
                                    var nivelInversion=document.createElement("input");
                                    	nivelInversion.type="text";
                                    	nivelInversion.setAttribute("readonly","readonly");
                                    	nivelInversion.setAttribute("disabled","disabled");
                                    	nivelInversion.value=idea[0].NivelInversion;

                                    	tdnivelInversion.appendChild(nivelInversion);
                                    	trnivelInversion.appendChild(tdtxtnivelInversion);
                                    	trnivelInversion.appendChild(tdnivelInversion);
                                    	tablaI.appendChild(trnivelInversion);

                                 
                  

               
        		
                                  
          document.getElementById("formularios").appendChild(tablaI);
     
		}
	function procesaIdeasDeAmigo(){
		borrarFormularios();
		

		 var tIdeas = eval("("+obj.respuestaTexto()+")");
			
		 var tablaIdeas=document.createElement("table");
		   tablaIdeas.className="tabla_mensajes";
		       for (var elm = 0;elm < tIdeas.length;elm++)
		       {    

				
				    var item=crearBoton(tIdeas[elm].Nombre);
				       
		       		var tr=document.createElement("tr");
		       		item.setAttribute("id",tIdeas[elm].Id);
		            item.setAttribute("name",tIdeas[elm].Id);
		            item.onclick=function(evento){
		                   //alert(evento.srcElement.id)
		                   var idp=evento.srcElement.id;
		            	   traerDatosIdeaDeAmigo(idp);
		                   }
		            
		            
		            tr.appendChild(item);
		            tablaIdeas.appendChild(tr);
		            

					

		       		
		       }
		       document.getElementById("formularios").appendChild(tablaIdeas);
				
		}
	function procesaIdeas(){
		borrarTexto();
		
		borrarMenuOpciones();
		document.getElementById("titulo").innerHTML="<h2>Ideas de negocio</h2>";
		
		var tablaOpciones=document.createElement("table");
		var trOpciones=document.createElement("tr");
		trOpciones.setAttribute("class","bt_mun1");
		
		var crear=crearA("Crear Idea");
		
		crear.onclick=crearIdea;
		
		
		trOpciones.appendChild(crear);
		
		tablaOpciones.appendChild(trOpciones);
		document.getElementById("menuOpciones").appendChild(tablaOpciones);

		 var tIdeas = eval("("+obj.respuestaTexto()+")");
			
		 var tablaIdeas=document.createElement("table");
		   tablaIdeas.className="tabla_mensajes";
      		var trTit=document.createElement("tr");
       		var thnomb=document.createElement("th");
       		thnomb.appendChild(document.createTextNode("Nombre de Idea"));
       		var thelim=document.createElement("th");
       		thelim.appendChild(document.createTextNode("Eliminar Idea"));
       		trTit.appendChild(thnomb);
       		trTit.appendChild(thelim);
       		tablaIdeas.appendChild(trTit);
		       for (var elm = 0;elm < tIdeas.length;elm++)
		       {    

				
				    var item=crearBoton(tIdeas[elm].Nombre);
				       
		       		var tr=document.createElement("tr");
		       		var td=document.createElement("td");
		       		var tdElim=document.createElement("td");
		       		tdElim.className="bt_eliminar";
		       		var elim=crearA("Eliminar");
		       		tdElim.appendChild(elim);
		       		elim.setAttribute("id",tIdeas[elm].Id);
		       		elim.setAttribute("name",tIdeas[elm].Id);
		       		elim.onclick=function(evento){
		                   //alert(evento.srcElement.id)
		                   var idp=evento.srcElement.id;
		            	   eliminarIdea(idp);
		                   }
		       		item.setAttribute("id",tIdeas[elm].Id);
		            item.setAttribute("name",tIdeas[elm].Id);
		            item.onclick=function(evento){
		                   //alert(evento.srcElement.id)
		                   var idp=evento.srcElement.id;
		            	   traerDatosIdea(idp);
		                   }
		            
		            td.appendChild(item);		           
		            tr.appendChild(td);
		            tr.appendChild(tdElim);
		            tablaIdeas.appendChild(tr);
		            

					

		       		
		       }
		       document.getElementById("formularios").appendChild(tablaIdeas);
				
		}
	function crearIdea(){
		borrarTexto();
		//var iframeIdea=document.createElement("iframe");
		//iframeIdea.name="iframeIdea";
		//iframeIdea.style.display="none";
		var script=document.createElement("script");
		var textScript=document.createTextNode("cargarDatos()");
		script.appendChild(textScript);
		//iframeIdea.appendChild(script);
		//iframeIdea.onload=cargarDatos;
		var formularioIdea=document.createElement("form");
		//formularioIdea.target="iframeIdea";
		var tablaIdea=document.createElement("table");
		tablaIdea.className="tabla_mensajes";
		
		formularioIdea.id="formulario";
		var lbNombre=document.createElement("label");
		lbNombre.htmlFor="nombre";
		var lbIdea=document.createElement("label");
		lbIdea.htmlFor="idea";
		var lbNacimiento=document.createElement("label");
		lbNacimiento.htmlFor="nacimiento";
		var lbNivelInversion=document.createElement("label");
		lbNivelInversion.htmlFor="nivelInversion";
		var lbTipoInversion=document.createElement("label");
		lbTipoInversion.htmlFor="tipoInversion";
		var lbTipoInversionista=document.createElement("label");
		lbTipoInversionista.htmlFor="tipoInversionista";
		var lbPaises=document.createElement("label");
		lbPaises.htmlFor="pais";
		var lbCiudad=document.createElement("label");
		lbCiudad.htmlFor="ciudad";
		var lbAreaDeEstudio=document.createElement("label");
		lbAreaDeEstudio.htmlFor="area";

		var textlbIdea=document.createTextNode("Escribe tu Idea");
		var textlbNombre=document.createTextNode("Dale un nombre a tu idea");
		var textlbNacimiento=document.createTextNode("Cuentanos como nacio tu idea");
		var textlbNivelInversion=document.createTextNode("Selecciona el nivel de inversion necesario para llevar a cabo tu idea");
		var textlbTipoInversion=document.createTextNode("Selecciona el tipo de inversion que estas buscando");
		var textlbInversionista=document.createTextNode("Selecciona el tipo de inversionista en el que estas interesado");
		var textlbPaises=document.createTextNode("Selecciona el pais en el cual quieres desarrollar tu idea");
		var textlbCiudad=document.createTextNode("Escribe la ciudad");
		var textlbAreaDeEstudio=document.createTextNode("En que categoria se encuentra tu idea");

		lbNombre.appendChild(textlbNombre);
		lbIdea.appendChild(textlbIdea);
		lbNacimiento.appendChild(textlbNacimiento);
		lbNivelInversion.appendChild(textlbNivelInversion);
		lbTipoInversion.appendChild(textlbTipoInversion);
		lbTipoInversionista.appendChild(textlbInversionista);
		lbPaises.appendChild(textlbPaises);
		lbCiudad.appendChild(textlbCiudad);
		lbAreaDeEstudio.appendChild(textlbAreaDeEstudio);

		var nombre=document.createElement("input");
		nombre.type="text";
		nombre.name="nombre";
		nombre.id="nombre";
		var idea=document.createElement("textarea");
		idea.name="idea";
		idea.id="idea";
		idea.setAttribute("cols","60");
		idea.setAttribute("rows","10");
		var nacimiento=document.createElement("textarea");
		nacimiento.name="nacimiento";
		nacimiento.id="nacimiento";
		nacimiento.setAttribute("cols","60");
		nacimiento.setAttribute("rows","10");
		var pais=document.createElement("select");
		pais.name="pais";
		pais.id="pais";
		var ciudad=document.createElement("input");
		ciudad.type="text";
		ciudad.name="ciudad";
		ciudad.id="ciudad";
		var area=document.createElement("select");
		area.name="area";
		area.id="area";
		var tipoInversion=document.createElement("select");
		tipoInversion.name="tipoInversion";
		tipoInversion.id="tipoInversion";
		var tipoInversionista=document.createElement("select");
		tipoInversionista.name="tipoInversionista";
		tipoInversionista.id="tipoInversionista";
		var nivelInversion=document.createElement("select");
		nivelInversion.name="nivelInversion";
		nivelInversion.id="nivelInversion";
		var crear=crearBoton("Crear Idea");
		crear.onclick=function (){enviarIdea(formularioIdea);};
		
	   var tabla=document.createElement("table");
	   tabla.className="tabla_mensajes";
	   var tr=document.createElement("tr");
	   var td=document.createElement("td");
	   var th=document.createElement("th");

	   th.appendChild(lbNombre);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(nombre);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");
		
	   th.appendChild(lbIdea);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(idea);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbNacimiento);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(nacimiento);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbPaises);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(pais);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbCiudad);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(ciudad);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbAreaDeEstudio);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(area);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbTipoInversionista);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(tipoInversionista);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbTipoInversion);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(tipoInversion);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");

	   th.appendChild(lbNivelInversion);
	   tr.appendChild(th);
	   tabla.appendChild(tr);
	   tr=document.createElement("tr");
	   th=document.createElement("th");

       td.appendChild(nivelInversion);
       tr.appendChild(td);
       tabla.appendChild(tr);
       tr=document.createElement("tr");
	   td=document.createElement("td");
		

		
		
		formularioIdea.appendChild(tabla);
		document.getElementById("texto").appendChild(formularioIdea);
		document.getElementById("texto").appendChild(crear);
		document.getElementById("formularios").appendChild(script);
		
		}
	function enviarIdea(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/CrearIdeaDeNegocio","POST","cargarIdeas", formulario);
		}
	function enviarModificacionIdea(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/GuardarModificacionIdeaDeNegocio","POST","cargarIdeas", formulario);
		}
	function procesaMensajes(){
		borrarTexto();
		
		borrarMenuOpciones();
		document.getElementById("titulo").innerHTML="<h2>Mensajes</h2>";
			var tabla=document.createElement("table");
			
			var trInbox=document.createElement("tr");
			trInbox.setAttribute("class","bt_mun1");
			var trEnviados=document.createElement("tr");
			trEnviados.setAttribute("class","bt_mun1");
			var inbox=crearA("Inbox");
			inbox.name="inbox";
			inbox.onclick=cargarMensajes;
			
			
			var enviados=crearA("Enviados");
			enviados.name="enviados";
			enviados.onclick=cargarMensajesEnviados;
			
			
			trInbox.appendChild(inbox);
			trEnviados.appendChild(enviados);
			tabla.appendChild(trInbox);
			tabla.appendChild(trEnviados);
			document.getElementById("menuOpciones").appendChild(tabla);

			var tablaOpciones=document.createElement("table");
			var trOpciones=document.createElement("tr");
			var tdCrear=document.createElement("td");
			var tdEliminar=document.createElement("td");
			var tdMarcar=document.createElement("td");
			var crear=crearBoton("Crear Mensaje");
			
			crear.onclick=crearMensaje;
			var eliminar=crearBoton("Eliminar Mensajes");
			
			var marcar=crearBoton("Marcar como no leido");
			
			tdCrear.appendChild(crear);
			tdEliminar.appendChild(eliminar);
			tdMarcar.appendChild(marcar);
			trOpciones.appendChild(tdCrear);
			trOpciones.appendChild(tdEliminar);
			trOpciones.appendChild(tdMarcar);
			tablaOpciones.appendChild(trOpciones);
			document.getElementById("texto").appendChild(tablaOpciones);
			
			var mensajes=eval("("+obj.respuestaTexto()+")");
			var tablaMensajes=document.createElement("table");
			tablaMensajes.className="tabla_mensajes";
			tablaMensajes.setAttribute("border","0");
			tablaMensajes.setAttribute("cellpadding","0");
			tablaMensajes.setAttribute("cellspacing","1");
			var thChec=document.createElement("th");
			var thUsuario=document.createElement("th");
			var thMensaje=document.createElement("th");
		    var checkTodos=document.createElement("input");
			checkTodos.type="checkbox";
		    checkTodos.id="todos";
		    thChec.appendChild(checkTodos);
		    thUsuario.appendChild(document.createTextNode("Usuario"));
		    thMensaje.appendChild(document.createTextNode("Mensaje"));
		    var trTitulos=document.createElement("tr");
		    trTitulos.appendChild(thChec);
		    trTitulos.appendChild(thUsuario);
		    trTitulos.appendChild(thMensaje);
		    tablaMensajes.appendChild(trTitulos);
			for(var elm=0;elm<mensajes.length;elm++){
				    var tr1=document.createElement("tr");
					var tr=document.createElement("tr");
					var tdUsuario=document.createElement("td");
					tdUsuario.setAttribute("rowspan","2");
					tdUsuario.setAttribute("align","center");
					tdUsuario.setAttribute("valign","middle");
					var tdFecha=document.createElement("td");
					tdFecha.className="fecha";
					var td1=document.createElement("td");
					td1.setAttribute("rowspan","2");
					var td2=document.createElement("td");
					td2.setAttribute("rowspan","2");
					var td3=document.createElement("td");
					td3.className="bt_menNo";
					var check=document.createElement("input");
					check.type="checkbox";
					check.value=mensajes[elm].Id;
					td1.appendChild(check);
					var imagen=document.createElement("img");
	   				imagen.setAttribute("width","180");
	   				imagen.setAttribute("height","180");
	   				if(mensajes[elm].Imagen=="null"){
	   					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
	   					}
	   				else{
	   					imagen.setAttribute("src",mensajes[elm].Imagen);
	   					}
   					var div=document.createElement("div");
   					div.className="foto_mini";
   					div.appendChild(imagen);
	   				tdUsuario.appendChild(div);	
					var de=crearA(mensajes[elm].De);
					de.id=mensajes[elm].userId;
					de.onclick=function (evento){
		                   var idp=evento.srcElement.id;
		                   traerDatosUsuario(idp);
						}
					tdUsuario.appendChild(de);
					tdFecha.appendChild(document.createTextNode(mensajes[elm].Fecha));
					
					var asunto=crearA(mensajes[elm].Asunto);
					asunto.id=mensajes[elm].Id;
					asunto.onclick=function (evento){
		                   var idp=evento.srcElement.id;
		            	   cargarMensaje(idp);
						}
					td3.appendChild(asunto);
					tr.appendChild(td1);
					tr.appendChild(tdUsuario);
					
					tr.appendChild(tdFecha);
					tr1.appendChild(td3);
					tablaMensajes.appendChild(tr);
					tablaMensajes.appendChild(tr1);
					
				}
			document.getElementById("formularios").appendChild(tablaMensajes);
			
			
		}
	function cargarMensaje(id){
    	 var cad = "";
  	    
	      cad = "Id="+id;
  
	 
 
      		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDelMensaje","POST","procesaMensaje", cad);
		}
	function procesaMensaje(){
		borrarTexto();
			var mensaje=eval("("+obj.respuestaTexto()+")");
				var responder=crearBoton("Responder");
				var responderATodos=crearBoton("Responder a todos");
				var tablaOpciones=document.createElement("table");
				var tr=document.createElement("tr");
			    var tdRes=document.createElement("td");
			    var tdResT=document.createElement("td");
			    tdRes.appendChild(responder);
			    tdResT.appendChild(responderATodos);
			    tr.appendChild(tdRes);
			    tr.appendChild(tdResT);
			    tablaOpciones.appendChild(tr);
			    document.getElementById("texto").appendChild(tablaOpciones);
			    var tablaMensaje=document.createElement("table");
			    var trDe=document.createElement("tr");
			    var trCuerpo=document.createElement("tr");
			    var botonDe=crearBoton(mensaje[0].NombreUsuario);
			    trDe.appendChild(botonDe);
			    tablaMensaje.appendChild(trDe);
			    var divCuerpo=document.createElement("div");
			    var textoC=document.createTextNode(mensaje[0].Cuerpo);
			    divCuerpo.appendChild(textoC);
			    trCuerpo.appendChild(divCuerpo);
			    tablaMensaje.appendChild(trCuerpo);

			    document.getElementById("formularios").appendChild(tablaMensaje);
			

		}
	function crearMensajePara(id,imagen,nombre){
		borrarTexto();
		var formularioNuevoMensaje=document.createElement("form");
		var tablaMensajes=document.createElement("table");
		var trPara=document.createElement("tr");
		var tdLbPara=document.createElement("td");
		var lbPara=document.createElement("label");
		
		var textLbPara=document.createTextNode("Para");
		lbPara.appendChild(textLbPara);
		tdLbPara.appendChild(lbPara);
		var tdItPara=document.createElement("td");
		var itPara=document.createElement("div");
		var tbl=document.createElement("table");
		var trUsuarioPara=document.createElement("tr");
		var tdImagen=document.createElement("td");
		var tdNombre=document.createElement("td");
		tdImagen.appendChild(imagen);
		tdNombre.appendChild(nombre);
		trUsuarioPara.appendChild(tdImagen);
		trUsuarioPara.appendChild(tdNombre);
		tbl.appendChild(trUsuarioPara);
		itPara.appendChild(tbl);
		var paraId=document.createElement("input");
		paraId.type="hidden";
		paraId.value=id;
		paraId.name="para";
		
		
		tdItPara.appendChild(itPara);
		trPara.appendChild(tdLbPara);
		trPara.appendChild(tdItPara);
		tablaMensajes.appendChild(trPara);
		var trAsunto=document.createElement("tr");
		var tdLbAsunto=document.createElement("td");
		var lbAsunto=document.createElement("label");
		lbAsunto.htmlFor="asunto";
		var textLbAsunto=document.createTextNode("Asunto");
		lbAsunto.appendChild(textLbAsunto);
		tdLbAsunto.appendChild(lbAsunto);
		var tdItAsunto=document.createElement("td");
		var itAsunto=document.createElement("input");
		itAsunto.type="text";
		itAsunto.name="asunto";
		itAsunto.id="asunto";
		tdItAsunto.appendChild(itAsunto);
		trAsunto.appendChild(tdLbAsunto);
		trAsunto.appendChild(tdItAsunto);
		tablaMensajes.appendChild(trAsunto);
		var trCuerpo=document.createElement("tr");
		var tdItCuerpo=document.createElement("td");
		var itCuerpo=document.createElement("textarea");
		
		itCuerpo.name="cuerpo";
		itCuerpo.id="cuerpo";
		itCuerpo.setAttribute("cols","65");
		itCuerpo.setAttribute("rows","25");
		tdItCuerpo.setAttribute("colspan","2");
		trCuerpo.setAttribute("rowspan","10")
		tdItCuerpo.appendChild(itCuerpo);
		trCuerpo.appendChild(tdItCuerpo);
		tablaMensajes.appendChild(trCuerpo);
		formularioNuevoMensaje.appendChild(paraId);
		formularioNuevoMensaje.appendChild(tablaMensajes);
		var enviar=crearBoton("Enviar");
		enviar.onclick=function (){enviarNuevoCorreo(formularioNuevoMensaje);};
		
		
		document.getElementById("formularios").appendChild(formularioNuevoMensaje);
		document.getElementById("formularios").appendChild(enviar);
	}
	function crearMensaje(){
			borrarTexto();
			var formularioNuevoMensaje=document.createElement("form");
			var tablaMensajes=document.createElement("table");
			var trPara=document.createElement("tr");
			var tdLbPara=document.createElement("td");
			var lbPara=document.createElement("label");
			lbPara.htmlFor="para";
			var textLbPara=document.createTextNode("Para");
			lbPara.appendChild(textLbPara);
			tdLbPara.appendChild(lbPara);
			var tdItPara=document.createElement("td");
			var itPara=document.createElement("input");
			itPara.type="text";
			itPara.name="para";
			itPara.id="para";
			tdItPara.appendChild(itPara);
			trPara.appendChild(tdLbPara);
			trPara.appendChild(tdItPara);
			tablaMensajes.appendChild(trPara);
			var trAsunto=document.createElement("tr");
			var tdLbAsunto=document.createElement("td");
			var lbAsunto=document.createElement("label");
			lbAsunto.htmlFor="asunto";
			var textLbAsunto=document.createTextNode("Asunto");
			lbAsunto.appendChild(textLbAsunto);
			tdLbAsunto.appendChild(lbAsunto);
			var tdItAsunto=document.createElement("td");
			var itAsunto=document.createElement("input");
			itAsunto.type="text";
			itAsunto.name="asunto";
			itAsunto.id="asunto";
			tdItAsunto.appendChild(itAsunto);
			trAsunto.appendChild(tdLbAsunto);
			trAsunto.appendChild(tdItAsunto);
			tablaMensajes.appendChild(trAsunto);
			var trCuerpo=document.createElement("tr");
			var tdItCuerpo=document.createElement("td");
			var itCuerpo=document.createElement("textarea");
			
			itCuerpo.name="cuerpo";
			itCuerpo.id="cuerpo";
			itCuerpo.setAttribute("cols","65");
			itCuerpo.setAttribute("rows","25");
			tdItCuerpo.setAttribute("colspan","2");
			trCuerpo.setAttribute("rowspan","10")
			tdItCuerpo.appendChild(itCuerpo);
			trCuerpo.appendChild(tdItCuerpo);
			tablaMensajes.appendChild(trCuerpo);
			
			formularioNuevoMensaje.appendChild(tablaMensajes);
			var enviar=crearBoton("Enviar");
			enviar.onclick=function (){enviarNuevoCorreo(formularioNuevoMensaje);};
			
			
			document.getElementById("formularios").appendChild(formularioNuevoMensaje);
			document.getElementById("formularios").appendChild(enviar);
		}
	function enviarNuevoCorreo(formulario){
		obj.enviar("http://localhost:8080/Enwipweb/EnviarCorreo","POST","cargarMensajes", formulario);
		}
	
	function cargarMensajesEnviados(){
		obj.enviar("http://localhost:8080/Enwipweb/CargarMensajesEnviados","GET","procesaMensajesEnviados", null);
		}
	function procesaMensajesEnviados(){
		borrarTexto();

			var tablaOpciones=document.createElement("table");
			var trOpciones=document.createElement("tr");
			
			var tdEliminar=document.createElement("td");
			
			
			var eliminar=crearBoton("Eliminar Mensajes");
			
			
			tdEliminar.appendChild(eliminar);
			
			trOpciones.appendChild(tdEliminar);
		
			tablaOpciones.appendChild(trOpciones);
			document.getElementById("texto").appendChild(tablaOpciones);

			var mensajes=eval("("+obj.respuestaTexto()+")");
			var tablaMensajes=document.createElement("table");
			tablaMensajes.className="tabla_mensajes";
			tablaMensajes.setAttribute("border","0");
			tablaMensajes.setAttribute("cellpadding","0");
			tablaMensajes.setAttribute("cellspacing","1");
			var thChec=document.createElement("th");
			var thUsuario=document.createElement("th");
			var thMensaje=document.createElement("th");
		    var checkTodos=document.createElement("input");
			checkTodos.type="checkbox";
		    checkTodos.id="todos";
		    thChec.appendChild(checkTodos);
		    thUsuario.appendChild(document.createTextNode("Usuario"));
		    thMensaje.appendChild(document.createTextNode("Mensaje"));
		    var trTitulos=document.createElement("tr");
		    trTitulos.appendChild(thChec);
		    trTitulos.appendChild(thUsuario);
		    trTitulos.appendChild(thMensaje);
		    tablaMensajes.appendChild(trTitulos);
			for(var elm=0;elm<mensajes.length;elm++){
				    var tr1=document.createElement("tr");
					var tr=document.createElement("tr");
					var tdUsuario=document.createElement("td");
					tdUsuario.setAttribute("rowspan","2");
					tdUsuario.setAttribute("align","center");
					tdUsuario.setAttribute("valign","middle");
					var tdFecha=document.createElement("td");
					tdFecha.className="fecha";
					var td1=document.createElement("td");
					td1.setAttribute("rowspan","2");
					var td2=document.createElement("td");
					td2.setAttribute("rowspan","2");
					var td3=document.createElement("td");
					td3.className="bt_menNo";
					var check=document.createElement("input");
					check.type="checkbox";
					check.value=mensajes[elm].Id;
					td1.appendChild(check);
					var imagen=document.createElement("img");
	   				imagen.setAttribute("width","180");
	   				imagen.setAttribute("height","180");
	   				if(mensajes[elm].Imagen=="null"){
	   					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
	   					}
	   				else{
	   					imagen.setAttribute("src",mensajes[elm].Imagen);
	   					}
   					var div=document.createElement("div");
   					div.className="foto_mini";
   					div.appendChild(imagen);
	   				tdUsuario.appendChild(div);	
					var de=crearA(mensajes[elm].De);
					tdUsuario.appendChild(de);
					de.id=mensajes[elm].userId;
					de.onclick=function (evento){
		                   var idp=evento.srcElement.id;
		                   traerDatosUsuario(idp);
						}
					tdFecha.appendChild(document.createTextNode(mensajes[elm].Fecha));
					
					var asunto=crearA(mensajes[elm].Asunto);
					asunto.id=mensajes[elm].Id;
					asunto.onclick=function (evento){
		                   var idp=evento.srcElement.id;
		            	   cargarMensaje(idp);
						}
					td3.appendChild(asunto);
					tr.appendChild(td1);
					tr.appendChild(tdUsuario);
					
					tr.appendChild(tdFecha);
					tr1.appendChild(td3);
					tablaMensajes.appendChild(tr);
					tablaMensajes.appendChild(tr1);
					
				}
			document.getElementById("formularios").appendChild(tablaMensajes);
		}
	function cargarPerfil(){
		 obj.enviar("http://localhost:8080/Enwipweb/CargarPerfil","GET","procesaPerfil", null);
		}
	function cargarGrupos(){
		 obj.enviar("http://localhost:8080/Enwipweb/CargarGrupos","GET","procesaGrupos", null);
		}
	
	function cerrarSesion(){
			obj.enviar("http://localhost:8080/Enwipweb/CerrarSesion","GET","volverPaginaInicial",null);

		}
	
	function volverPaginaInicial(){
		document.location.href="http://localhost:8080/Enwipweb/index.html";
		}
	
 function cargarDatosUsuario()
        { 
	 MM_preloadImages('/Enwipweb/imagenes/bts/icon_cerrar2.png','/Enwipweb/imagenes/cerrar_2.png','/Enwipweb/imagenes/bts/icon_cuaderno2.png','/Enwipweb/imagenes/bts/icon_chat2.png','/Enwipweb/imagenes/bts/icon_noticia2.png','/Enwipweb/imagenes/bts/icon_perfil2.png','/Enwipweb/imagenes/bts/icon_mensajes2.png','/Enwipweb/imagenes/bts/icon_planes2.png','/Enwipweb/imagenes/bts/icon_preguntas2.png','/Enwipweb/imagenes/bts/icon_academia2.png','/Enwipweb/imagenes/bts/icon_idea2.png','/Enwipweb/imagenes/bts/icon_inversion2.png');
	     
          obj = new ObjetoAJAX();
          
       // Invoca al servlet que devuelve el array de temas
          obj.enviar("http://localhost:8080/Enwipweb/CargarDatosUsuario","GET","procesaDatosUsuario", null);
           
        }

        function procesaDatosUsuario()
        { 
        
				
                 var res=obj.respuestaTexto();

					if(res=="iniciar sesion"){
							volverPaginaInicial();
						}
					var divnombre=document.createElement("div");


						
					var nombre=document.createTextNode(res);
					divnombre.id="datosUsuarioNombre";
					divnombre.appendChild(nombre);
		     document.getElementById("datosUsuario").appendChild(divnombre);
				divnombre.className="txt_nombre";
				divnombre.setAttribute("height","30");
		     cargarImagenDeUsuario();
        
        }
        function cargarImagenDeUsuario(){
        	obj.enviar("http://localhost:8080/Enwipweb/CargarImagenUsuario","GET","procesaImagenUsuario", null);
            }
        function procesaImagenUsuario(){

            var res=obj.respuestaTexto();

				if(res=="iniciar sesion"){
						volverPaginaInicial();
					}
				if(res=="null"){
					res="imagenes/foto_perfil.jpg";
					}
	     document.getElementById("fotoUsuario").setAttribute("src",res);
	     cargarNoticias();
	     
            }
	
        function cargarNoticias(){
        	 obj.enviar("http://localhost:8080/Enwipweb/CargarNoticias","GET","procesaNoticias", null);
            }
        function cargarNoticiasS(){
       	 obj.enviar("http://localhost:8080/Enwipweb/CargarNoticias","GET","procesaNoticiasS", null);
       	 return false;
           }
        function procesaNoticiasS()
        { 	        
             var noticias = eval("("+obj.respuestaTexto()+")");
             document.getElementById("titulo").innerHTML="<h2>Noticias</h2>";
             borrarTexto();
             borrarMenuOpciones();

             var tablaNoticias=document.createElement("table");
             tablaNoticias.className="tabla_mensajes";
             for (var elm = 0;elm < noticias.length;elm++)
             {    
                 var tr1=document.createElement("tr");
                 var tr=document.createElement("tr");
                 var tdImagen=document.createElement("td");
                 tdImagen.setAttribute("rowspan","2");
                 var tdFecha=document.createElement("td");
                 tdFecha.className="fecha";
                 var tdNoticia=document.createElement("td");
					var div=document.createElement("div");
					var cent=document.createElement("center");
					
					div.className="foto_not";
					
                 var imagen=document.createElement("img");
   				imagen.setAttribute("width","250");
   				imagen.setAttribute("height","250");
   				if(noticias[elm].Imagen=="null"){
   					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
   					}
   				else{
   					imagen.setAttribute("src",noticias[elm].Imagen);
   					}
   				
   				div.appendChild(imagen);
   				cent.appendChild(div);
   			  tdImagen.appendChild(cent);	
   			  tr1.appendChild(tdImagen);

   			  tdFecha.appendChild(document.createTextNode(noticias[elm].Fecha));
   			  tr1.appendChild(tdFecha);

   			  tablaNoticias.appendChild(tr1);
   			  
                 
                  tdNoticia.appendChild(document.createTextNode(noticias[elm].Noticia));
                  tr.appendChild(tdNoticia);
                  tablaNoticias.appendChild(tr);
                  
                  
                 
             }
             document.getElementById("formularios").appendChild(tablaNoticias);
          
         
        }
        function procesaNoticias()
        { 	        
             var noticias = eval("("+obj.respuestaTexto()+")");
             document.getElementById("titulo").innerHTML="<h2>Noticias</h2>";
          
       // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
       var tablaNoticias=document.createElement("table");
       tablaNoticias.className="tabla_mensajes";
          for (var elm = 0;elm < noticias.length;elm++)
          {    
              var tr1=document.createElement("tr");
              var tr=document.createElement("tr");
              var tdImagen=document.createElement("td");
              tdImagen.setAttribute("rowspan","2");
              var tdFecha=document.createElement("td");
              tdFecha.className="fecha";
              var tdNoticia=document.createElement("td");
              var div=document.createElement("div");
              var cent=document.createElement("center");
				div.className="foto_not";
				
           var imagen=document.createElement("img");
				imagen.setAttribute("width","250");
				imagen.setAttribute("height","250");
				if(noticias[elm].Imagen=="null"){
					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
					}
				else{
					imagen.setAttribute("src",noticias[elm].Imagen);
					}
   				div.appendChild(imagen);
   				cent.appendChild(div);
			  tdImagen.appendChild(cent);	
			  tr1.appendChild(tdImagen);

			  tdFecha.appendChild(document.createTextNode(noticias[elm].Fecha));
			  tr1.appendChild(tdFecha);

			  tablaNoticias.appendChild(tr1);
			  
              
               tdNoticia.appendChild(document.createTextNode(noticias[elm].Noticia));
               tr.appendChild(tdNoticia);
               tablaNoticias.appendChild(tr);
               
               
              
          }
          document.getElementById("formularios").appendChild(tablaNoticias);
          cargarCuaderno();
   
         
        }
        function cargarCuaderno(){
            
        	obj.enviar("http://localhost:8080/Enwipweb/CargarCuaderno","GET","procesaCuaderno", null);
            }
        function procesaCuaderno(){
            borrarCuaderno();
            borrarPestanas();
        	 var datos = eval("("+obj.respuestaTexto()+")");
             document.getElementById("cuadernoApuntes").appendChild(document.createTextNode("Seleccione una pestaña para ver su contenido"));
             
       
          for (var elm = 0;elm < datos.length;elm++)
          {    var td=document.createElement("td");
          	   var boton=crearBoton(datos[elm].Nombre);
          	   boton.setAttribute("id",datos[elm].Id);
          	   boton.setAttribute("class","bts_cuaderno" );
          	   boton.onclick=function (evento){
                   var idp=evento.srcElement.id;
            	   traerContenidoCuaderno(idp);
              	   }
          	   document.getElementById("pestanas").appendChild(boton);
          }
          var td=document.createElement("td");
     	   var boton=crearBoton("+");
     	   boton.setAttribute("class","bts_cuaderno" );
     	   boton.onclick=function (){
					crearPestana();
         	   }
     	   document.getElementById("pestanas").appendChild(boton);
        
            }
        function crearPestana(){
				var nueva=document.createElement("input");
				nueva.type="text";
				nueva.value="Nombre";
				nueva.onclick=function(){
						nueva.value="";
					}
				 var enviar=crearBoton("Enviar");
				 enviar.setAttribute("class","bts_cuaderno" );
				 enviar.onclick=function(){
						enviarPestana(nueva.value);
					 }
				 borrarGuardarCuaderno();
				 document.getElementById("guardarCuad").appendChild(nueva);
				 document.getElementById("guardarCuad").appendChild(enviar);
            }
        function enviarPestana(pestana){
        	 var cad = "";
       	    
   	           cad = "nombre="+pestana;
     
   	 
    
         		obj.enviarUno("http://localhost:8080/Enwipweb/CrearPestana","POST","procesaNuevaPestana", cad);
            }
        function procesaNuevaPestana(){
			var res=obj.respuestaTexto();
			if(res=="listo"){
					cargarCuaderno();
				}
			else{
				borrarCuaderno();
				 alert(res);
				}
            }
        function traerContenidoCuaderno(id){
        	 var cad = "";
      	    
    	      cad = "Id="+id;
      
    	 
     
          		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarContenidoCuaderno","POST","procesaDatosCuaderno", cad);
            }
        function procesaDatosCuaderno(){
        	var datos = eval("("+obj.respuestaTexto()+")");
        	borrarCuaderno();
        	document.getElementById("cuadernoApuntes").value="";
        	document.getElementById("cuadernoApuntes").value=(datos.Contenido).replaceAll("<br>","\n");
        	var guardar=crearBoton("Guardar");
        	guardar.setAttribute("class","bts_cuaderno" );
        	guardar.setAttribute("id",datos.Id);
       	    guardar.onclick=function (evento){
               var idp=evento.srcElement.id;
        	   guardarCuaderno(idp);
          	   }
       	   var eliminar=crearBoton("-");
       	   eliminar.setAttribute("class","bts_cuaderno" );
       	   eliminar.setAttribute("id","eliminar_"+datos.Id);
       	   eliminar.onclick=function(evento){
				var idp=evento.srcElement.id;
				eliminarCuaderno(idp);
           	   }
       	   document.getElementById("guardarCuad").appendChild(guardar);
       	document.getElementById("guardarCuad").appendChild(eliminar);
       	document.getElementById("cuadernoApuntes").appendChild(document.createTextNode((datos.Contenido).replaceAll("<br>","\n")));
            }
        function guardarCuaderno(id){
	      	 
        	var datos=new Array();
        	var cad1="id"+"="+id;
        	var cad2="contenido"+"="+document.getElementById("cuadernoApuntes").value;
        	datos.push(cad1);
        	datos.push(cad2);
        	var cad=datos.join("&");
        	obj.enviarUno("http://localhost:8080/Enwipweb/GuardarCuaderno","POST","mostrarGuarado", cad)
            }
        function eliminarCuaderno(id){
				var cad="";
				cad="Id="+id;
				obj.enviarUno("http://localhost:8080/Enwipweb/EliminarCuaderno","POST","cargarCuaderno", cad);
            }
        function mostrarGuardado(){
            }
        function traerDatosGrupo(id){

     	   
		          
		      	 
	         	 var cad = "";
	         	    
	         	      cad = "Id="+id;
	           
	         	 
		      
	               		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDelGrupo","POST","procesaGrupo", cad);
            }
        function modificarIdeaDeNegocio(id){
        	var cad = "";
     	    
     	      cad = "Id="+id;
       
     	 
      
           		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosIdea","POST","procesaModificacionIdea", cad);
            }
        function procesaModificacionIdea(){
        	borrarTexto();
			var datos=eval("("+obj.respuestaTexto()+")");
    		var formularioIdea=document.createElement("form");
    		
    		formularioIdea.id="formulario";
      		var tablaI=document.createElement("table");
      		tablaI.className="tabla_mensajes";
      		var trnombre=document.createElement("tr");
      		var tridean=document.createElement("tr");
      		var trnacimiento=document.createElement("tr");
      		var trpais=document.createElement("tr");
      		var trciudad=document.createElement("tr");
      		var trarea=document.createElement("tr");
      		var trtipoInversion=document.createElement("tr");
      		var trtipoInversionista=document.createElement("tr");
      		var trnivelInversion=document.createElement("tr");

        	var txtnombre=document.createTextNode("Dale un nombre a tu idea");
      	    var tdtxtnombre=document.createElement("td");
      	    var tdnombre=document.createElement("td");
      	    tdtxtnombre.appendChild(txtnombre);
    		var nombre=document.createElement("input");
    		nombre.type="text";
    		nombre.name="nombre";
    		nombre.id="nombre";
    		nombre.setAttribute("value",(datos.Nombre).replaceAll("<br>","\n"));
            	tdnombre.appendChild(nombre);
            	trnombre.appendChild(tdtxtnombre);
            	trnombre.appendChild(tdnombre);
            	tablaI.appendChild(trnombre);

            	
      	    var txtidean=document.createTextNode("Escribe tu Idea");;
      	    var tdtxtidean=document.createElement("td");
      	    var tdidean=document.createElement("td");
      	    tdtxtidean.appendChild(txtidean);
    		var idea=document.createElement("textarea");
    		idea.name="idea";
    		idea.id="idea";
    		idea.setAttribute("cols","60");
    		idea.setAttribute("rows","10");
    		idea.appendChild(document.createTextNode((datos.Idea).replaceAll("<br>","\n")));
            	tdidean.appendChild(idea);
            	tridean.appendChild(tdtxtidean);
            	tridean.appendChild(tdidean);
            	tablaI.appendChild(tridean);




                	var txtnacimiento=document.createTextNode("Cuentanos como nacio tu idea");
              	    var tdtxtnacimiento=document.createElement("td");
              	    var tdnacimiento=document.createElement("td");
              	    tdtxtnacimiento.appendChild(txtnacimiento);
            		var nacimiento=document.createElement("textarea");
            		nacimiento.name="nacimiento";
            		nacimiento.id="nacimiento";
            		nacimiento.setAttribute("cols","60");
            		nacimiento.setAttribute("rows","10");
            		nacimiento.appendChild(document.createTextNode((datos.Nacimiento).replaceAll("<br>","\n")));

                    	tdnacimiento.appendChild(nacimiento);
                    	trnacimiento.appendChild(tdtxtnacimiento);
                    	trnacimiento.appendChild(tdnacimiento);
                    	tablaI.appendChild(trnacimiento);

                    	
                    	var txtpais=document.createTextNode("Selecciona el pais en el cual quieres desarrollar tu idea");
                  	    var tdtxtpais=document.createElement("td");
                  	    var tdpais=document.createElement("td");
                  	    tdtxtpais.appendChild(txtpais);
                		var pais=crearSelect(datos.paises,datos.Pais);
                		pais.name="pais";
                		pais.id="pais";

                        	tdpais.appendChild(pais);
                        	trpais.appendChild(tdtxtpais);
                        	trpais.appendChild(tdpais);
                        	tablaI.appendChild(trpais);

                        	var txtciudad=document.createTextNode("Escribe la ciudad");
                      	    var tdtxtciudad=document.createElement("td");
                      	    var tdciudad=document.createElement("td");
                      	    tdtxtciudad.appendChild(txtciudad);
                    		var ciudad=document.createElement("input");
                    		ciudad.type="text";
                    		ciudad.name="ciudad";
                    		ciudad.id="ciudad";
                    		ciudad.setAttribute("value",datos.Ciudad);
                            	tdciudad.appendChild(ciudad);
                            	trciudad.appendChild(tdtxtciudad);
                            	trciudad.appendChild(tdciudad);
                            	tablaI.appendChild(trciudad);

                            	var txtarea=document.createTextNode("En que categoria se encuentra tu idea");
                          	    var tdtxtarea=document.createElement("td");
                          	    var tdarea=document.createElement("td");
                          	    tdtxtarea.appendChild(txtarea);
                        		var area=crearSelect(datos.areasEstudio,datos.Area);
                        		area.name="area";
                        		area.id="area";

                                	tdarea.appendChild(area);
                                	trarea.appendChild(tdtxtarea);
                                	trarea.appendChild(tdarea);
                                	tablaI.appendChild(trarea);

                            	
                            	var txttipoInversionista=document.createTextNode("Selecciona el tipo de inversionista en el que estas interesado");
                          	    var tdtxttipoInversionista=document.createElement("td");
                          	    var tdtipoInversionista=document.createElement("td");
                          	    tdtxttipoInversionista.appendChild(txttipoInversionista);
                        		var tipoInversionista=crearSelect(datos.tiposInversionista,datos.TipoInversionista);
                        		tipoInversionista.name="tipoInversionista";
                        		tipoInversionista.id="tipoInversionista";

                                	tdtipoInversionista.appendChild(tipoInversionista);
                                	trtipoInversionista.appendChild(tdtxttipoInversionista);
                                	trtipoInversionista.appendChild(tdtipoInversionista);
                                	tablaI.appendChild(trtipoInversionista);

                                	var txttipoInversion=document.createTextNode("Selecciona el tipo de inversion que estas buscando");
                              	    var tdtxttipoInversion=document.createElement("td");
                              	    var tdtipoInversion=document.createElement("td");
                              	    tdtxttipoInversion.appendChild(txttipoInversion);
                            		var tipoInversion=crearSelect(datos.tiposInversion,datos.TipoInversion);
                            		tipoInversion.name="tipoInversion";
                            		tipoInversion.id="tipoInversion";

                                    	tdtipoInversion.appendChild(tipoInversion);
                                    	trtipoInversion.appendChild(tdtxttipoInversion);
                                    	trtipoInversion.appendChild(tdtipoInversion);
                                    	tablaI.appendChild(trtipoInversion);


                                    	var txtnivelInversion=document.createTextNode("Selecciona el nivel de inversion necesario para llevar a cabo tu idea");
                                  	    var tdtxtnivelInversion=document.createElement("td");
                                  	    var tdnivelInversion=document.createElement("td");
                                		var nivelInversion=crearSelect(datos.nivelesInversion,datos.NivelInversion);
                                		nivelInversion.name="nivelInversion";
                                		nivelInversion.id="nivelInversion";

                                        	tdnivelInversion.appendChild(nivelInversion);
                                        	trnivelInversion.appendChild(tdtxtnivelInversion);
                                        	trnivelInversion.appendChild(tdnivelInversion);
                                        	tablaI.appendChild(trnivelInversion);





    		var crear=crearBoton("Guardar cambios");
    		var id=document.createElement("input");
    		id.type="hidden";
    		id.setAttribute("value",datos.Id);
    		id.setAttribute("name","id");
    		crear.onclick=function (){
        		
        		enviarModificacionIdea(formularioIdea);
        		};
    		
    		
    		formularioIdea.appendChild(tablaI);

    		
    	
    		document.getElementById("formularios").appendChild(formularioIdea);
    		document.getElementById("formularios").appendChild(crear);
    		
            }
    	function crearSelect(tipos,seleccionado){
    		var select=document.createElement("select");
    		
            for (var elm = 0;elm < tipos.length;elm++)
            {    var item=document.createElement("option");
                 item.setAttribute("id",tipos[elm].Id);
                 item.setAttribute("value",tipos[elm].Id);
                 if(seleccionado==item.value){
    			 item.setAttribute("selected","selected");	
                     }
                 var texto=document.createTextNode(tipos[elm].Nombre);
                 item.appendChild(texto);
                 select.appendChild(item);
            }
    		return select;
    		}
        
        function traerDatosIdea(id){
        	var cad = "";
     	    
   	      cad = "Id="+id;
     
   	 
    
         		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDeIdea","POST","procesaIdea", cad);
            }
        function traerDatosVotacionIdea(id){
        	var cad = "";
     	    
   	      cad = "Id="+id;
     
   	 
    
         		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDeIdea","POST","procesaVotacionIdea", cad);
            }
        
        function traerDatosInversionIdea(id){
        	var cad = "";
     	    
   	      cad = "Id="+id;
     
   	 
    
         		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDeIdea","POST","procesaInversionIdea", cad);
            }
        function traerDatosIdeaDeAmigo(id){
        	var cad = "";
     	    
   	      cad = "Id="+id;
     
   	 
    
         		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDeIdea","POST","procesaIdeaDeAmigo", cad);
            }
        function procesaGrupos()
        { 	        
            document.getElementById("titulo").innerHTML="<h2>Grupos</h2>";
     		borrarTexto();
     		
     		
     		var res=obj.respuestaTexto();
     		
           
		if(res!="]"){
			var tabla=document.createElement("table");
			tabla.className="tabla_mensajes";
			  var grupos = eval("("+obj.respuestaTexto()+")");
       // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
          for (var elm = 0;elm < grupos.length;elm++)
          {		    
              var item=crearBoton(grupos[elm].Nombre);
               item.id=grupos[elm].Id;
               var tr=document.createElement("tr");
               var td=document.createElement("td");

               td.appendChild(item);
               tr.appendChild(td);
               tabla.appendChild(tr);
               
               
              
               
               item.onclick=function(evento){
                   //alert(evento.srcElement.id)
                   var idp=evento.srcElement.id;
            	   traerDatosGrupo(idp);
                   }
               
       			
          }
          document.getElementById("formularios").appendChild(tabla);
		}
       	var creargrupo=crearBoton("Crear Grupo");
       	creargrupo.id="crearGrupo";
       	
       	
       	document.getElementById("texto").appendChild(crearTablaBuscar("grupos"));
       	document.getElementById("texto").appendChild(creargrupo);
       	creargrupo.onclick=function(){
       		
       		crearGrupo();
       	}
         
        }
        function procesaGruposDeAmigo()
        { 	        
            
             var grupos = eval("("+obj.respuestaTexto()+")");
            
     		borrarFormularios();

       // Genera el resto de opciones de la lista a partir de los datos recibidos en la respuesta
          for (var elm = 0;elm < grupos.length;elm++)
          {		    
              var item=crearBoton(grupos[elm].Nombre);
               item.id=grupos[elm].Id;
               
              
               document.getElementById("formularios").appendChild(item);
               
               item.onclick=function(evento){
                   //alert(evento.srcElement.id)
                   var idp=evento.srcElement.id;
            	   traerDatosGrupo(idp);
                   }
               
       			
          }
       	
         
        }
		function crearGrupo(){
			borrarTexto();
			var formulario=document.createElement("form");
			formulario.id="formCrearGrupo";
			formulario.name="formCrearGrupo";
			var tabla=document.createElement("table");
			tabla.id="tabla";
			
			var rowNombre = tabla.insertRow(0);
			 rowNombre.id="filaNombre";
			 
			var etiquetaNombre=rowNombre.insertCell(0);
			etiquetaNombre.innerHTML="Nombre:";
			 
			 var campoNombre=rowNombre.insertCell(1);
			 campoNombre.innerHTML="<input type='text' name='nombreGrupo' id='nombreGrupo' >";
			 
				var rowDescripcion = tabla.insertRow(1);
				 rowDescripcion.id="filaDescripcion";
				 
				var etiquetaDescripcion=rowDescripcion.insertCell(0);
				etiquetaDescripcion.innerHTML="Descripcion:";
				 
				 var campoDescripcion=rowDescripcion.insertCell(1);
				 campoDescripcion.innerHTML="<textarea rows='5' cols='80' name='DescripcionGrupo' id='DescripcionGrupo'></textarea>";
			 
				 
					var tablaboton=document.createElement("table");
					//botonGuardar.innerHTML="<center><input type = 'button' name = 'crearGrupo' onClick = 'guardarGrupo();' value = 'Crear Grupo'/></center>";
					var botonGuardar=crearBoton("Crear Grupo");
					botonGuardar.id="guardarGrupo";
			       	
			       
			       	botonGuardar.onclick=function(){
			       		guardarGrupo(formulario);
			       		
			       	}
			       	
			       	tablaboton.appendChild(botonGuardar);
			       	
			       	formulario.appendChild(tabla);
				 	document.getElementById("formularios").appendChild(formulario);
				 	document.getElementById("formularios").appendChild(tablaboton);
			
			
		}
		
		function guardarGrupo(formulario){
			
			obj.enviar("http://localhost:8080/Enwipweb/CrearGrupo","POST","cargarGrupos", formulario);
			
			
		}


        function procesaGrupo(){

        	 var comentarios = eval("("+obj.respuestaTexto()+")");
        	
        	
        	
             document.getElementById("titulo").innerHTML="<h2>Grupo: "+comentarios[0].Grupo+"</h2>";
     		borrarTexto();
     		  var trComentarios=document.createElement("tr");
  	        var tdComentarios=document.createElement("td");
  	        tdComentarios.setAttribute("colspan","2");
  	        var tablaComentarios=document.createElement("table");
  	        tablaComentarios.id="tablaComentarios";
  			
  	 		for (var elm = 0;elm < comentarios.length;elm++)
  	        {    
  	 	        var item=document.createElement("tr");
  	 	       var tablaComentario=document.createElement("table"); 
  	 	       var trComent=document.createElement("tr");
  	 	       var tdComent=document.createElement("td");
  	 	           tdComent.setAttribute("colspan","2");
  	 	          tdComent.appendChild(document.createTextNode(comentarios[elm].Comentario));
  	 	          trComent.appendChild(tdComent);
  	 	          var tdFecha=document.createElement("td");
  	 	          tdFecha.className="fecha";
  	 	          tdFecha.appendChild(document.createTextNode(comentarios[elm].Fecha));
  	 	          trComent.appendChild(tdFecha);
  	 	       var trUsuario=document.createElement("tr");
  	 	       var tdFoto=document.createElement("td");
  	 	       var tdNombreU=document.createElement("td");
  	 	      var imagen=document.createElement("img");
  				imagen.setAttribute("width","30");
  				imagen.setAttribute("height","60");
  				if(comentarios[elm].Imagen=="null"){
  					imagen.setAttribute("src","imagenes/foto_perfil.jpg");
  					}
  				else{
  					imagen.setAttribute("src",comentarios[elm].Imagen);
  					}
  	             tdFoto.appendChild(imagen);
  	             tdNombreU.appendChild(document.createTextNode(comentarios[elm].usuario))
  	             trUsuario.appendChild(tdFoto);
  	             trUsuario.appendChild(tdNombreU);
  	             tablaComentario.appendChild(trComent);
  	             tablaComentario.appendChild(trUsuario);
  	             item.appendChild(tablaComentario);
  	             tablaComentarios.appendChild(item);
  	           

  	             
  	        }
  	 		
  	 		
  	 		  var cuadro=document.createElement('textarea');
  	 		 
  	 		  cuadro.id="nuevoComent";
  	 		  cuadro.name="Nuevo comentario";
  	 		  cuadro.rows='5';
  	 		  cuadro.cols='80';
  	 		 document.getElementById("final").appendChild(cuadro);
  	 		 
  	 		  var botonEnviar=crearBoton("Comentar");
  	 		  
  			    botonEnviar.onclick=function() {
  			    	  
  			    	 enviarComentario(comentarios[0].Id,document.getElementById("nuevoComent").value);
  			    	  
  			      }
  			      document.getElementById("final").appendChild(botonEnviar);
  			tdComentarios.appendChild(tablaComentarios)
  			trComentarios.appendChild(tdComentarios);
  			
  			document.getElementById("formularios").appendChild(trComentarios);
     		
    

   		      
            }
        
        function enviarComentario(grupoId,coment){

          	
        	var datos=new Array();
        	var cad1="id"+"="+grupoId;
        	var cad2="comentario"+"="+coment;
        	datos.push(cad1);
        	datos.push(cad2);
        	var cad=datos.join("&");
        	obj.enviarUno("http://localhost:8080/Enwipweb/GuardarComentario","POST","mostrarNuevoComentario", cad);
        	
        }
        function mostrarNuevoComentario(){
        	var item=document.createElement("tr");
  	       var tablaComentario=document.createElement("table"); 
  	       var trComent=document.createElement("tr");
   	       var tdComent=document.createElement("td");
  	           tdComent.setAttribute("colspan","2");
  	           tdComent.appendChild(document.createTextNode(document.getElementById("nuevoComent").value));
  	           trComent.appendChild(tdComent);
  	          var tdFecha=document.createElement("td");
  	        tdFecha.className="fecha";
  	         var f = new Date();
 	 	          tdFecha.appendChild( document.createTextNode(f.getFullYear() + "-" + (f.getMonth() +1) + "-" + f.getDate()));
 	 	          trComent.appendChild(tdFecha);
  	       var trUsuario=document.createElement("tr");
  	       var tdFoto=document.createElement("td");
  	       var tdNombreU=document.createElement("td");
  	      var imagen=document.createElement("img");
  			imagen.setAttribute("width","30");
  			imagen.setAttribute("height","60");
  			imagen.setAttribute("src",document.getElementById("fotoUsuario").src);
             tdFoto.appendChild(imagen);
             tdNombreU.appendChild(document.createTextNode(document.getElementById("datosUsuarioNombre").innerHTML));
             trUsuario.appendChild(tdFoto);
             trUsuario.appendChild(tdNombreU);
             tablaComentario.appendChild(trComent);
             tablaComentario.appendChild(trUsuario);
             item.appendChild(tablaComentario);
             
           
           document.getElementById("tablaComentarios").appendChild(item);
           document.getElementById("nuevoComent").value="";

        	
        }
        function borrarCuaderno(){
            var elt1 = document.getElementById("cuadernoApuntes");

            if(elt1.hasChildNodes()) {
                while ( elt1.childNodes.length >= 1 ) {
                    elt1.removeChild( elt1.firstChild );       
                } 
            }
            elt1 = document.getElementById("guardarCuad");

            if(elt1.hasChildNodes()) {
                while ( elt1.childNodes.length >= 1 ) {
                    elt1.removeChild( elt1.firstChild );       
                } 
            }

            
            }
        function borrarPestanas(){
            var elt1 = document.getElementById("pestanas");

            if(elt1.hasChildNodes()) {
                while ( elt1.childNodes.length >= 1 ) {
                    elt1.removeChild( elt1.firstChild );       
                } 
            }
            }
        function borrarTexto(){
        	   var elt = document.getElementById("texto");

               if(elt.hasChildNodes()) {
                   while ( elt.childNodes.length >= 1 ) {
                       elt.removeChild( elt.firstChild );       
                   } 
               }
               
               var elt1 = document.getElementById("formularios");

               if(elt1.hasChildNodes()) {
                   while ( elt1.childNodes.length >= 1 ) {
                       elt1.removeChild( elt1.firstChild );       
                   } 
               }

               var elt2 = document.getElementById("final");

               if(elt2.hasChildNodes()) {
                   while ( elt2.childNodes.length >= 1 ) {
                       elt2.removeChild( elt2.firstChild );       
                   } 
               }
            }
        function borrarSoloTexto(){
     	   var elt = document.getElementById("texto");

            if(elt.hasChildNodes()) {
                while ( elt.childNodes.length >= 1 ) {
                    elt.removeChild( elt.firstChild );       
                } 
            }
            

         }
        function borrarGuardarCuaderno(){
     	   var elt = document.getElementById("guardarCuad");

            if(elt.hasChildNodes()) {
                while ( elt.childNodes.length >= 1 ) {
                    elt.removeChild( elt.firstChild );       
                } 
            }
            
         }
        function borrarFormularios(){
  
            var elt1 = document.getElementById("formularios");

            if(elt1.hasChildNodes()) {
                while ( elt1.childNodes.length >= 1 ) {
                    elt1.removeChild( elt1.firstChild );       
                } 
            }
            var elt2 = document.getElementById("final");

            if(elt2.hasChildNodes()) {
                while ( elt2.childNodes.length >= 1 ) {
                    elt2.removeChild( elt2.firstChild );       
                } 
            }
         }

        function borrarMenuOpciones(){
      	   var elt = document.getElementById("menuOpciones");

             if(elt.hasChildNodes()) {
                 while ( elt.childNodes.length >= 1 ) {
                     elt.removeChild( elt.firstChild );       
                 } 
             }
             
             
          }
        
        function procesaPerfil()
        { 	        
             var perfil = eval("("+obj.respuestaTexto()+")");
             document.getElementById("titulo").innerHTML="<h2>Perfil</h2>";
				
				borrarTexto();
				
				borrarMenuOpciones();

					var tabla=document.createElement("table");
					var trAmigos=document.createElement("tr");
					trAmigos.setAttribute("class","bt_mun1");
					var trColaboradores=document.createElement("tr");
					trColaboradores.setAttribute("class","bt_mun1");
					var trGrupos=document.createElement("tr");
				    trGrupos.setAttribute("class","bt_mun1");
					var trActividades=document.createElement("tr");
					trActividades.setAttribute("class","bt_mun1");
					var trSolicitudes=document.createElement("tr");
					trSolicitudes.setAttribute("class","bt_mun1");
					var Amigos=crearA("Amigos");
					Amigos.name="amigos";
					
					Amigos.onclick=cargarAmigos;
					var colaboradores=crearA("Colaboradores");
					colaboradores.name="colaboradores";
					
					colaboradores.onclick=cargarColaboradores;
					var grupos=crearA("Grupos");
					grupos.name="grupos";
					grupos.onclick=cargarGrupos;
					
			
					var Actividades=crearA("Actividades");
					Actividades.name="actividades";
					Actividades.onclick=cargarActividades;
					
					
					var Solicitudes=crearA("Solicitudes");
					Solicitudes.name="solicitudes";
					Solicitudes.onclick=cargarSolicitudes;
					
					
					trAmigos.appendChild(Amigos);
					trColaboradores.appendChild(colaboradores);
					trGrupos.appendChild(grupos);
					trActividades.appendChild(Actividades);
					trSolicitudes.appendChild(Solicitudes);
					tabla.appendChild(trAmigos);
					tabla.appendChild(trColaboradores);
					tabla.appendChild(trGrupos);
					tabla.appendChild(trActividades);
					tabla.appendChild(trSolicitudes);
					document.getElementById("menuOpciones").appendChild(tabla);
					
      		   var tablaPerfil=document.createElement("table");
      		   tablaPerfil.className="tabla_mensajes";


      		   var trNombre=document.createElement("tr");
      		   var trApellido=document.createElement("tr");
      		   var trResena=document.createElement("tr");
      		   var trPais=document.createElement("tr");
      		   var trCiudad=document.createElement("tr");
      		   var trDir=document.createElement("tr");
      		   var trTel=document.createElement("tr");
      		   var trMail=document.createElement("tr");
      		   var trGenero=document.createElement("tr");
      		   var trNaci=document.createElement("tr");
      		   var trEstudios=document.createElement("tr");
      		   var trExperiencia=document.createElement("tr");
      		   var trTipoInversionista=document.createElement("tr");
      		   var trTipoInversion=document.createElement("tr");
      		   var trNivelInversion=document.createElement("tr");
      		  
      		   
      		   var tdTitNombre=document.createElement("th");
      		   tdTitNombre.appendChild(document.createTextNode("Nombre:"));
      		   var tdTitApellido=document.createElement("th");
      		   tdTitApellido.appendChild(document.createTextNode("Apellidos:"));
      		   var tdTitResena=document.createElement("th");
      		   tdTitResena.appendChild(document.createTextNode("Reseña Personal:"));
      		   var tdTitPais=document.createElement("th");
      		   tdTitPais.appendChild(document.createTextNode("Pais:"));
      		   var tdTitCiudad=document.createElement("th");
      		   tdTitCiudad.appendChild(document.createTextNode("Ciudad:"));
      		   var tdTitDir=document.createElement("th");
      		   tdTitDir.appendChild(document.createTextNode("Direccion:"));
      		   var tdTitTel=document.createElement("th");
      		   tdTitTel.appendChild(document.createTextNode("Telefono:"));
      		   var tdTitMail=document.createElement("th");
      		   tdTitMail.appendChild(document.createTextNode("Correo:"));
      		   var tdTitGenero=document.createElement("th");
      		   tdTitGenero.appendChild(document.createTextNode("Genero:"));
      		   var tdTitNaci=document.createElement("th");
      		   tdTitNaci.appendChild(document.createTextNode("Fecha de Nacimiento:"));
      		   var tdTitEstudios=document.createElement("th");
      		   tdTitEstudios.appendChild(document.createTextNode("Estudios:"));
      		   var tdTitExperiencia=document.createElement("th");
      		   tdTitExperiencia.appendChild(document.createTextNode("Area de Experiencia:"));
      		   var tdTitTipoInversionista=document.createElement("th");
      		   tdTitTipoInversionista.appendChild(document.createTextNode("Tipo de Inversionista:"));
      		   var tdTitTipoInversion=document.createElement("th");
      		   tdTitTipoInversion.appendChild(document.createTextNode("Tipo de Inversion:"));
      		   var tdTitNivelInversion=document.createElement("th");
      		   tdTitNivelInversion.appendChild(document.createTextNode("Nivel de Inversion:"));


      		   var tdNombre=document.createElement("td");
      		   var tdApellido=document.createElement("td");
      		   var tdResena=document.createElement("td");
      		   var tdPais=document.createElement("td");
      		   var tdCiudad=document.createElement("td");
      		   var tdDir=document.createElement("td");
      		   var tdTel=document.createElement("td");
      		   var tdMail=document.createElement("td");
      		   var tdGenero=document.createElement("td");
      		   var tdNaci=document.createElement("td");
      		   var tdEstudios=document.createElement("td");
      		   var tdExperiencia=document.createElement("td");
      		   var tdTipoInversionista=document.createElement("td");
      		   var tdTipoInversion=document.createElement("td");
      		   var tdNivelInversion=document.createElement("td");
    
      		  
               var item=document.createElement("div");
               item.id="reseña";
               var texto=document.createTextNode(perfil[0].Reseña);
               item.appendChild(texto);
               tdResena.appendChild(item);
               trResena.appendChild(tdTitResena);
               trResena.appendChild(tdResena);
               tablaPerfil.appendChild(trResena);
               
               item=document.createElement("div");
               item.id="nombrei";
                texto=document.createTextNode(perfil[0].Nombre);
               item.appendChild(texto);
               tdNombre.appendChild(item);
               trNombre.appendChild(tdTitNombre);
               trNombre.appendChild(tdNombre);
               tablaPerfil.appendChild(trNombre);

               item=document.createElement("div");
               item.id="apellido";
                texto=document.createTextNode(perfil[0].Apellido);
               item.appendChild(texto);
               tdApellido.appendChild(item);
               trApellido.appendChild(tdTitApellido);
               trApellido.appendChild(tdApellido);
               tablaPerfil.appendChild(trApellido);           

               
                item=document.createElement("div");
               item.id="pais";
                texto=document.createTextNode(perfil[0].Pais);
               item.appendChild(texto);
               tdPais.appendChild(item);
               trPais.appendChild(tdTitPais);
               trPais.appendChild(tdPais);
               tablaPerfil.appendChild(trPais);

                item=document.createElement("div");
               item.id="ciudad";
                texto=document.createTextNode(perfil[0].Ciudad);
               item.appendChild(texto);
               tdCiudad.appendChild(item);
               trCiudad.appendChild(tdTitCiudad);
               trCiudad.appendChild(tdCiudad);
               tablaPerfil.appendChild(trCiudad);

               
                item=document.createElement("div");
               item.id="direccion";
                texto=document.createTextNode(perfil[0].Direccion);
               item.appendChild(texto);
               tdDir.appendChild(item);
               trDir.appendChild(tdTitDir);
               trDir.appendChild(tdDir);
               tablaPerfil.appendChild(trDir);

                item=document.createElement("div");
               item.id="telefono";
                texto=document.createTextNode(perfil[0].Telefono);
               item.appendChild(texto);
               tdTel.appendChild(item);
               trTel.appendChild(tdTitTel);
               trTel.appendChild(tdTel);
               tablaPerfil.appendChild(trTel);

               
                item=document.createElement("div");
               item.id="email";
                texto=document.createTextNode(perfil[0].EMail);
               item.appendChild(texto);
               tdMail.appendChild(item);
               trMail.appendChild(tdTitMail);
               trMail.appendChild(tdMail);
               tablaPerfil.appendChild(trMail);

                item=document.createElement("div");
               item.id="genero";
                texto=document.createTextNode(perfil[0].Genero);
               item.appendChild(texto);
               tdGenero.appendChild(item);
               trGenero.appendChild(tdTitGenero);
               trGenero.appendChild(tdGenero);
               tablaPerfil.appendChild(trGenero);

               
                item=document.createElement("div");
               item.id="fecha";
                texto=document.createTextNode(perfil[0].Fecha);
               item.appendChild(texto);
               tdNaci.appendChild(item);
               trNaci.appendChild(tdTitNaci);
               trNaci.appendChild(tdNaci);
               tablaPerfil.appendChild(trNaci);

                item=document.createElement("div");
               item.id="estudio";
                texto=document.createTextNode(perfil[0].Estudio);
               item.appendChild(texto);
               tdEstudios.appendChild(item);
               trEstudios.appendChild(tdTitEstudios);
               trEstudios.appendChild(tdEstudios);
               tablaPerfil.appendChild(trEstudios);

               item=document.createElement("div");
               item.id="experiencia";
                texto=document.createTextNode(perfil[0].Experiencia);
               item.appendChild(texto);
               tdExperiencia.appendChild(item);
               trExperiencia.appendChild(tdTitExperiencia);
               trExperiencia.appendChild(tdExperiencia);
               tablaPerfil.appendChild(trExperiencia);

               if(perfil[0].TipoInversionista!="null"){
                   var trInv=document.createElement("tr");
                   var tdInv=document.createElement("th");
                   tdInv.setAttribute("colspan","2");
                   tdInv.appendChild(document.createTextNode("Inversión"));
                   trInv.appendChild(tdInv);
                   tablaPerfil.appendChild(trInv);
               item=document.createElement("div");
               item.id="tipoInversionista";
                texto=document.createTextNode(perfil[0].TipoInversionista);
               item.appendChild(texto);
               tdTipoInversionista.appendChild(item);
               trTipoInversionista.appendChild(tdTitTipoInversionista);
               trTipoInversionista.appendChild(tdTipoInversionista);
               tablaPerfil.appendChild(trTipoInversionista);

               item=document.createElement("div");
               item.id="tipoInversion";
                texto=document.createTextNode(perfil[0].TipoInversion);
               item.appendChild(texto);
               tdTipoInversion.appendChild(item);
               trTipoInversion.appendChild(tdTitTipoInversion);
               trTipoInversion.appendChild(tdTipoInversion);
               tablaPerfil.appendChild(trTipoInversion);

               item=document.createElement("div");
               item.id="nivelInversion";
                texto=document.createTextNode(perfil[0].NivelInversion);
               item.appendChild(texto);
               tdNivelInversion.appendChild(item);
               trNivelInversion.appendChild(tdTitNivelInversion);
               trNivelInversion.appendChild(tdNivelInversion);
               tablaPerfil.appendChild(trNivelInversion);


               }
				
               boton=crearBoton("Editar perfil");
               boton.name="editar";
               boton.onclick=cargarEdicionPerfil;
               
               
               document.getElementById("texto").appendChild(boton);
               document.getElementById("formularios").appendChild(tablaPerfil);

            
               
         
        }
        function cargarEdicionPerfil(){
        	obj.enviar("http://localhost:8080/Enwipweb/CargarEdicionPerfil","GET","procesaEdicionPerfil", null);
            }
        function procesaEdicionPerfil(){
     		 borrarTexto();
     		 var perfil=eval("("+obj.respuestaTexto()+")");
     		 var formularioFoto=document.createElement("form");
     		 formularioFoto.id="formularioFoto";
     		 formularioFoto.method="POST";
     		 formularioFoto.enctype="multipart/form-data";
     		 formularioFoto.encoding="multipart/form-data";
     		 formularioFoto.action="http://localhost:8080/Enwipweb/SubirFoto";
     		 formularioFoto.target="iframeUpload";
     		 
     		 var textoFoto=document.createTextNode("Seleccione la imagen");
     		 var fileInput=document.createElement("input");
     		 fileInput.type="file";
     		 fileInput.name="fichero";
     		 fileInput.onchange=function(){formularioFoto.submit();};
     		 fileInput.target="iframeUpload";
     		 var iframeUpload=document.createElement("iframe");
     		 iframeUpload.name="iframeUpload";
     		 iframeUpload.style.display="none";
     		 var script=document.createElement("script");
     		var textoScript=document.createTextNode("parent.cargarFoto();");
     		 script.appendChild(textoScript);
     		 iframeUpload.appendChild(script);
     		 
     		 formularioFoto.appendChild(textoFoto);
     		 formularioFoto.appendChild(fileInput);
     		
     		
     		 document.getElementById("formularios").appendChild(formularioFoto);
			 var formularioPerfil=document.createElement("form");
     		 var tablaPerfil=document.createElement("table");
     		 tablaPerfil.className="tabla_mensajes";


    		   var trNombre=document.createElement("tr");
    		   var trApellido=document.createElement("tr");
    		   var trResena=document.createElement("tr");
    		   var trPais=document.createElement("tr");
    		   var trCiudad=document.createElement("tr");
    		   var trDir=document.createElement("tr");
    		   var trTel=document.createElement("tr");
    		   var trMail=document.createElement("tr");
    		   var trGenero=document.createElement("tr");
    		   var trNaci=document.createElement("tr");
    		   var trEstudios=document.createElement("tr");
    		   var trExperiencia=document.createElement("tr");
    		   var trTipoInversionista=document.createElement("tr");
    		   var trTipoInversion=document.createElement("tr");
    		   var trNivelInversion=document.createElement("tr");
    		  
    		   
    		   var tdTitNombre=document.createElement("th");
    		   tdTitNombre.appendChild(document.createTextNode("Nombre:"));
    		   var tdTitApellido=document.createElement("th");
    		   tdTitApellido.appendChild(document.createTextNode("Apellidos:"));
    		   var tdTitResena=document.createElement("th");
    		   tdTitResena.appendChild(document.createTextNode("Reseña Personal:"));
    		   var tdTitPais=document.createElement("th");
    		   tdTitPais.appendChild(document.createTextNode("Pais:"));
    		   var tdTitCiudad=document.createElement("th");
    		   tdTitCiudad.appendChild(document.createTextNode("Ciudad:"));
    		   var tdTitDir=document.createElement("th");
    		   tdTitDir.appendChild(document.createTextNode("Direccion:"));
    		   var tdTitTel=document.createElement("th");
    		   tdTitTel.appendChild(document.createTextNode("Telefono:"));
    		   var tdTitMail=document.createElement("th");
    		   tdTitMail.appendChild(document.createTextNode("Correo:"));
    		   var tdTitGenero=document.createElement("th");
    		   tdTitGenero.appendChild(document.createTextNode("Genero:"));
    		   var tdTitNaci=document.createElement("th");
    		   tdTitNaci.appendChild(document.createTextNode("Fecha de Nacimiento:"));
    		   var tdTitEstudios=document.createElement("th");
    		   tdTitEstudios.appendChild(document.createTextNode("Estudios:"));
    		   var tdTitExperiencia=document.createElement("th");
    		   tdTitExperiencia.appendChild(document.createTextNode("Area de Experiencia:"));
    		   var tdTitTipoInversionista=document.createElement("th");
    		   tdTitTipoInversionista.appendChild(document.createTextNode("Tipo de Inversionista:"));
    		   var tdTitTipoInversion=document.createElement("th");
    		   tdTitTipoInversion.appendChild(document.createTextNode("Tipo de Inversion:"));
    		   var tdTitNivelInversion=document.createElement("th");
    		   tdTitNivelInversion.appendChild(document.createTextNode("Nivel de Inversion:"));


    		   var tdNombre=document.createElement("td");
    		   var tdApellido=document.createElement("td");
    		   var tdResena=document.createElement("td");
    		   var tdPais=document.createElement("td");
    		   var tdCiudad=document.createElement("td");
    		   var tdDir=document.createElement("td");
    		   var tdTel=document.createElement("td");
    		   var tdMail=document.createElement("td");
    		   var tdGenero=document.createElement("td");
    		   var tdNaci=document.createElement("td");
    		   var tdEstudios=document.createElement("td");
    		   var tdExperiencia=document.createElement("td");
    		   var tdTipoInversionista=document.createElement("td");
    		   var tdTipoInversion=document.createElement("td");
    		   var tdNivelInversion=document.createElement("td");
  
    		  
             var item=document.createElement("textarea");
             item.setAttribute("rows","5");
             item.setAttribute("cols","50");
             item.name="reseñaPersonal";
             var texto=document.createTextNode(perfil[0].Reseña);
             item.appendChild(texto);
             tdResena.appendChild(item);
             trResena.appendChild(tdTitResena);
             trResena.appendChild(tdResena);
             tablaPerfil.appendChild(trResena);
             
             item=document.createElement("input");
             item.type="text";
             item.name="nombre";
             item.value=perfil[0].Nombre;
             tdNombre.appendChild(item);
             trNombre.appendChild(tdTitNombre);
             trNombre.appendChild(tdNombre);
             tablaPerfil.appendChild(trNombre);

             item=document.createElement("input");
             item.type="text";
             item.name="apellido";
             item.value=perfil[0].Apellido;
             tdApellido.appendChild(item);
             trApellido.appendChild(tdTitApellido);
             trApellido.appendChild(tdApellido);
             tablaPerfil.appendChild(trApellido);           

             
             item=crearSelectGeneral(perfil[1],"pais",perfil[0].Pais);
             tdPais.appendChild(item);
             trPais.appendChild(tdTitPais);
             trPais.appendChild(tdPais);
             tablaPerfil.appendChild(trPais);

              item=document.createElement("input");
              item.type="text";
             item.name="ciudad";
             item.value=perfil[0].Ciudad;
             tdCiudad.appendChild(item);
             trCiudad.appendChild(tdTitCiudad);
             trCiudad.appendChild(tdCiudad);
             tablaPerfil.appendChild(trCiudad);

             
              item=document.createElement("input");
              item.type="text";
             item.name="direccion";
             item.value=perfil[0].Direccion;
             tdDir.appendChild(item);
             trDir.appendChild(tdTitDir);
             trDir.appendChild(tdDir);
             tablaPerfil.appendChild(trDir);

              item=document.createElement("input");
              item.type="text";
             item.name="telefono";
             item.value=perfil[0].Telefono;
             tdTel.appendChild(item);
             trTel.appendChild(tdTitTel);
             trTel.appendChild(tdTel);
             tablaPerfil.appendChild(trTel);

             
              item=document.createElement("input");
              item.type="text";
             item.name="email";
             item.value=perfil[0].EMail;
             tdMail.appendChild(item);
             trMail.appendChild(tdTitMail);
             trMail.appendChild(tdMail);
             tablaPerfil.appendChild(trMail);

              item=crearSelectGeneral(perfil[2],"genero",perfil[0].Genero);
             tdGenero.appendChild(item);
             trGenero.appendChild(tdTitGenero);
             trGenero.appendChild(tdGenero);
             tablaPerfil.appendChild(trGenero);

             
              item=document.createElement("input");
              item.type="text";
             item.name="fecha";
             item.value=perfil[0].Fecha;
             tdNaci.appendChild(item);
             trNaci.appendChild(tdTitNaci);
             trNaci.appendChild(tdNaci);
             tablaPerfil.appendChild(trNaci);

              item=crearSelectGeneral(perfil[3],"estudio",perfil[0].Estudio);
             tdEstudios.appendChild(item);
             trEstudios.appendChild(tdTitEstudios);
             trEstudios.appendChild(tdEstudios);
             tablaPerfil.appendChild(trEstudios);

             item=crearSelectGeneral(perfil[4],"experiencia",perfil[0].Experiencia);
             tdExperiencia.appendChild(item);
             trExperiencia.appendChild(tdTitExperiencia);
             trExperiencia.appendChild(tdExperiencia);
             tablaPerfil.appendChild(trExperiencia);

             if(perfil[0].TipoInversionista!="null"){
                 var trInv=document.createElement("tr");
                 var tdInv=document.createElement("td");
                 tdInv.setAttribute("colspan","2");
                 tdInv.appendChild(document.createTextNode("Datos de Inversionista"));
                 trInv.appendChild(tdInv);
                 tablaPerfil.appendChild(trInv);
             item=crearSelectGeneral(perfil[5],"tipoInversionista",perfil[0].TipoInversionista);
             tdTipoInversionista.appendChild(item);
             trTipoInversionista.appendChild(tdTitTipoInversionista);
             trTipoInversionista.appendChild(tdTipoInversionista);
             tablaPerfil.appendChild(trTipoInversionista);

             item=crearSelectGeneral(perfil[6],"tipoInversion",perfil[0].TipoInversion);
             tdTipoInversion.appendChild(item);
             trTipoInversion.appendChild(tdTitTipoInversion);
             trTipoInversion.appendChild(tdTipoInversion);
             tablaPerfil.appendChild(trTipoInversion);

             item=crearSelectGeneral(perfil[7],"nivelInversion",perfil[0].NivelInversion);
             tdNivelInversion.appendChild(item);
             trNivelInversion.appendChild(tdTitNivelInversion);
             trNivelInversion.appendChild(tdNivelInversion);
             tablaPerfil.appendChild(trNivelInversion);


             }
				

             var trPrivacidadTit=document.createElement("tr");
             var tdPrivacidadTit=document.createElement("td");
             tdPrivacidadTit.setAttribute("colspan","2");
             tdPrivacidadTit.appendChild(document.createTextNode("Configurar Privacidad"));
             trPrivacidadTit.appendChild(tdPrivacidadTit);
             tablaPerfil.appendChild(trPrivacidadTit);
             var trPrivacidad=document.createElement("tr");
             var tdPrivacidad=document.createElement("td");
             tdPrivacidad.setAttribute("colspan","2");
				var tablaPrivacidad=document.createElement("table");
				var trPriv=document.createElement("tr");
				var tdCampo=document.createElement("td");
				tdCampo.appendChild(document.createTextNode("Campo"));
				var tdPublico=document.createElement("td");
				tdPublico.appendChild(document.createTextNode("Publico"));
				var tdSemipublico=document.createElement("td");
				tdSemipublico.appendChild(document.createTextNode("Semipublico"));
				var tdPrivado=document.createElement("td");
				tdPrivado.appendChild(document.createTextNode("Privado"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				
				var reseñapPublico=document.createElement("input");
				reseñapPublico.type="radio";
				reseñapPublico.name="reseñap";
				reseñapPublico.value="1";
				var valor=perfil[0].resenap;
				if(valor==reseñapPublico.value){
					reseñapPublico.checked=true;
					}
				var reseñapSemipublico=document.createElement("input");
				reseñapSemipublico.type="radio";
				reseñapSemipublico.name="reseñap";
				reseñapSemipublico.value="2";
				if(valor==reseñapSemipublico.value){
					reseñapSemipublico.checked=true;
				}
				var reseñapPrivado=document.createElement("input");
				reseñapPrivado.type="radio";
				reseñapPrivado.name="reseñap";
				reseñapPrivado.value="3";
				if(valor==reseñapPrivado.value){
					reseñapPrivado.checked=true;
				}
				tdPublico.appendChild(reseñapPublico);
				tdSemipublico.appendChild(reseñapSemipublico);
				tdPrivado.appendChild(reseñapPrivado);
				tdCampo.appendChild(document.createTextNode("Reseña Personal:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var paispPublico=document.createElement("input");
				paispPublico.type="radio";
				paispPublico.name="paisp";
				paispPublico.value="1";
				valor=perfil[0].paisp;
				if(valor==paispPublico.value){
					paispPublico.checked=true;
					}
				var paispSemipublico=document.createElement("input");
				paispSemipublico.type="radio";
				paispSemipublico.name="paisp";
				paispSemipublico.value="2";
				if(valor==paispSemipublico.value){
					paispSemipublico.checked=true;
					}
				var paispPrivado=document.createElement("input");
				paispPrivado.type="radio";
				paispPrivado.name="paisp";
				paispPrivado.value="3";
				if(valor==paispPrivado.value){
					paispPrivado.checked=true;
					}
				tdPublico.appendChild(paispPublico);
				tdSemipublico.appendChild(paispSemipublico);
				tdPrivado.appendChild(paispPrivado);
				tdCampo.appendChild(document.createTextNode("Pais:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var ciudadpPublico=document.createElement("input");
				ciudadpPublico.type="radio";
				ciudadpPublico.name="ciudadp";
				ciudadpPublico.value="1";
				valor=perfil[0].ciudadp;
				if(valor==ciudadpPublico.value){
					ciudadpPublico.checked=true;
					}
				var ciudadpSemipublico=document.createElement("input");
				ciudadpSemipublico.type="radio";
				ciudadpSemipublico.name="ciudadp";
				ciudadpSemipublico.value="2";
				if(valor==ciudadpSemipublico.value){
					ciudadpSemipublico.checked=true;
					}
				var ciudadpPrivado=document.createElement("input");
				ciudadpPrivado.type="radio";
				ciudadpPrivado.name="ciudadp";
				ciudadpPrivado.value="3";
				if(valor==ciudadpPrivado.value){
					ciudadpPrivado.checked=true;
					}
				tdPublico.appendChild(ciudadpPublico);
				tdSemipublico.appendChild(ciudadpSemipublico);
				tdPrivado.appendChild(ciudadpPrivado);
				tdCampo.appendChild(document.createTextNode("Ciudad:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var direccionpPublico=document.createElement("input");
				direccionpPublico.type="radio";
				direccionpPublico.name="direccionp";
				direccionpPublico.value="1";
				valor=perfil[0].direccionp;
				if(valor==direccionpPublico.value){
					direccionpPublico.checked=true;
					}
				var direccionpSemipublico=document.createElement("input");
				direccionpSemipublico.type="radio";
				direccionpSemipublico.name="direccionp";
				direccionpSemipublico.value="2";
				if(valor==direccionpSemipublico.value){
					direccionpSemipublico.checked=true;
					}
				var direccionpPrivado=document.createElement("input");
				direccionpPrivado.type="radio";
				direccionpPrivado.name="direccionp";
				direccionpPrivado.value="3";
				if(valor==direccionpPrivado.value){
					direccionpPrivado.checked=true;
					}
				tdPublico.appendChild(direccionpPublico);
				tdSemipublico.appendChild(direccionpSemipublico);
				tdPrivado.appendChild(direccionpPrivado);
				tdCampo.appendChild(document.createTextNode("Direccion:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var generopPublico=document.createElement("input");
				generopPublico.type="radio";
				generopPublico.name="generop";
				generopPublico.value="1";
				valor=perfil[0].generop;
				if(valor==generopPublico.value){
					generopPublico.checked=true;
					}
				var generopSemipublico=document.createElement("input");
				generopSemipublico.type="radio";
				generopSemipublico.name="generop";
				generopSemipublico.value="2";
				if(valor==generopSemipublico.value){
					generopSemipublico.checked=true;
					}
				var generopPrivado=document.createElement("input");
				generopPrivado.type="radio";
				generopPrivado.name="generop";
				generopPrivado.value="3";
				if(valor==generopPrivado.value){
					generopPrivado.checked=true;
					}
				tdPublico.appendChild(generopPublico);
				tdSemipublico.appendChild(generopSemipublico);
				tdPrivado.appendChild(generopPrivado);
				tdCampo.appendChild(document.createTextNode("Genero:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var telefonopPublico=document.createElement("input");
				telefonopPublico.type="radio";
				telefonopPublico.name="telefonop";
				telefonopPublico.value="1";
				valor=perfil[0].telefonop;
				if(valor==telefonopPublico.value){
					telefonopPublico.checked=true;
					}
				var telefonopSemipublico=document.createElement("input");
				telefonopSemipublico.type="radio";
				telefonopSemipublico.name="telefonop";
				telefonopSemipublico.value="2";
				if(valor==telefonopSemipublico.value){
					telefonopSemipublico.checked=true;
					}
				var telefonopPrivado=document.createElement("input");
				telefonopPrivado.type="radio";
				telefonopPrivado.name="telefonop";
				telefonopPrivado.value="3";
				if(valor==telefonopPrivado.value){
					telefonopPrivado.checked=true;
					}
				tdPublico.appendChild(telefonopPublico);
				tdSemipublico.appendChild(telefonopSemipublico);
				tdPrivado.appendChild(telefonopPrivado);
				tdCampo.appendChild(document.createTextNode("Telefono:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var emailpPublico=document.createElement("input");
				emailpPublico.type="radio";
				emailpPublico.name="emailp";
				emailpPublico.value="1";
				valor=perfil[0].emailp;
				if(valor==emailpPublico.value){
					emailpPublico.checked=true;
					}
				var emailpSemipublico=document.createElement("input");
				emailpSemipublico.type="radio";
				emailpSemipublico.name="emailp";
				emailpSemipublico.value="2";
				if(valor==emailpSemipublico.value){
					emailpSemipublico.checked=true;
					}
				var emailpPrivado=document.createElement("input");
				emailpPrivado.type="radio";
				emailpPrivado.name="emailp";
				emailpPrivado.value="3";
				if(valor==emailpPrivado.value){
					emailpPrivado.checked=true;
					}
				tdPublico.appendChild(emailpPublico);
				tdSemipublico.appendChild(emailpSemipublico);
				tdPrivado.appendChild(emailpPrivado);
				tdCampo.appendChild(document.createTextNode("E-mail:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var fechapPublico=document.createElement("input");
				fechapPublico.type="radio";
				fechapPublico.name="fechap";
				fechapPublico.value="1";
				valor=perfil[0].fechap;
				if(valor==fechapPublico.value){
					fechapPublico.checked=true;
					}
				var fechapSemipublico=document.createElement("input");
				fechapSemipublico.type="radio";
				fechapSemipublico.name="fechap";
				fechapSemipublico.value="2";
				if(valor==fechapSemipublico.value){
					fechapSemipublico.checked=true;
					}
				var fechapPrivado=document.createElement("input");
				fechapPrivado.type="radio";
				fechapPrivado.name="fechap";
				fechapPrivado.value="3";
				if(valor==fechapPrivado.value){
					fechapPrivado.checked=true;
					}
				tdPublico.appendChild(fechapPublico);
				tdSemipublico.appendChild(fechapSemipublico);
				tdPrivado.appendChild(fechapPrivado);
				tdCampo.appendChild(document.createTextNode("Fecha de Nacimiento:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);

				trPriv=document.createElement("tr");
				tdCampo=document.createElement("td");
				tdPublico=document.createElement("td");
				tdSemipublico=document.createElement("td");
				tdPrivado=document.createElement("td");
				var estudiospPublico=document.createElement("input");
				estudiospPublico.type="radio";
				estudiospPublico.name="estudiosp";
				estudiospPublico.value="1";
				valor=perfil[0].estudiosp;
				if(valor==estudiospPublico.value){
					estudiospPublico.checked=true;
					}
				var estudiospSemipublico=document.createElement("input");
				estudiospSemipublico.type="radio";
				estudiospSemipublico.name="estudiosp";
				estudiospSemipublico.value="2";
				if(valor==estudiospSemipublico.value){
					estudiospSemipublico.checked=true;
					}
				var estudiospPrivado=document.createElement("input");
				estudiospPrivado.type="radio";
				estudiospPrivado.name="estudiosp";
				estudiospPrivado.value="3";
				if(valor==estudiospPrivado.value){
					estudiospPrivado.checked=true;
					}
				tdPublico.appendChild(estudiospPublico);
				tdSemipublico.appendChild(estudiospSemipublico);
				tdPrivado.appendChild(estudiospPrivado);
				tdCampo.appendChild(document.createTextNode("Estudios:"));
				trPriv.appendChild(tdCampo);
				trPriv.appendChild(tdPublico);
				trPriv.appendChild(tdSemipublico);
				trPriv.appendChild(tdPrivado);
				tablaPrivacidad.appendChild(trPriv);
				
				tdPrivacidad.appendChild(tablaPrivacidad);
				trPrivacidad.appendChild(tdPrivacidad);
				tablaPerfil.appendChild(trPrivacidad);

				var trBoton=document.createElement("tr");
				var guardar=crearBoton("Guardar Cambios");
				guardar.onclick=function(){guardarPrivacidad(formularioPerfil);}
   		        trBoton.appendChild(guardar);
   		        tablaPerfil.appendChild(trBoton);
   		        formularioPerfil.appendChild(tablaPerfil);
   			 document.getElementById("formularios").appendChild(formularioPerfil);
   			 
   		}
		function cargarColaboradores(){
			borrarTexto();
			document.getElementById("titulo").innerHTML="<h2>Colaboradores</h2>";
			var tr=document.createElement("tr");
			var tabla=document.createElement("table");
			
			var colaboradores=crearBoton("Me Colaboran");
			colaboradores.onclick=cargarMeColaboran;
			
			var colaborados=crearBoton("Les Colaboro");
			colaborados.onclick=cargarLesColaboro;
			
			tr.appendChild(colaboradores);
			tr.appendChild(colaborados);
			tabla.appendChild(tr);
			document.getElementById("texto").appendChild(crearTablaBuscar("usuarios"));
			document.getElementById("texto").appendChild(tabla);
	
		}
		function cargarMeColaboran(){
			obj.enviar("http://localhost:8080/Enwipweb/CargarColaboradores","GET","procesaColaboradores", null);
			}
		function cargarLesColaboro(){
			obj.enviar("http://localhost:8080/Enwipweb/CargarColaborados","GET","procesaColaborados", null);
		}
		function procesaColaborados(){
			borrarFormularios();
			document.getElementById("titulo").innerHTML="<h2>Colaborados</h2>";
			var res=obj.respuestaTexto();
			if(res=="]"){
				document.getElementById("formularios").appendChild(document.createTextNode("En estos momentos no le colaboras a nadie"));
				}
			else{
			var amigos=eval("("+obj.respuestaTexto()+")");
			var tabla=document.createElement("table");
		tabla.className="tabla_mensajes";
			for(var elm=0;elm<amigos.length;elm++){
					
					var tdNombre=document.createElement("td");
					var trAmigo=document.createElement("tr");
					var amigo=crearA(amigos[elm].Nombre);
					var imagen=document.createElement("img");
					imagen.setAttribute("width","180");
					imagen.setAttribute("height","180");
					var div=document.createElement("div");
					div.className="foto_mini";
					div.appendChild(imagen);
					if(amigos[elm].Imagen=="null"){
						imagen.setAttribute("src","imagenes/foto_perfil.jpg");
						}
					else{
						imagen.setAttribute("src",amigos[elm].Imagen);
						}
					amigo.name=amigos[elm].Id;
					amigo.id=amigos[elm].Id;
					amigo.onclick=function(evento){
		                   var idp=evento.srcElement.id;
		                   traerDatosUsuario(idp);
						}
					tdNombre.appendChild(div);
					tdNombre.appendChild(amigo);
					trAmigo.appendChild(tdNombre);
					tabla.appendChild(trAmigo);
					
				}

			document.getElementById("formularios").appendChild(tabla);
			}
			
			}
		function traerDatosUsuario(id){
			var cad = "";
	 	    
		      cad = "Id="+id;

		 

	   		obj.enviarUno("http://localhost:8080/Enwipweb/BuscarDatosDeUsuario","POST","procesaDatosDeUsuario", cad);
			}
		function cargarPlanesColaborados(id){
			var cad = "";
	 	    
		      cad = "Id="+id;

		 

	   		obj.enviarUno("http://localhost:8080/Enwipweb/CargarPlanesColaborados","POST","procesaPlanesColaborados", cad);
			}
		function procesaPlanesColaborados(){
			borrarFormularios();
			
		
			

			


			
			
			

			 var tPlanes = eval("("+obj.respuestaTexto()+")");
				
			 var tablaPlanes=document.createElement("table");
			   
			       for (var elm = 0;elm < tPlanes.length;elm++)
			       {    

					
					    var item=crearBoton(tPlanes[elm].Nombre);
					       
			       		var tr=document.createElement("tr");
			       		var tdPlan=document.createElement("td");
			       		var tdFinanciero=document.createElement("td");
			       		item.setAttribute("id",tPlanes[elm].Id);
			            item.setAttribute("name",tPlanes[elm].Id);
			            item.onclick=function(evento){
			                   //alert(evento.srcElement.id)
			                   var idp=evento.srcElement.id;
			            	   traerDatosPlanColaborado(idp);
			                   }
			            
			            
			            tdPlan.appendChild(item);
			            tr.appendChild(tdPlan);

			            tablaPlanes.appendChild(tr);
			            

			       		
			       }
			       document.getElementById("formularios").appendChild(tablaPlanes);

			
			document.getElementById("texto").appendChild(tablaOpciones);
			}
		function agregarAmigo(id){
			var cad = "";
	 	    
		      cad = "Id="+id;

		 

	   		obj.enviarUno("http://localhost:8080/Enwipweb/AgregarAmigo","POST","nada", cad);
			}
		function procesaDatosDeUsuario(){
			borrarTexto();
			document.getElementById("titulo").innerHTML="<h2>Usuario : </h2>";
			var datos=eval("("+obj.respuestaTexto()+")");
			crearOpcionesDeUsuario(datos[0].Id);
			var tablaAmigo=document.createElement("table");
			var trAmigoD=document.createElement("tr");
			var tdImagen=document.createElement("td");
			var tdNombre=document.createElement("td");

			var amigo=document.createTextNode(datos[0].Nombre+" "+datos[0].Apellido);
			var b=document.createElement("b");
			b.appendChild(amigo);
			
			var imagen=document.createElement("img");
			imagen.setAttribute("width","30");
			imagen.setAttribute("height","60");
			
			if(datos[0].Imagen=="null"){
				imagen.setAttribute("src","imagenes/foto_perfil.jpg");
				}
			else{
				imagen.setAttribute("src",datos[0].Imagen);
				}

			tdImagen.appendChild(imagen);
			tdNombre.appendChild(b);
			trAmigoD.appendChild(tdImagen);
			trAmigoD.appendChild(tdNombre);
			
			if(datos[0].EsAmigo=="false"){
				var td=document.createElement("td");
				var agregarAmigoo=crearBoton("Solicitar Amistad");
				agregarAmigoo.id="agregar_"+datos[0].Id;
				agregarAmigoo.onclick=function (evento){
					var idp=evento.srcElement.id;
					var aux=idp.split("_");
					agregarAmigo(aux[1]);
				}
				td.appendChild(agregarAmigoo);
				var td1=document.createElement("td");
				var enviarMensaje=crearBoton("Enviar Mensaje");
				enviarMensaje.id="mensaje_"+datos[0].Id;
				enviarMensaje.onclick=function (evento){
						var idp=evento.srcElement.id;
						var aux=idp.split("_");
						crearMensajePara(aux[1],imagen,b);
					}
				td1.appendChild(enviarMensaje);
				document.getElementById("opcionesDeUsuario").appendChild(td);
				document.getElementById("opcionesDeUsuario").appendChild(td1);
				

			}
			if(datos[0].Colaborador!=undefined){
				var tdColaborador=document.createElement("td");
				tdColaborador.appendChild(document.createTextNode("Colaborador"));
				trAmigoD.appendChild(tdColaborador);

			}
			if(datos[0].Colaborado!=undefined){
				var tdColaborado=document.createElement("td");
				tdColaborado.appendChild(document.createTextNode("Colaborado"));
				trAmigoD.appendChild(tdColaborado);
				var td=document.createElement("td");
				var botonPlanes=crearBoton("Planes de negocio");
				botonPlanes.id="planes_"+datos[0].Id;
				botonPlanes.onclick=function(evento){
						var idp=evento.srcElement.id;
						var aux=idp.split("_");
						cargarPlanesColaborados(aux[1]);
					}
				td.appendChild(botonPlanes);
				document.getElementById("opcionesDeUsuario").appendChild(td);
			}
			tablaAmigo.appendChild(trAmigoD);
			
			document.getElementById("titulo").appendChild(tablaAmigo);
			var tabla=document.createElement("table");
			tabla.className="tabla_mensajes";

			if(datos[0].Nombre!=undefined){
					var tr=document.createElement("tr");
					var td1=document.createElement("td");
					var td2=document.createElement("td");
					var dato=document.createTextNode("Nombre");
					var valor=document.createTextNode(datos[0].Nombre);
					td1.appendChild(dato);
					td2.appendChild(valor);
					tr.appendChild(td1);
					tr.appendChild(td2);
					tabla.appendChild(tr);
				}
			if(datos[0].Apellido!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Apellido");
				var valor=document.createTextNode(datos[0].Apellido);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Direccion!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Direccion");
				var valor=document.createTextNode(datos[0].Direccion);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Pais!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Pais");
				var valor=document.createTextNode(datos[0].Pais);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Genero!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Genero");
				var valor=document.createTextNode(datos[0].Genero);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Ciudad!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Ciudad");
				var valor=document.createTextNode(datos[0].Ciudad);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Telefono!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Telefono");
				var valor=document.createTextNode(datos[0].Telefono);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Email!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("E-mail");
				var valor=document.createTextNode(datos[0].Email);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Fecha_Nacimiento!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Fecha de Nacimiento");
				var valor=document.createTextNode(datos[0].Fecha_Nacimiento);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Resena!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Reseña");
				var valor=document.createTextNode(datos[0].Resena);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}
			if(datos[0].Estudio!=undefined){
				var tr=document.createElement("tr");
				var td1=document.createElement("td");
				var td2=document.createElement("td");
				var dato=document.createTextNode("Estudio");
				var valor=document.createTextNode(datos[0].Estudio);
				td1.appendChild(dato);
				td2.appendChild(valor);
				tr.appendChild(td1);
				tr.appendChild(td2);
				tabla.appendChild(tr);
			}

			document.getElementById("formularios").appendChild(tabla);
			}
		function procesaColaboradores(){
			borrarFormularios();
			document.getElementById("titulo").innerHTML="<h2>Colaboradores</h2>";
			var res=obj.respuestaTexto();
			if(res=="]"){
				document.getElementById("formularios").appendChild(document.createTextNode("Encuentra colaboradores a travez de nuestro buscador"));
				}
			else{
			var amigos=eval("("+obj.respuestaTexto()+")");
			var tabla=document.createElement("table");
			tabla.className="tabla_mensajes";
			for(var elm=0;elm<amigos.length;elm++){
					
					var tdNombre=document.createElement("td");
					var trAmigo=document.createElement("tr");
					var amigo=crearA(amigos[elm].Nombre);
					var imagen=document.createElement("img");
					imagen.setAttribute("width","30");
					imagen.setAttribute("height","60");
					var div=document.createElement("div");
					div.className="foto_mini";
					div.appendChild(imagen);
					
					if(amigos[elm].Imagen=="null"){
						imagen.setAttribute("src","imagenes/foto_perfil.jpg");
						}
					else{
						imagen.setAttribute("src",amigos[elm].Imagen);
						}
					amigo.name=amigos[elm].Id;
					amigo.id=amigos[elm].Id;
					amigo.onclick=function(evento){
		                   var idp=evento.srcElement.id;
		                   traerDatosUsuario(idp);
						}

					tdNombre.appendChild(div);
					tdNombre.appendChild(amigo);					
					trAmigo.appendChild(tdNombre);
					tabla.appendChild(trAmigo);
					
				}

			document.getElementById("formularios").appendChild(tabla);
			}
			
			}
        function cargarFoto(){
        	
        	//document.getElementById("foto").innerHTML=
        	alert("cargando la foto");
        }

        function guardarPrivacidad(formulario){
			 var controles = formulario.elements;
	          
	          
	          for (var i=0; i<controles.length; i++)
	          { 

		              if(controles[i].name=="reseñap"){
		
						for(var j=0;j<formulario.reseñap.length;j++){
								if(formulario.reseñap[j].checked){
									controles[i].value=formulario.reseñap[j].value;
									break;
									}
							}

		          }
		              if(controles[i].name=="paisp"){
		  	      		
							for(var j=0;j<formulario.paisp.length;j++){
									if(formulario.paisp[j].checked){
										controles[i].value=formulario.paisp[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="ciudadp"){
			      		
							for(var j=0;j<formulario.ciudadp.length;j++){
									if(formulario.ciudadp[j].checked){
										controles[i].value=formulario.ciudadp[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="direccionp"){
				      		
							for(var j=0;j<formulario.direccionp.length;j++){
									if(formulario.direccionp[j].checked){
										controles[i].value=formulario.direccionp[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="generop"){
			      		
							for(var j=0;j<formulario.generop.length;j++){
									if(formulario.generop[j].checked){
										controles[i].value=formulario.generop[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="telefonop"){
				      		
							for(var j=0;j<formulario.telefonop.length;j++){
									if(formulario.telefonop[j].checked){
										controles[i].value=formulario.telefonop[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="emailp"){
			      		
							for(var j=0;j<formulario.emailp.length;j++){
									if(formulario.emailp[j].checked){
										controles[i].value=formulario.emailp[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="fechap"){
				      		
							for(var j=0;j<formulario.fechap.length;j++){
									if(formulario.fechap[j].checked){
										controles[i].value=formulario.fechap[j].value;
										break;
										}
								}

			          }
			          if(controles[i].name=="estudiosp"){
			      		
							for(var j=0;j<formulario.estudiosp.length;j++){
									if(formulario.estudiosp[j].checked){
										controles[i].value=formulario.estudiosp[j].value;
										break;
										}
								}

			          }
	          }
	          obj.enviar("http://localhost:8080/Enwipweb/GuardarPerfil","POST","cargarDatosUsuario", formulario);
            }
			function cargarVotacionIdeas(){
				obj.enviar("http://localhost:8080/Enwipweb/CargarVotacionIdeas","GET","procesaVotacionIdeas", null);
				}
			function cargarInvertirIdeas(){
				obj.enviar("http://localhost:8080/Enwipweb/CargarInvertirIdeas","GET","procesaInvertirIdeas", null);
				}
			function procesaVotacionIdeas(){
				borrarTexto();
				
				
				document.getElementById("titulo").innerHTML="<h2>Ideas de negocio</h2>";
				

				 var tIdeas = eval("("+obj.respuestaTexto()+")");
					
				 var tablaIdeas=document.createElement("table");
				 tablaIdeas.className="tabla_mensajes";
				   var trTit=document.createElement("tr");
				    var tdtitIdea=document.createElement("td");
				    var iDn=document.createElement("h3");
				    iDn.appendChild(document.createTextNode("Idea de Negocio"));
				    tdtitIdea.appendChild(iDn);
				    var tdtitVotos=document.createElement("td"); 
				    var nDv=document.createElement("h3");
				    nDv.appendChild(document.createTextNode("Numero De Votos"));
				    tdtitVotos.appendChild(nDv);
		            trTit.appendChild(tdtitIdea);
		            trTit.appendChild(tdtitVotos);
		            tablaIdeas.appendChild(trTit);
				    
				       for (var elm = 0;elm < tIdeas.length;elm++)
				       {    

						
						    var item=crearBoton(tIdeas[elm].Nombre);
						    var tdIdea=document.createElement("td");
						    var tdVotos=document.createElement("td");   
				       		var tr=document.createElement("tr");
				       		item.setAttribute("id",tIdeas[elm].Id);
				            item.setAttribute("name",tIdeas[elm].Id);
				            item.onclick=function(evento){
				                   //alert(evento.srcElement.id)
				                   var idp=evento.srcElement.id;
				            	   traerDatosVotacionIdea(idp);
				                   }
				            
				           
				            tdIdea.appendChild(item);
				            tdVotos.appendChild(document.createTextNode(tIdeas[elm].Votos));
				            tr.appendChild(tdIdea);
				            tr.appendChild(tdVotos);
				            tablaIdeas.appendChild(tr);
				            

							

				       		
				       }
				       document.getElementById("formularios").appendChild(tablaIdeas);
				}
			function procesaInvertirIdeas(){
                borrarTexto();
				
				
				document.getElementById("titulo").innerHTML="<h2>Ideas de negocio</h2>";
				

				 var tIdeas = eval("("+obj.respuestaTexto()+")");
					
				 var tablaIdeas=document.createElement("table");
				 tablaIdeas.className="tabla_mensajes";
				   var trTit=document.createElement("tr");
				    var tdtitIdea=document.createElement("td");
				    var iDn=document.createElement("h3");
				    iDn.appendChild(document.createTextNode("Idea de Negocio"));
				    tdtitIdea.appendChild(iDn);
				    var tdtitVotos=document.createElement("td"); 
				    var iR=document.createElement("h3");
				    iR.appendChild(document.createTextNode("Inversion Recogida"));
				    tdtitVotos.appendChild(iR);
		            trTit.appendChild(tdtitIdea);
		            trTit.appendChild(tdtitVotos);
		            tablaIdeas.appendChild(trTit);
				    
				       for (var elm = 0;elm < tIdeas.length;elm++)
				       {    

						
						    var item=crearBoton(tIdeas[elm].Nombre);
						    var tdIdea=document.createElement("td");
						    var tdVotos=document.createElement("td");   
				       		var tr=document.createElement("tr");
				       		item.setAttribute("id",tIdeas[elm].Id);
				            item.setAttribute("name",tIdeas[elm].Id);
				            item.onclick=function(evento){
				                   //alert(evento.srcElement.id)
				                   var idp=evento.srcElement.id;
				            	   traerDatosInversionIdea(idp);
				                   }
				            
				           
				            tdIdea.appendChild(item);
				            tdVotos.appendChild(document.createTextNode(tIdeas[elm].Inversion));
				            tr.appendChild(tdIdea);
				            tr.appendChild(tdVotos);
				            tablaIdeas.appendChild(tr);
				            

							

				       		
				       }
				       document.getElementById("formularios").appendChild(tablaIdeas);
			}
          function cargarInversion(){
				borrarTexto();
				borrarMenuOpciones();
				document.getElementById("titulo").innerHTML="<h2>Inversion</h2>";
				var tabla=document.createElement("table");
				var trEnwip=document.createElement("tr");
				trEnwip.setAttribute("class","bt_mun1");
				var trLaRed=document.createElement("tr");
				trLaRed.setAttribute("class","bt_mun1");
				var trAngeles=document.createElement("tr");
				trAngeles.setAttribute("class","bt_mun1");
				var trOtrasFuentes=document.createElement("tr");
				trOtrasFuentes.setAttribute("class","bt_mun1");
				
				var enwip=crearA("Enwip invierte");
				var laRed=crearA("La Red invierte");
				var angeles=crearA("Angeles inversionistas");
				var otrasFuentes=crearA("Otras Fuentes");

				laRed.onclick=cargarLaRedInvierte;

				trEnwip.appendChild(enwip);
				trLaRed.appendChild(laRed);
				trAngeles.appendChild(angeles);
				trOtrasFuentes.appendChild(otrasFuentes);
				tabla.appendChild(trEnwip);
				tabla.appendChild(trLaRed);
				tabla.appendChild(trAngeles);
				tabla.appendChild(trOtrasFuentes);

				document.getElementById("menuOpciones").appendChild(tabla);
              }
          function cargarLaRedInvierte(){
				borrarTexto();
				borrarMenuOpciones();
				/*document.getElementById("titulo").innerHTML="<h2>Inversion</h2>";*/
				var tabla=document.createElement("table");
				var trVotar=document.createElement("tr");
				trVotar.setAttribute("class","bt_mun1");
				var trInvertir=document.createElement("tr");
				trInvertir.setAttribute("class","bt_mun1");
				var votar=crearA("Votar");
				var invertir=crearA("Invertir");
				votar.onclick=cargarVotacionIdeas;
				invertir.onclick=cargarInvertirIdeas;
				trVotar.appendChild(votar);
				trInvertir.appendChild(invertir);
				tabla.appendChild(trVotar);
				tabla.appendChild(trInvertir);

				document.getElementById("menuOpciones").appendChild(tabla);
              }

	        function cargarAcademia(){
					borrarTexto();
					borrarMenuOpciones();
					document.getElementById("titulo").innerHTML="<h2>Academia</h2>";
					var tabla=document.createElement("table");
					var trClases=document.createElement("tr");
					trClases.setAttribute("class","bt_mun1");
					var trCharlas=document.createElement("tr");
					trCharlas.setAttribute("class","bt_mun1");
					var clases=crearA("Clases");
					var charlas=crearA("Charlas");
					clases.onclick=cargarClases;
					charlas.onclick=cargarCharlas;
					trClases.appendChild(clases);
					trCharlas.appendChild(charlas);
					tabla.appendChild(trClases);
					tabla.appendChild(trCharlas);

					document.getElementById("menuOpciones").appendChild(tabla);
		        }
	        function MM_swapImgRestore() { //v3.0

	        	  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;

	        	}
	        function MM_preloadImages() { //v3.0

	        	  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();

	        	    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)

	        	    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}

	        	}
	        	        	
	        function MM_findObj(n, d) { //v4.01

	        	  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {

	        	    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}

	        	  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];

	        	  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);

	        	  if(!x && d.getElementById) x=d.getElementById(n); return x;

	        	}



	        	function MM_swapImage() { //v3.0

	        	  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)

	        	   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}

	        	}
	        	function ocultarCuaderno(){
	        		document.getElementById("cuaderno").style.display = "none"; 
		        	}
	        	function mostrarOcultarCuaderno(){
		        	if(document.getElementById("cuaderno").style.display == "none" ){
	        		document.getElementById("cuaderno").style.display = "block"; 
		        	}
		        	else{
		        		document.getElementById("cuaderno").style.display = "none"; 
		        	}
			        	
		        	}

        --></script>
</head>

<body onLoad="cargarDatosUsuario();">

<div id="cuaderno" style="display: none;" >

	<div id="cua_top">

	<div class="cerrar">

	  <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image14','','/Enwipweb/imagenes/cerrar_2.png',1)"><img src="/Enwipweb/imagenes/cerrar_1.png" name="Image14" width="18" height="18" border="0" onclick="ocultarCuaderno();"></a>	
	  
	  </div><!--cerrar-->

		<div id="tit_note">

			Cuaderno

		</div><!--tit_note-->

	</div><!--cua_top-->

	<div id="cua_botones">

		<div id="guardarCuad">


		</div><!--guardarCuad-->

		<div id="pestanas">

		</div><!--pestanas-->

	</div><!--cua_botones-->

	<div id="datosPestana">

	<textarea id="cuadernoApuntes">

		

	</textarea><!--cuadernoApuntes-->

	

	</div><!--datosPestana-->

	<div id="cua_bott">

		

	</div><!--cua_bott-->

</div><!--cuaderno-->

	             <div id="herramientas" class="h">
						Cuaderno<br>
<a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Cuaderno','','/Enwipweb/imagenes/bts/icon_cuaderno2.png',1)" onclick="mostrarOcultarCuaderno();"><dfn title="Cuaderno"><img src="/Enwipweb/imagenes/bts/icon_cuaderno1.png" alt="Cuaderno" name="Cuaderno" width="26" height="26" border="0"></dfn></a>
</div><!--herramientas-->
	
	<div id="general">
	<div id="cont_gen">
	        <div id="top">	
	        	<div id="banner">
            	<div id="logo_enwip">
                	<img src="/Enwipweb/imagenes/logo_enwip.png" alt="ENWIP">
                </div><!--logo_enwip-->

                <div id="botonera" class="bts">
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Noticias','','/Enwipweb/imagenes/bts/icon_noticia2.png',1)" onClick="cargarNoticiasS();">
                <dfn title="Noticias"><img src="/Enwipweb/imagenes/bts/icon_noticia1.png" alt="Noticias" name="Noticias" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Perfil','','/Enwipweb/imagenes/bts/icon_perfil2.png',1)" onClick="cargarPerfil();">
                <dfn title="Perfil"><img src="/Enwipweb/imagenes/bts/icon_perfil1.png" alt="Perfil" name="Perfil" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Mensajes','','/Enwipweb/imagenes/bts/icon_mensajes2.png',1)" onClick="cargarMensajes();">
                <dfn title="Mensajes"><img src="/Enwipweb/imagenes/bts/icon_mensajes1.png" alt="Mensajes" name="Mensajes" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Idea','','/Enwipweb/imagenes/bts/icon_idea2.png',1)" onClick="cargarIdeas()">
                <dfn title="Idea de Negocio"><img src="/Enwipweb/imagenes/bts/icon_idea1.png" alt="Idea" name="Idea" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Planes de Negocio','','/Enwipweb/imagenes/bts/icon_planes2.png',1)" onClick="cargarPlanes();">
                <dfn title="Planes de Negocio"><img src="/Enwipweb/imagenes/bts/icon_planes1.png" alt="Planes de Negocio" name="Planes de Negocio" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Preguntas','','/Enwipweb/imagenes/bts/icon_preguntas2.png',1)" onClick="cargarPreguntas();">
                <dfn title="Preguntas"><img src="/Enwipweb/imagenes/bts/icon_preguntas1.png" alt="Preguntas" name="Preguntas" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Inversión','','/Enwipweb/imagenes/bts/icon_inversion2.png',1)" onClick="cargarInversion();">
                <dfn title="Inversión"><img src="/Enwipweb/imagenes/bts/icon_inversion1.png" alt="Inversión" name="Inversión" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Academia','','/Enwipweb/imagenes/bts/icon_academia2.png',1)" onClick="cargarAcademia();">
                <dfn title="Academia"><img src="/Enwipweb/imagenes/bts/icon_academia1.png" alt="Academia" name="Academia" width="48" height="48" border="0"></dfn></a>
                <a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Cerrar Sesión','','/Enwipweb/imagenes/bts/icon_cerrar2.png',1)" onClick="cerrarSesion();">
                <dfn title="Cerrar Sesión"><img src="/Enwipweb/imagenes/bts/icon_cerrar1.png" alt="Cerrar Sesión" name="Cerrar Sesión" width="48" height="48" border="0"></dfn></a>
                </div><!--botonera-->



            </div><!--banner-->
	 </div><!--top-->
	 <div id="Central_index">	 
	        	<div id="menu">

            	<div class="foto_perfil">
                <img id="fotoUsuario"  name="fotoUsuario" width="180" height="180"/>            	
                </div><!--foto_perfil-->

                
				
              <div id="datosUsuario"></div>
              <div id="nombre" height="20" align="left" valign="middle"></div><!--nombre-->
              <div id="menuOpciones"></div>

              

            </div><!--menu-->
	<div id="contenido">


	             
	              <div id="titulo"></div>
	              <div id="texto"></div>
	              <div id="formularios"></div>
	             <div id="final" ></div>

            </div><!--contenido-->

  </div><!--Central_index-->
	
	

	             
	             

	             
	             

	</div>
		        <div id="footer_interno">
       <div id="bts_inf" class="bts_inf">       
        <a href="/Enwipweb/AcercaEnwip.html" class="otrosTerminos">Acerca ENWIP</a><a href="/Enwipweb/Aliados.html" class="otrosTerminos">Aliados ENWIP</a><a href="/Enwipweb/privacidad.html" class="otrosTerminos">Privacidad</a><a href="/Enwipweb/terminos.html" class="otrosTerminos">Terminos de Uso</a><a href="/Enwipweb/PublicidadPrensa.html" class="otrosTerminos">Publicidad y Prensa</a><a href="/Enwipweb/Olaborales.html" class="otrosTerminos">Oportunidades Laborales con ENWIP</a><a href="/Enwipweb/ayuda.html" class="otrosTerminos">Ayuda</a><a href="/Enwipweb/contactenos.html" class="otrosTerminos">Contactenos</a><a href="http://www.enwip.org" target="_blank" class="otrosTerminos">ENWIP Social</a><a href="/Enwipweb/mapadelsitio.html" class="otrosTerminos">Mapa del Sitio</a>
        </div>
        </div>
	        
	        </div><!--general-->
	        

</body>

</html>

